(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();var JA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZA(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var r=function l(){var o=!1;try{o=this instanceof l}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(l){var o=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(r,l,o.get?o:{enumerable:!0,get:function(){return t[l]}})}),r}var qc={exports:{}},el={};var am;function E_(){if(am)return el;am=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:t,type:l,key:c,ref:o!==void 0?o:null,props:u}}return el.Fragment=n,el.jsx=r,el.jsxs=r,el}var lm;function T_(){return lm||(lm=1,qc.exports=E_()),qc.exports}var x=T_(),$c={exports:{}},we={};var sm;function k_(){if(sm)return we;sm=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,z={};function R(A,G,S){this.props=A,this.context=G,this.refs=z,this.updater=S||T}R.prototype.isReactComponent={},R.prototype.setState=function(A,G){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,G,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function L(){}L.prototype=R.prototype;function D(A,G,S){this.props=A,this.context=G,this.refs=z,this.updater=S||T}var Q=D.prototype=new L;Q.constructor=D,C(Q,R.prototype),Q.isPureReactComponent=!0;var te=Array.isArray;function I(){}var X={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function de(A,G,S){var ie=S.ref;return{$$typeof:t,type:A,key:G,ref:ie!==void 0?ie:null,props:S}}function xe(A,G){return de(A.type,G,A.props)}function re(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ne(A){var G={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(S){return G[S]})}var Se=/\/+/g;function oe(A,G){return typeof A=="object"&&A!==null&&A.key!=null?ne(""+A.key):G.toString(36)}function J(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(I,I):(A.status="pending",A.then(function(G){A.status==="pending"&&(A.status="fulfilled",A.value=G)},function(G){A.status==="pending"&&(A.status="rejected",A.reason=G)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function B(A,G,S,ie,pe){var O=typeof A;(O==="undefined"||O==="boolean")&&(A=null);var Z=!1;if(A===null)Z=!0;else switch(O){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(A.$$typeof){case t:case n:Z=!0;break;case m:return Z=A._init,B(Z(A._payload),G,S,ie,pe)}}if(Z)return pe=pe(A),Z=ie===""?"."+oe(A,0):ie,te(pe)?(S="",Z!=null&&(S=Z.replace(Se,"$&/")+"/"),B(pe,G,S,"",function(ze){return ze})):pe!=null&&(re(pe)&&(pe=xe(pe,S+(pe.key==null||A&&A.key===pe.key?"":(""+pe.key).replace(Se,"$&/")+"/")+Z)),G.push(pe)),1;Z=0;var W=ie===""?".":ie+":";if(te(A))for(var ae=0;ae<A.length;ae++)ie=A[ae],O=W+oe(ie,ae),Z+=B(ie,G,S,O,pe);else if(ae=v(A),typeof ae=="function")for(A=ae.call(A),ae=0;!(ie=A.next()).done;)ie=ie.value,O=W+oe(ie,ae++),Z+=B(ie,G,S,O,pe);else if(O==="object"){if(typeof A.then=="function")return B(J(A),G,S,ie,pe);throw G=String(A),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Z}function Y(A,G,S){if(A==null)return A;var ie=[],pe=0;return B(A,ie,"","",function(O){return G.call(S,O,pe++)}),ie}function le(A){if(A._status===-1){var G=A._result;G=G(),G.then(function(S){(A._status===0||A._status===-1)&&(A._status=1,A._result=S)},function(S){(A._status===0||A._status===-1)&&(A._status=2,A._result=S)}),A._status===-1&&(A._status=0,A._result=G)}if(A._status===1)return A._result.default;throw A._result}var Ee=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},E={map:Y,forEach:function(A,G,S){Y(A,function(){G.apply(this,arguments)},S)},count:function(A){var G=0;return Y(A,function(){G++}),G},toArray:function(A){return Y(A,function(G){return G})||[]},only:function(A){if(!re(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return we.Activity=b,we.Children=E,we.Component=R,we.Fragment=r,we.Profiler=o,we.PureComponent=D,we.StrictMode=l,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,we.__COMPILER_RUNTIME={__proto__:null,c:function(A){return X.H.useMemoCache(A)}},we.cache=function(A){return function(){return A.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(A,G,S){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ie=C({},A.props),pe=A.key;if(G!=null)for(O in G.key!==void 0&&(pe=""+G.key),G)!fe.call(G,O)||O==="key"||O==="__self"||O==="__source"||O==="ref"&&G.ref===void 0||(ie[O]=G[O]);var O=arguments.length-2;if(O===1)ie.children=S;else if(1<O){for(var Z=Array(O),W=0;W<O;W++)Z[W]=arguments[W+2];ie.children=Z}return de(A.type,pe,ie)},we.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},we.createElement=function(A,G,S){var ie,pe={},O=null;if(G!=null)for(ie in G.key!==void 0&&(O=""+G.key),G)fe.call(G,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=G[ie]);var Z=arguments.length-2;if(Z===1)pe.children=S;else if(1<Z){for(var W=Array(Z),ae=0;ae<Z;ae++)W[ae]=arguments[ae+2];pe.children=W}if(A&&A.defaultProps)for(ie in Z=A.defaultProps,Z)pe[ie]===void 0&&(pe[ie]=Z[ie]);return de(A,O,pe)},we.createRef=function(){return{current:null}},we.forwardRef=function(A){return{$$typeof:d,render:A}},we.isValidElement=re,we.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:le}},we.memo=function(A,G){return{$$typeof:p,type:A,compare:G===void 0?null:G}},we.startTransition=function(A){var G=X.T,S={};X.T=S;try{var ie=A(),pe=X.S;pe!==null&&pe(S,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(I,Ee)}catch(O){Ee(O)}finally{G!==null&&S.types!==null&&(G.types=S.types),X.T=G}},we.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},we.use=function(A){return X.H.use(A)},we.useActionState=function(A,G,S){return X.H.useActionState(A,G,S)},we.useCallback=function(A,G){return X.H.useCallback(A,G)},we.useContext=function(A){return X.H.useContext(A)},we.useDebugValue=function(){},we.useDeferredValue=function(A,G){return X.H.useDeferredValue(A,G)},we.useEffect=function(A,G){return X.H.useEffect(A,G)},we.useEffectEvent=function(A){return X.H.useEffectEvent(A)},we.useId=function(){return X.H.useId()},we.useImperativeHandle=function(A,G,S){return X.H.useImperativeHandle(A,G,S)},we.useInsertionEffect=function(A,G){return X.H.useInsertionEffect(A,G)},we.useLayoutEffect=function(A,G){return X.H.useLayoutEffect(A,G)},we.useMemo=function(A,G){return X.H.useMemo(A,G)},we.useOptimistic=function(A,G){return X.H.useOptimistic(A,G)},we.useReducer=function(A,G,S){return X.H.useReducer(A,G,S)},we.useRef=function(A){return X.H.useRef(A)},we.useState=function(A){return X.H.useState(A)},we.useSyncExternalStore=function(A,G,S){return X.H.useSyncExternalStore(A,G,S)},we.useTransition=function(){return X.H.useTransition()},we.version="19.2.4",we}var om;function Bh(){return om||(om=1,$c.exports=k_()),$c.exports}var ue=Bh();const ph=Lh(ue);var Gc={exports:{}},tl={},Vc={exports:{}},Kc={};var um;function A_(){return um||(um=1,(function(t){function n(B,Y){var le=B.length;B.push(Y);e:for(;0<le;){var Ee=le-1>>>1,E=B[Ee];if(0<o(E,Y))B[Ee]=Y,B[le]=E,le=Ee;else break e}}function r(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var Y=B[0],le=B.pop();if(le!==Y){B[0]=le;e:for(var Ee=0,E=B.length,A=E>>>1;Ee<A;){var G=2*(Ee+1)-1,S=B[G],ie=G+1,pe=B[ie];if(0>o(S,le))ie<E&&0>o(pe,S)?(B[Ee]=pe,B[ie]=le,Ee=ie):(B[Ee]=S,B[G]=le,Ee=G);else if(ie<E&&0>o(pe,le))B[Ee]=pe,B[ie]=le,Ee=ie;else break e}}return Y}function o(B,Y){var le=B.sortIndex-Y.sortIndex;return le!==0?le:B.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var g=[],p=[],m=1,b=null,_=3,v=!1,T=!1,C=!1,z=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Q(B){for(var Y=r(p);Y!==null;){if(Y.callback===null)l(p);else if(Y.startTime<=B)l(p),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=r(p)}}function te(B){if(C=!1,Q(B),!T)if(r(g)!==null)T=!0,I||(I=!0,ne());else{var Y=r(p);Y!==null&&J(te,Y.startTime-B)}}var I=!1,X=-1,fe=5,de=-1;function xe(){return z?!0:!(t.unstable_now()-de<fe)}function re(){if(z=!1,I){var B=t.unstable_now();de=B;var Y=!0;try{e:{T=!1,C&&(C=!1,L(X),X=-1),v=!0;var le=_;try{t:{for(Q(B),b=r(g);b!==null&&!(b.expirationTime>B&&xe());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,_=b.priorityLevel;var E=Ee(b.expirationTime<=B);if(B=t.unstable_now(),typeof E=="function"){b.callback=E,Q(B),Y=!0;break t}b===r(g)&&l(g),Q(B)}else l(g);b=r(g)}if(b!==null)Y=!0;else{var A=r(p);A!==null&&J(te,A.startTime-B),Y=!1}}break e}finally{b=null,_=le,v=!1}Y=void 0}}finally{Y?ne():I=!1}}}var ne;if(typeof D=="function")ne=function(){D(re)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,oe=Se.port2;Se.port1.onmessage=re,ne=function(){oe.postMessage(null)}}else ne=function(){R(re,0)};function J(B,Y){X=R(function(){B(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(B){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var le=_;_=Y;try{return B()}finally{_=le}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=_;_=B;try{return Y()}finally{_=le}},t.unstable_scheduleCallback=function(B,Y,le){var Ee=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ee+le:Ee):le=Ee,B){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=le+E,B={id:m++,callback:Y,priorityLevel:B,startTime:le,expirationTime:E,sortIndex:-1},le>Ee?(B.sortIndex=le,n(p,B),r(g)===null&&B===r(p)&&(C?(L(X),X=-1):C=!0,J(te,le-Ee))):(B.sortIndex=E,n(g,B),T||v||(T=!0,I||(I=!0,ne()))),B},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(B){var Y=_;return function(){var le=_;_=Y;try{return B.apply(this,arguments)}finally{_=le}}}})(Kc)),Kc}var cm;function C_(){return cm||(cm=1,Vc.exports=A_()),Vc.exports}var Pc={exports:{}},Tt={};var hm;function O_(){if(hm)return Tt;hm=1;var t=Bh();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Tt.createPortal=function(g,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(g,p,null,m)},Tt.flushSync=function(g){var p=c.T,m=l.p;try{if(c.T=null,l.p=2,g)return g()}finally{c.T=p,l.p=m,l.d.f()}},Tt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Tt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Tt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var m=p.as,b=d(m,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:v}):m==="script"&&l.d.X(g,{crossOrigin:b,integrity:_,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=d(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Tt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,b=d(m,p.crossOrigin);l.d.L(g,m,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(g,p){if(typeof g=="string")if(p){var m=d(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Tt.requestFormReset=function(g){l.d.r(g)},Tt.unstable_batchedUpdates=function(g,p){return g(p)},Tt.useFormState=function(g,p,m){return c.H.useFormState(g,p,m)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.4",Tt}var fm;function N_(){if(fm)return Pc.exports;fm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Pc.exports=O_(),Pc.exports}var dm;function R_(){if(dm)return tl;dm=1;var t=C_(),n=Bh(),r=N_();function l(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(l(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(l(188));return i!==e?null:e}for(var a=e,s=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(s=h.return,s!==null){a=s;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===s)return g(h),i;f=f.sibling}throw Error(l(188))}if(a.return!==s.return)a=h,s=f;else{for(var y=!1,w=h.child;w;){if(w===a){y=!0,a=h,s=f;break}if(w===s){y=!0,s=h,a=f;break}w=w.sibling}if(!y){for(w=f.child;w;){if(w===a){y=!0,a=f,s=h;break}if(w===s){y=!0,s=f,a=h;break}w=w.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:i}function m(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=m(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case R:return"Profiler";case z:return"StrictMode";case te:return"Suspense";case I:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case D:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case Q:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case fe:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var J=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ee=[],E=-1;function A(e){return{current:e}}function G(e){0>E||(e.current=Ee[E],Ee[E]=null,E--)}function S(e,i){E++,Ee[E]=e.current,e.current=i}var ie=A(null),pe=A(null),O=A(null),Z=A(null);function W(e,i){switch(S(O,i),S(pe,e),S(ie,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Cg(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Cg(i),e=Og(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(ie),S(ie,e)}function ae(){G(ie),G(pe),G(O)}function ze(e){e.memoizedState!==null&&S(Z,e);var i=ie.current,a=Og(i,e.type);i!==a&&(S(pe,e),S(ie,a))}function et(e){pe.current===e&&(G(ie),G(pe)),Z.current===e&&(G(Z),Qa._currentValue=le)}var Et,Zi;function Rt(e){if(Et===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Et=i&&i[1]||"",Zi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+e+Zi}var Wi=!1;function er(e,i){if(!e||Wi)return"";Wi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(q){var H=q}Reflect.construct(e,[],P)}else{try{P.call()}catch(q){H=q}e.call(P.prototype)}}else{try{throw Error()}catch(q){H=q}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),y=f[0],w=f[1];if(y&&w){var k=y.split(`
`),U=w.split(`
`);for(h=s=0;s<k.length&&!k[s].includes("DetermineComponentFrameRoot");)s++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(s===k.length||h===U.length)for(s=k.length-1,h=U.length-1;1<=s&&0<=h&&k[s]!==U[h];)h--;for(;1<=s&&0<=h;s--,h--)if(k[s]!==U[h]){if(s!==1||h!==1)do if(s--,h--,0>h||k[s]!==U[h]){var $=`
`+k[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=h);break}}}finally{Wi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Rt(a):""}function jl(e,i){switch(e.tag){case 26:case 27:case 5:return Rt(e.type);case 16:return Rt("Lazy");case 13:return e.child!==i&&i!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Rt("Activity");default:return""}}function Dl(e){try{var i="",a=null;do i+=jl(e,a),a=e,e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var tr=Object.prototype.hasOwnProperty,nr=t.unstable_scheduleCallback,oa=t.unstable_cancelCallback,ko=t.unstable_shouldYield,Ao=t.unstable_requestPaint,Ct=t.unstable_now,Co=t.unstable_getCurrentPriorityLevel,V=t.unstable_ImmediatePriority,ee=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,Ce=t.unstable_LowPriority,He=t.unstable_IdlePriority,Gt=t.log,An=t.unstable_setDisableYieldValue,Ot=null,ft=null;function jt(e){if(typeof Gt=="function"&&An(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Ot,e)}catch{}}var Pe=Math.clz32?Math.clz32:cv,Xn=Math.log,dn=Math.LN2;function cv(e){return e>>>=0,e===0?32:31-(Xn(e)/dn|0)|0}var zl=256,Ml=262144,Ul=4194304;function ki(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ll(e,i,a){var s=e.pendingLanes;if(s===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=s&134217727;return w!==0?(s=w&~f,s!==0?h=ki(s):(y&=w,y!==0?h=ki(y):a||(a=w&~e,a!==0&&(h=ki(a))))):(w=s&~f,w!==0?h=ki(w):y!==0?h=ki(y):a||(a=s&~e,a!==0&&(h=ki(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function ua(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function hv(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uf(){var e=Ul;return Ul<<=1,(Ul&62914560)===0&&(Ul=4194304),e}function Oo(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ca(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fv(e,i,a,s,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,k=e.expirationTimes,U=e.hiddenUpdates;for(a=y&~a;0<a;){var $=31-Pe(a),P=1<<$;w[$]=0,k[$]=-1;var H=U[$];if(H!==null)for(U[$]=null,$=0;$<H.length;$++){var q=H[$];q!==null&&(q.lane&=-536870913)}a&=~P}s!==0&&cf(e,s,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function cf(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var s=31-Pe(i);e.entangledLanes|=i,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function hf(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var s=31-Pe(a),h=1<<s;h&i|e[s]&i&&(e[s]|=i),a&=~h}}function ff(e,i){var a=i&-i;return a=(a&42)!==0?1:No(a),(a&(e.suspendedLanes|i))!==0?0:a}function No(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ro(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function df(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Zg(e.type))}function pf(e,i){var a=Y.p;try{return Y.p=e,i()}finally{Y.p=a}}var Fn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Fn,Dt="__reactProps$"+Fn,ir="__reactContainer$"+Fn,jo="__reactEvents$"+Fn,dv="__reactListeners$"+Fn,pv="__reactHandles$"+Fn,gf="__reactResources$"+Fn,ha="__reactMarker$"+Fn;function Do(e){delete e[yt],delete e[Dt],delete e[jo],delete e[dv],delete e[pv]}function rr(e){var i=e[yt];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ir]||a[yt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Ug(e);e!==null;){if(a=e[yt])return a;e=Ug(e)}return i}e=a,a=e.parentNode}return null}function ar(e){if(e=e[yt]||e[ir]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function fa(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(l(33))}function lr(e){var i=e[gf];return i||(i=e[gf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(e){e[ha]=!0}var mf=new Set,yf={};function Ai(e,i){sr(e,i),sr(e+"Capture",i)}function sr(e,i){for(yf[e]=i,e=0;e<i.length;e++)mf.add(i[e])}var gv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vf={},bf={};function mv(e){return tr.call(bf,e)?!0:tr.call(vf,e)?!1:gv.test(e)?bf[e]=!0:(vf[e]=!0,!1)}function Bl(e,i,a){if(mv(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Il(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Cn(e,i,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+s)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _f(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yv(e,i,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function zo(e){if(!e._valueTracker){var i=_f(e)?"checked":"value";e._valueTracker=yv(e,i,""+e[i])}}function xf(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),s="";return e&&(s=_f(e)?e.checked?"true":"false":e.value),e=s,e!==a?(i.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vv=/[\n"\\]/g;function nn(e){return e.replace(vv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Mo(e,i,a,s,h,f,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Uo(e,y,tn(i)):a!=null?Uo(e,y,tn(a)):s!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+tn(w):e.removeAttribute("name")}function wf(e,i,a,s,h,f,y,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){zo(e);return}a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,w||i===e.value||(e.value=i),e.defaultValue=i}s=s??h,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=w?e.checked:!!s,e.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),zo(e)}function Uo(e,i,a){i==="number"&&Hl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function or(e,i,a,s){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&s&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,s&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Sf(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function Ef(e,i,a,s){if(i==null){if(s!=null){if(a!=null)throw Error(l(92));if(J(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),zo(e)}function ur(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var bv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tf(e,i,a){var s=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":s?e.setProperty(i,a):typeof a!="number"||a===0||bv.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function kf(e,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var h in i)s=i[h],i.hasOwnProperty(h)&&a[h]!==s&&Tf(e,h,s)}else for(var f in i)i.hasOwnProperty(f)&&Tf(e,f,i[f])}function Lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _v=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ql(e){return xv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function On(){}var Bo=null;function Io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,hr=null;function Af(e){var i=ar(e);if(i&&(e=i.stateNode)){var a=e[Dt]||null;e:switch(e=i.stateNode,i.type){case"input":if(Mo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var s=a[i];if(s!==e&&s.form===e.form){var h=s[Dt]||null;if(!h)throw Error(l(90));Mo(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)s=a[i],s.form===e.form&&xf(s)}break e;case"textarea":Sf(e,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&or(e,!!a.multiple,i,!1)}}}var Ho=!1;function Cf(e,i,a){if(Ho)return e(i,a);Ho=!0;try{var s=e(i);return s}finally{if(Ho=!1,(cr!==null||hr!==null)&&(Cs(),cr&&(i=cr,e=hr,hr=cr=null,Af(i),e)))for(i=0;i<e.length;i++)Af(e[i])}}function da(e,i){var a=e.stateNode;if(a===null)return null;var s=a[Dt]||null;if(s===null)return null;a=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=!1;if(Nn)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){qo=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{qo=!1}var Qn=null,$o=null,$l=null;function Of(){if($l)return $l;var e,i=$o,a=i.length,s,h="value"in Qn?Qn.value:Qn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(s=1;s<=y&&i[a-s]===h[f-s];s++);return $l=h.slice(e,1<s?1-s:void 0)}function Gl(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function Nf(){return!1}function zt(e){function i(a,s,h,f,y){this._reactName=a,this._targetInst=h,this.type=s,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vl:Nf,this.isPropagationStopped=Nf,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),i}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=zt(Ci),ga=b({},Ci,{view:0,detail:0}),wv=zt(ga),Go,Vo,ma,Pl=b({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ma&&(ma&&e.type==="mousemove"?(Go=e.screenX-ma.screenX,Vo=e.screenY-ma.screenY):Vo=Go=0,ma=e),Go)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),Rf=zt(Pl),Sv=b({},Pl,{dataTransfer:0}),Ev=zt(Sv),Tv=b({},ga,{relatedTarget:0}),Ko=zt(Tv),kv=b({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Av=zt(kv),Cv=b({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ov=zt(Cv),Nv=b({},Ci,{data:0}),jf=zt(Nv),Rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zv(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Dv[e])?!!i[e]:!1}function Po(){return zv}var Mv=b({},ga,{key:function(e){if(e.key){var i=Rv[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uv=zt(Mv),Lv=b({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=zt(Lv),Bv=b({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),Iv=zt(Bv),Hv=b({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),qv=zt(Hv),$v=b({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gv=zt($v),Vv=b({},Ci,{newState:0,oldState:0}),Kv=zt(Vv),Pv=[9,13,27,32],Yo=Nn&&"CompositionEvent"in window,ya=null;Nn&&"documentMode"in document&&(ya=document.documentMode);var Yv=Nn&&"TextEvent"in window&&!ya,zf=Nn&&(!Yo||ya&&8<ya&&11>=ya),Mf=" ",Uf=!1;function Lf(e,i){switch(e){case"keyup":return Pv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function Xv(e,i){switch(e){case"compositionend":return Bf(i);case"keypress":return i.which!==32?null:(Uf=!0,Mf);case"textInput":return e=i.data,e===Mf&&Uf?null:e;default:return null}}function Fv(e,i){if(fr)return e==="compositionend"||!Yo&&Lf(e,i)?(e=Of(),$l=$o=Qn=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zf&&i.locale!=="ko"?null:i.data;default:return null}}var Qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Qv[e.type]:i==="textarea"}function Hf(e,i,a,s){cr?hr?hr.push(s):hr=[s]:cr=s,i=Ms(i,"onChange"),0<i.length&&(a=new Kl("onChange","change",null,a,s),e.push({event:a,listeners:i}))}var va=null,ba=null;function Jv(e){wg(e,0)}function Yl(e){var i=fa(e);if(xf(i))return e}function qf(e,i){if(e==="change")return i}var $f=!1;if(Nn){var Xo;if(Nn){var Fo="oninput"in document;if(!Fo){var Gf=document.createElement("div");Gf.setAttribute("oninput","return;"),Fo=typeof Gf.oninput=="function"}Xo=Fo}else Xo=!1;$f=Xo&&(!document.documentMode||9<document.documentMode)}function Vf(){va&&(va.detachEvent("onpropertychange",Kf),ba=va=null)}function Kf(e){if(e.propertyName==="value"&&Yl(ba)){var i=[];Hf(i,ba,e,Io(e)),Cf(Jv,i)}}function Zv(e,i,a){e==="focusin"?(Vf(),va=i,ba=a,va.attachEvent("onpropertychange",Kf)):e==="focusout"&&Vf()}function Wv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(ba)}function eb(e,i){if(e==="click")return Yl(i)}function tb(e,i){if(e==="input"||e==="change")return Yl(i)}function nb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Vt=typeof Object.is=="function"?Object.is:nb;function _a(e,i){if(Vt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),s=Object.keys(i);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var h=a[s];if(!tr.call(i,h)||!Vt(e[h],i[h]))return!1}return!0}function Pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yf(e,i){var a=Pf(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=i&&s>=i)return{node:a,offset:i-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pf(a)}}function Xf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Xf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ff(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Hl(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Hl(e.document)}return i}function Qo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ib=Nn&&"documentMode"in document&&11>=document.documentMode,dr=null,Jo=null,xa=null,Zo=!1;function Qf(e,i,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zo||dr==null||dr!==Hl(s)||(s=dr,"selectionStart"in s&&Qo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xa&&_a(xa,s)||(xa=s,s=Ms(Jo,"onSelect"),0<s.length&&(i=new Kl("onSelect","select",null,i,a),e.push({event:i,listeners:s}),i.target=dr)))}function Oi(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var pr={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Wo={},Jf={};Nn&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Ni(e){if(Wo[e])return Wo[e];if(!pr[e])return e;var i=pr[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jf)return Wo[e]=i[a];return e}var Zf=Ni("animationend"),Wf=Ni("animationiteration"),ed=Ni("animationstart"),rb=Ni("transitionrun"),ab=Ni("transitionstart"),lb=Ni("transitioncancel"),td=Ni("transitionend"),nd=new Map,eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eu.push("scrollEnd");function pn(e,i){nd.set(e,i),Ai(i,[e])}var Xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rn=[],gr=0,tu=0;function Fl(){for(var e=gr,i=tu=gr=0;i<e;){var a=rn[i];rn[i++]=null;var s=rn[i];rn[i++]=null;var h=rn[i];rn[i++]=null;var f=rn[i];if(rn[i++]=null,s!==null&&h!==null){var y=s.pending;y===null?h.next=h:(h.next=y.next,y.next=h),s.pending=h}f!==0&&id(a,h,f)}}function Ql(e,i,a,s){rn[gr++]=e,rn[gr++]=i,rn[gr++]=a,rn[gr++]=s,tu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function nu(e,i,a,s){return Ql(e,i,a,s),Jl(e)}function Ri(e,i){return Ql(e,null,null,i),Jl(e)}function id(e,i,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,s=f.alternate,s!==null&&(s.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Pe(a),e=f.hiddenUpdates,s=e[h],s===null?e[h]=[i]:s.push(i),i.lane=a|536870912),f):null}function Jl(e){if(50<Ga)throw Ga=0,hc=null,Error(l(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var mr={};function sb(e,i,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,i,a,s){return new sb(e,i,a,s)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,i){var a=e.alternate;return a===null?(a=Kt(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function rd(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Zl(e,i,a,s,h,f){var y=0;if(s=e,typeof e=="function")iu(e)&&(y=1);else if(typeof e=="string")y=f_(e,a,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Kt(31,a,i,h),e.elementType=de,e.lanes=f,e;case C:return ji(a.children,h,f,i);case z:y=8,h|=24;break;case R:return e=Kt(12,a,i,h|2),e.elementType=R,e.lanes=f,e;case te:return e=Kt(13,a,i,h),e.elementType=te,e.lanes=f,e;case I:return e=Kt(19,a,i,h),e.elementType=I,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:y=10;break e;case L:y=9;break e;case Q:y=11;break e;case X:y=14;break e;case fe:y=16,s=null;break e}y=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return i=Kt(y,a,i,h),i.elementType=e,i.type=s,i.lanes=f,i}function ji(e,i,a,s){return e=Kt(7,e,s,i),e.lanes=a,e}function ru(e,i,a){return e=Kt(6,e,null,i),e.lanes=a,e}function ad(e){var i=Kt(18,null,null,0);return i.stateNode=e,i}function au(e,i,a){return i=Kt(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ld=new WeakMap;function an(e,i){if(typeof e=="object"&&e!==null){var a=ld.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Dl(i)},ld.set(e,i),i)}return{value:e,source:i,stack:Dl(i)}}var yr=[],vr=0,Wl=null,wa=0,ln=[],sn=0,Jn=null,_n=1,xn="";function jn(e,i){yr[vr++]=wa,yr[vr++]=Wl,Wl=e,wa=i}function sd(e,i,a){ln[sn++]=_n,ln[sn++]=xn,ln[sn++]=Jn,Jn=e;var s=_n;e=xn;var h=32-Pe(s)-1;s&=~(1<<h),a+=1;var f=32-Pe(i)+h;if(30<f){var y=h-h%5;f=(s&(1<<y)-1).toString(32),s>>=y,h-=y,_n=1<<32-Pe(i)+h|a<<h|s,xn=f+e}else _n=1<<f|a<<h|s,xn=e}function lu(e){e.return!==null&&(jn(e,1),sd(e,1,0))}function su(e){for(;e===Wl;)Wl=yr[--vr],yr[vr]=null,wa=yr[--vr],yr[vr]=null;for(;e===Jn;)Jn=ln[--sn],ln[sn]=null,xn=ln[--sn],ln[sn]=null,_n=ln[--sn],ln[sn]=null}function od(e,i){ln[sn++]=_n,ln[sn++]=xn,ln[sn++]=Jn,_n=i.id,xn=i.overflow,Jn=e}var vt=null,Je=null,De=!1,Zn=null,on=!1,ou=Error(l(519));function Wn(e){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sa(an(i,e)),ou}function ud(e){var i=e.stateNode,a=e.type,s=e.memoizedProps;switch(i[yt]=e,i[Dt]=s,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Ka.length;a++)Ne(Ka[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),wf(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Ef(i,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||s.suppressHydrationWarning===!0||kg(i.textContent,a)?(s.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),s.onScroll!=null&&Ne("scroll",i),s.onScrollEnd!=null&&Ne("scrollend",i),s.onClick!=null&&(i.onclick=On),i=!0):i=!1,i||Wn(e,!0)}function cd(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:vt=vt.return}}function br(e){if(e!==vt)return!1;if(!De)return cd(e),De=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kc(e.type,e.memoizedProps)),a=!a),a&&Je&&Wn(e),cd(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Je=Mg(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Je=Mg(e)}else i===27?(i=Je,di(e.type)?(e=Rc,Rc=null,Je=e):Je=i):Je=vt?cn(e.stateNode.nextSibling):null;return!0}function Di(){Je=vt=null,De=!1}function uu(){var e=Zn;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),Zn=null),e}function Sa(e){Zn===null?Zn=[e]:Zn.push(e)}var cu=A(null),zi=null,Dn=null;function ei(e,i,a){S(cu,i._currentValue),i._currentValue=a}function zn(e){e._currentValue=cu.current,G(cu)}function hu(e,i,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),e===a)break;e=e.return}}function fu(e,i,a,s){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=h;for(var k=0;k<i.length;k++)if(w.context===i[k]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),hu(f.return,a,e),s||(y=null);break e}f=w.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(l(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),hu(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function _r(e,i,a,s){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var w=h.type;Vt(h.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(h===Z.current){if(y=h.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Qa):e=[Qa])}h=h.return}e!==null&&fu(i,e,a,s),i.flags|=262144}function es(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mi(e){zi=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bt(e){return hd(zi,e)}function ts(e,i){return zi===null&&Mi(e),hd(e,i)}function hd(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Dn===null){if(e===null)throw Error(l(308));Dn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Dn=Dn.next=i;return a}var ob=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},ub=t.unstable_scheduleCallback,cb=t.unstable_NormalPriority,lt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function du(){return{controller:new ob,data:new Map,refCount:0}}function Ea(e){e.refCount--,e.refCount===0&&ub(cb,function(){e.controller.abort()})}var Ta=null,pu=0,xr=0,wr=null;function hb(e,i){if(Ta===null){var a=Ta=[];pu=0,xr=yc(),wr={status:"pending",value:void 0,then:function(s){a.push(s)}}}return pu++,i.then(fd,fd),i}function fd(){if(--pu===0&&Ta!==null){wr!==null&&(wr.status="fulfilled");var e=Ta;Ta=null,xr=0,wr=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function fb(e,i){var a=[],s={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){s.status="fulfilled",s.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(s.status="rejected",s.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),s}var dd=B.S;B.S=function(e,i){Qp=Ct(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&hb(e,i),dd!==null&&dd(e,i)};var Ui=A(null);function gu(){var e=Ui.current;return e!==null?e:Ye.pooledCache}function ns(e,i){i===null?S(Ui,Ui.current):S(Ui,i.pool)}function pd(){var e=gu();return e===null?null:{parent:lt._currentValue,pool:e}}var Sr=Error(l(460)),mu=Error(l(474)),is=Error(l(542)),rs={then:function(){}};function gd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function md(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(On,On),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vd(e),e;default:if(typeof i.status=="string")i.then(On,On);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=i,e.status="pending",e.then(function(s){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=s}},function(s){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vd(e),e}throw Bi=i,Sr}}function Li(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bi=a,Sr):a}}var Bi=null;function yd(){if(Bi===null)throw Error(l(459));var e=Bi;return Bi=null,e}function vd(e){if(e===Sr||e===is)throw Error(l(483))}var Er=null,ka=0;function as(e){var i=ka;return ka+=1,Er===null&&(Er=[]),md(Er,e,i)}function Aa(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ls(e,i){throw i.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(i),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function bd(e){function i(j,N){if(e){var M=j.deletions;M===null?(j.deletions=[N],j.flags|=16):M.push(N)}}function a(j,N){if(!e)return null;for(;N!==null;)i(j,N),N=N.sibling;return null}function s(j){for(var N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function h(j,N){return j=Rn(j,N),j.index=0,j.sibling=null,j}function f(j,N,M){return j.index=M,e?(M=j.alternate,M!==null?(M=M.index,M<N?(j.flags|=67108866,N):M):(j.flags|=67108866,N)):(j.flags|=1048576,N)}function y(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function w(j,N,M,K){return N===null||N.tag!==6?(N=ru(M,j.mode,K),N.return=j,N):(N=h(N,M),N.return=j,N)}function k(j,N,M,K){var ge=M.type;return ge===C?$(j,N,M.props.children,K,M.key):N!==null&&(N.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===fe&&Li(ge)===N.type)?(N=h(N,M.props),Aa(N,M),N.return=j,N):(N=Zl(M.type,M.key,M.props,null,j.mode,K),Aa(N,M),N.return=j,N)}function U(j,N,M,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==M.containerInfo||N.stateNode.implementation!==M.implementation?(N=au(M,j.mode,K),N.return=j,N):(N=h(N,M.children||[]),N.return=j,N)}function $(j,N,M,K,ge){return N===null||N.tag!==7?(N=ji(M,j.mode,K,ge),N.return=j,N):(N=h(N,M),N.return=j,N)}function P(j,N,M){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ru(""+N,j.mode,M),N.return=j,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case v:return M=Zl(N.type,N.key,N.props,null,j.mode,M),Aa(M,N),M.return=j,M;case T:return N=au(N,j.mode,M),N.return=j,N;case fe:return N=Li(N),P(j,N,M)}if(J(N)||ne(N))return N=ji(N,j.mode,M,null),N.return=j,N;if(typeof N.then=="function")return P(j,as(N),M);if(N.$$typeof===D)return P(j,ts(j,N),M);ls(j,N)}return null}function H(j,N,M,K){var ge=N!==null?N.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ge!==null?null:w(j,N,""+M,K);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return M.key===ge?k(j,N,M,K):null;case T:return M.key===ge?U(j,N,M,K):null;case fe:return M=Li(M),H(j,N,M,K)}if(J(M)||ne(M))return ge!==null?null:$(j,N,M,K,null);if(typeof M.then=="function")return H(j,N,as(M),K);if(M.$$typeof===D)return H(j,N,ts(j,M),K);ls(j,M)}return null}function q(j,N,M,K,ge){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(M)||null,w(N,j,""+K,ge);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return j=j.get(K.key===null?M:K.key)||null,k(N,j,K,ge);case T:return j=j.get(K.key===null?M:K.key)||null,U(N,j,K,ge);case fe:return K=Li(K),q(j,N,M,K,ge)}if(J(K)||ne(K))return j=j.get(M)||null,$(N,j,K,ge,null);if(typeof K.then=="function")return q(j,N,M,as(K),ge);if(K.$$typeof===D)return q(j,N,M,ts(N,K),ge);ls(N,K)}return null}function se(j,N,M,K){for(var ge=null,Ue=null,ce=N,ke=N=0,je=null;ce!==null&&ke<M.length;ke++){ce.index>ke?(je=ce,ce=null):je=ce.sibling;var Le=H(j,ce,M[ke],K);if(Le===null){ce===null&&(ce=je);break}e&&ce&&Le.alternate===null&&i(j,ce),N=f(Le,N,ke),Ue===null?ge=Le:Ue.sibling=Le,Ue=Le,ce=je}if(ke===M.length)return a(j,ce),De&&jn(j,ke),ge;if(ce===null){for(;ke<M.length;ke++)ce=P(j,M[ke],K),ce!==null&&(N=f(ce,N,ke),Ue===null?ge=ce:Ue.sibling=ce,Ue=ce);return De&&jn(j,ke),ge}for(ce=s(ce);ke<M.length;ke++)je=q(ce,j,ke,M[ke],K),je!==null&&(e&&je.alternate!==null&&ce.delete(je.key===null?ke:je.key),N=f(je,N,ke),Ue===null?ge=je:Ue.sibling=je,Ue=je);return e&&ce.forEach(function(vi){return i(j,vi)}),De&&jn(j,ke),ge}function me(j,N,M,K){if(M==null)throw Error(l(151));for(var ge=null,Ue=null,ce=N,ke=N=0,je=null,Le=M.next();ce!==null&&!Le.done;ke++,Le=M.next()){ce.index>ke?(je=ce,ce=null):je=ce.sibling;var vi=H(j,ce,Le.value,K);if(vi===null){ce===null&&(ce=je);break}e&&ce&&vi.alternate===null&&i(j,ce),N=f(vi,N,ke),Ue===null?ge=vi:Ue.sibling=vi,Ue=vi,ce=je}if(Le.done)return a(j,ce),De&&jn(j,ke),ge;if(ce===null){for(;!Le.done;ke++,Le=M.next())Le=P(j,Le.value,K),Le!==null&&(N=f(Le,N,ke),Ue===null?ge=Le:Ue.sibling=Le,Ue=Le);return De&&jn(j,ke),ge}for(ce=s(ce);!Le.done;ke++,Le=M.next())Le=q(ce,j,ke,Le.value,K),Le!==null&&(e&&Le.alternate!==null&&ce.delete(Le.key===null?ke:Le.key),N=f(Le,N,ke),Ue===null?ge=Le:Ue.sibling=Le,Ue=Le);return e&&ce.forEach(function(S_){return i(j,S_)}),De&&jn(j,ke),ge}function Ke(j,N,M,K){if(typeof M=="object"&&M!==null&&M.type===C&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case v:e:{for(var ge=M.key;N!==null;){if(N.key===ge){if(ge=M.type,ge===C){if(N.tag===7){a(j,N.sibling),K=h(N,M.props.children),K.return=j,j=K;break e}}else if(N.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===fe&&Li(ge)===N.type){a(j,N.sibling),K=h(N,M.props),Aa(K,M),K.return=j,j=K;break e}a(j,N);break}else i(j,N);N=N.sibling}M.type===C?(K=ji(M.props.children,j.mode,K,M.key),K.return=j,j=K):(K=Zl(M.type,M.key,M.props,null,j.mode,K),Aa(K,M),K.return=j,j=K)}return y(j);case T:e:{for(ge=M.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===M.containerInfo&&N.stateNode.implementation===M.implementation){a(j,N.sibling),K=h(N,M.children||[]),K.return=j,j=K;break e}else{a(j,N);break}else i(j,N);N=N.sibling}K=au(M,j.mode,K),K.return=j,j=K}return y(j);case fe:return M=Li(M),Ke(j,N,M,K)}if(J(M))return se(j,N,M,K);if(ne(M)){if(ge=ne(M),typeof ge!="function")throw Error(l(150));return M=ge.call(M),me(j,N,M,K)}if(typeof M.then=="function")return Ke(j,N,as(M),K);if(M.$$typeof===D)return Ke(j,N,ts(j,M),K);ls(j,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,N!==null&&N.tag===6?(a(j,N.sibling),K=h(N,M),K.return=j,j=K):(a(j,N),K=ru(M,j.mode,K),K.return=j,j=K),y(j)):a(j,N)}return function(j,N,M,K){try{ka=0;var ge=Ke(j,N,M,K);return Er=null,ge}catch(ce){if(ce===Sr||ce===is)throw ce;var Ue=Kt(29,ce,null,j.mode);return Ue.lanes=K,Ue.return=j,Ue}}}var Ii=bd(!0),_d=bd(!1),ti=!1;function yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,i,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Be&2)!==0){var h=s.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),s.pending=i,i=Jl(e),id(e,null,a),i}return Ql(e,s,i,a),Jl(e)}function Ca(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var s=i.lanes;s&=e.pendingLanes,a|=s,i.lanes=a,hf(e,a)}}function bu(e,i){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _u=!1;function Oa(){if(_u){var e=wr;if(e!==null)throw e}}function Na(e,i,a,s){_u=!1;var h=e.updateQueue;ti=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var k=w,U=k.next;k.next=null,y===null?f=U:y.next=U,y=k;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==y&&(w===null?$.firstBaseUpdate=U:w.next=U,$.lastBaseUpdate=k))}if(f!==null){var P=h.baseState;y=0,$=U=k=null,w=f;do{var H=w.lane&-536870913,q=H!==w.lane;if(q?(Re&H)===H:(s&H)===H){H!==0&&H===xr&&(_u=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var se=e,me=w;H=i;var Ke=a;switch(me.tag){case 1:if(se=me.payload,typeof se=="function"){P=se.call(Ke,P,H);break e}P=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=me.payload,H=typeof se=="function"?se.call(Ke,P,H):se,H==null)break e;P=b({},P,H);break e;case 2:ti=!0}}H=w.callback,H!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[H]:q.push(H))}else q={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(U=$=q,k=P):$=$.next=q,y|=H;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;q=w,w=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);$===null&&(k=P),h.baseState=k,h.firstBaseUpdate=U,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),oi|=y,e.lanes=y,e.memoizedState=P}}function xd(e,i){if(typeof e!="function")throw Error(l(191,e));e.call(i)}function wd(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xd(a[e],i)}var Tr=A(null),ss=A(0);function Sd(e,i){e=Gn,S(ss,e),S(Tr,i),Gn=e|i.baseLanes}function xu(){S(ss,Gn),S(Tr,Tr.current)}function wu(){Gn=ss.current,G(Tr),G(ss)}var Pt=A(null),un=null;function ri(e){var i=e.alternate;S(rt,rt.current&1),S(Pt,e),un===null&&(i===null||Tr.current!==null||i.memoizedState!==null)&&(un=e)}function Su(e){S(rt,rt.current),S(Pt,e),un===null&&(un=e)}function Ed(e){e.tag===22?(S(rt,rt.current),S(Pt,e),un===null&&(un=e)):ai()}function ai(){S(rt,rt.current),S(Pt,Pt.current)}function Yt(e){G(Pt),un===e&&(un=null),G(rt)}var rt=A(0);function os(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Oc(a)||Nc(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mn=0,Te=null,Ge=null,st=null,us=!1,kr=!1,Hi=!1,cs=0,Ra=0,Ar=null,db=0;function tt(){throw Error(l(321))}function Eu(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Vt(e[a],i[a]))return!1;return!0}function Tu(e,i,a,s,h,f){return Mn=f,Te=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?sp:Hu,Hi=!1,f=a(s,h),Hi=!1,kr&&(f=kd(i,a,s,h)),Td(e),f}function Td(e){B.H=za;var i=Ge!==null&&Ge.next!==null;if(Mn=0,st=Ge=Te=null,us=!1,Ra=0,Ar=null,i)throw Error(l(300));e===null||ot||(e=e.dependencies,e!==null&&es(e)&&(ot=!0))}function kd(e,i,a,s){Te=e;var h=0;do{if(kr&&(Ar=null),Ra=0,kr=!1,25<=h)throw Error(l(301));if(h+=1,st=Ge=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=op,f=i(a,s)}while(kr);return f}function pb(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?ja(i):i,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(Te.flags|=1024),i}function ku(){var e=cs!==0;return cs=0,e}function Au(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Cu(e){if(us){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}us=!1}Mn=0,st=Ge=Te=null,kr=!1,Ra=cs=0,Ar=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Te.memoizedState=st=e:st=st.next=e,st}function at(){if(Ge===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var i=st===null?Te.memoizedState:st.next;if(i!==null)st=i,Ge=e;else{if(e===null)throw Te.alternate===null?Error(l(467)):Error(l(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},st===null?Te.memoizedState=st=e:st=st.next=e}return st}function hs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ja(e){var i=Ra;return Ra+=1,Ar===null&&(Ar=[]),e=md(Ar,e,i),i=Te,(st===null?i.memoizedState:st.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?sp:Hu),e}function fs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ja(e);if(e.$$typeof===D)return bt(e)}throw Error(l(438,String(e)))}function Ou(e){var i=null,a=Te.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var s=Te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hs(),Te.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),s=0;s<e;s++)a[s]=xe;return i.index++,a}function Un(e,i){return typeof i=="function"?i(e):i}function ds(e){var i=at();return Nu(i,Ge,e)}function Nu(e,i,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var h=e.baseQueue,f=s.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,s.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var w=y=null,k=null,U=i,$=!1;do{var P=U.lane&-536870913;if(P!==U.lane?(Re&P)===P:(Mn&P)===P){var H=U.revertLane;if(H===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),P===xr&&($=!0);else if((Mn&H)===H){U=U.next,H===xr&&($=!0);continue}else P={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(w=k=P,y=f):k=k.next=P,Te.lanes|=H,oi|=H;P=U.action,Hi&&a(f,P),f=U.hasEagerState?U.eagerState:a(f,P)}else H={lane:P,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(w=k=H,y=f):k=k.next=H,Te.lanes|=P,oi|=P;U=U.next}while(U!==null&&U!==i);if(k===null?y=f:k.next=w,!Vt(f,e.memoizedState)&&(ot=!0,$&&(a=wr,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=k,s.lastRenderedState=f}return h===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ru(e){var i=at(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Vt(f,i.memoizedState)||(ot=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,s]}function Ad(e,i,a){var s=Te,h=at(),f=De;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=i();var y=!Vt((Ge||h).memoizedState,a);if(y&&(h.memoizedState=a,ot=!0),h=h.queue,zu(Nd.bind(null,s,h,e),[e]),h.getSnapshot!==i||y||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,Cr(9,{destroy:void 0},Od.bind(null,s,h,a,i),null),Ye===null)throw Error(l(349));f||(Mn&127)!==0||Cd(s,i,a)}return a}function Cd(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Te.updateQueue,i===null?(i=hs(),Te.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Od(e,i,a,s){i.value=a,i.getSnapshot=s,Rd(i)&&jd(e)}function Nd(e,i,a){return a(function(){Rd(i)&&jd(e)})}function Rd(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Vt(e,a)}catch{return!0}}function jd(e){var i=Ri(e,2);i!==null&&It(i,e,2)}function ju(e){var i=Nt();if(typeof e=="function"){var a=e;if(e=a(),Hi){jt(!0);try{a()}finally{jt(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},i}function Dd(e,i,a,s){return e.baseState=a,Nu(e,Ge,typeof s=="function"?s:Un)}function gb(e,i,a,s,h){if(ms(e))throw Error(l(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};B.T!==null?a(!0):f.isTransition=!1,s(f),a=i.pending,a===null?(f.next=i.pending=f,zd(i,f)):(f.next=a.next,i.pending=a.next=f)}}function zd(e,i){var a=i.action,s=i.payload,h=e.state;if(i.isTransition){var f=B.T,y={};B.T=y;try{var w=a(h,s),k=B.S;k!==null&&k(y,w),Md(e,i,w)}catch(U){Du(e,i,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),B.T=f}}else try{f=a(h,s),Md(e,i,f)}catch(U){Du(e,i,U)}}function Md(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Ud(e,i,s)},function(s){return Du(e,i,s)}):Ud(e,i,a)}function Ud(e,i,a){i.status="fulfilled",i.value=a,Ld(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,zd(e,a)))}function Du(e,i,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=a,Ld(i),i=i.next;while(i!==s)}e.action=null}function Ld(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Bd(e,i){return i}function Id(e,i){if(De){var a=Ye.formState;if(a!==null){e:{var s=Te;if(De){if(Je){t:{for(var h=Je,f=on;h.nodeType!==8;){if(!f){h=null;break t}if(h=cn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Je=cn(h.nextSibling),s=h.data==="F!";break e}}Wn(s)}s=!1}s&&(i=a[0])}}return a=Nt(),a.memoizedState=a.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:i},a.queue=s,a=rp.bind(null,Te,s),s.dispatch=a,s=ju(!1),f=Iu.bind(null,Te,!1,s.queue),s=Nt(),h={state:i,dispatch:null,action:e,pending:null},s.queue=h,a=gb.bind(null,Te,h,f,a),h.dispatch=a,s.memoizedState=e,[i,a,!1]}function Hd(e){var i=at();return qd(i,Ge,e)}function qd(e,i,a){if(i=Nu(e,i,Bd)[0],e=ds(Un)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=ja(i)}catch(y){throw y===Sr?is:y}else s=i;i=at();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Te.flags|=2048,Cr(9,{destroy:void 0},mb.bind(null,h,a),null)),[s,f,e]}function mb(e,i){e.action=i}function $d(e){var i=at(),a=Ge;if(a!==null)return qd(i,a,e);at(),i=i.memoizedState,a=at();var s=a.queue.dispatch;return a.memoizedState=e,[i,s,!1]}function Cr(e,i,a,s){return e={tag:e,create:a,deps:s,inst:i,next:null},i=Te.updateQueue,i===null&&(i=hs(),Te.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,i.lastEffect=e),e}function Gd(){return at().memoizedState}function ps(e,i,a,s){var h=Nt();Te.flags|=e,h.memoizedState=Cr(1|i,{destroy:void 0},a,s===void 0?null:s)}function gs(e,i,a,s){var h=at();s=s===void 0?null:s;var f=h.memoizedState.inst;Ge!==null&&s!==null&&Eu(s,Ge.memoizedState.deps)?h.memoizedState=Cr(i,f,a,s):(Te.flags|=e,h.memoizedState=Cr(1|i,f,a,s))}function Vd(e,i){ps(8390656,8,e,i)}function zu(e,i){gs(2048,8,e,i)}function yb(e){Te.flags|=4;var i=Te.updateQueue;if(i===null)i=hs(),Te.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Kd(e){var i=at().memoizedState;return yb({ref:i,nextImpl:e}),function(){if((Be&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function Pd(e,i){return gs(4,2,e,i)}function Yd(e,i){return gs(4,4,e,i)}function Xd(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Fd(e,i,a){a=a!=null?a.concat([e]):null,gs(4,4,Xd.bind(null,i,e),a)}function Mu(){}function Qd(e,i){var a=at();i=i===void 0?null:i;var s=a.memoizedState;return i!==null&&Eu(i,s[1])?s[0]:(a.memoizedState=[e,i],e)}function Jd(e,i){var a=at();i=i===void 0?null:i;var s=a.memoizedState;if(i!==null&&Eu(i,s[1]))return s[0];if(s=e(),Hi){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[s,i],s}function Uu(e,i,a){return a===void 0||(Mn&1073741824)!==0&&(Re&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Zp(),Te.lanes|=e,oi|=e,a)}function Zd(e,i,a,s){return Vt(a,i)?a:Tr.current!==null?(e=Uu(e,a,s),Vt(e,i)||(ot=!0),e):(Mn&42)===0||(Mn&1073741824)!==0&&(Re&261930)===0?(ot=!0,e.memoizedState=a):(e=Zp(),Te.lanes|=e,oi|=e,i)}function Wd(e,i,a,s,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var y=B.T,w={};B.T=w,Iu(e,!1,i,a);try{var k=h(),U=B.S;if(U!==null&&U(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=fb(k,s);Da(e,i,$,Qt(e))}else Da(e,i,s,Qt(e))}catch(P){Da(e,i,{then:function(){},status:"rejected",reason:P},Qt())}finally{Y.p=f,y!==null&&w.types!==null&&(y.types=w.types),B.T=y}}function vb(){}function Lu(e,i,a,s){if(e.tag!==5)throw Error(l(476));var h=ep(e).queue;Wd(e,h,i,le,a===null?vb:function(){return tp(e),a(s)})}function ep(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function tp(e){var i=ep(e);i.next===null&&(i=e.alternate.memoizedState),Da(e,i.next.queue,{},Qt())}function Bu(){return bt(Qa)}function np(){return at().memoizedState}function ip(){return at().memoizedState}function bb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Qt();e=ni(a);var s=ii(i,e,a);s!==null&&(It(s,i,a),Ca(s,i,a)),i={cache:du()},e.payload=i;return}i=i.return}}function _b(e,i,a){var s=Qt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ms(e)?ap(i,a):(a=nu(e,i,a,s),a!==null&&(It(a,e,s),lp(a,i,s)))}function rp(e,i,a){var s=Qt();Da(e,i,a,s)}function Da(e,i,a,s){var h={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ms(e))ap(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,w=f(y,a);if(h.hasEagerState=!0,h.eagerState=w,Vt(w,y))return Ql(e,i,h,0),Ye===null&&Fl(),!1}catch{}if(a=nu(e,i,h,s),a!==null)return It(a,e,s),lp(a,i,s),!0}return!1}function Iu(e,i,a,s){if(s={lane:2,revertLane:yc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ms(e)){if(i)throw Error(l(479))}else i=nu(e,a,s,2),i!==null&&It(i,e,2)}function ms(e){var i=e.alternate;return e===Te||i!==null&&i===Te}function ap(e,i){kr=us=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function lp(e,i,a){if((a&4194048)!==0){var s=i.lanes;s&=e.pendingLanes,a|=s,i.lanes=a,hf(e,a)}}var za={readContext:bt,use:fs,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};za.useEffectEvent=tt;var sp={readContext:bt,use:fs,useCallback:function(e,i){return Nt().memoizedState=[e,i===void 0?null:i],e},useContext:bt,useEffect:Vd,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ps(4194308,4,Xd.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ps(4194308,4,e,i)},useInsertionEffect:function(e,i){ps(4,2,e,i)},useMemo:function(e,i){var a=Nt();i=i===void 0?null:i;var s=e();if(Hi){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[s,i],s},useReducer:function(e,i,a){var s=Nt();if(a!==void 0){var h=a(i);if(Hi){jt(!0);try{a(i)}finally{jt(!1)}}}else h=i;return s.memoizedState=s.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},s.queue=e,e=e.dispatch=_b.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var i=Nt();return e={current:e},i.memoizedState=e},useState:function(e){e=ju(e);var i=e.queue,a=rp.bind(null,Te,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Mu,useDeferredValue:function(e,i){var a=Nt();return Uu(a,e,i)},useTransition:function(){var e=ju(!1);return e=Wd.bind(null,Te,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var s=Te,h=Nt();if(De){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),Ye===null)throw Error(l(349));(Re&127)!==0||Cd(s,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Vd(Nd.bind(null,s,f,e),[e]),s.flags|=2048,Cr(9,{destroy:void 0},Od.bind(null,s,f,a,i),null),a},useId:function(){var e=Nt(),i=Ye.identifierPrefix;if(De){var a=xn,s=_n;a=(s&~(1<<32-Pe(s)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cs++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=db++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Bu,useFormState:Id,useActionState:Id,useOptimistic:function(e){var i=Nt();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Iu.bind(null,Te,!0,a),a.dispatch=i,[e,i]},useMemoCache:Ou,useCacheRefresh:function(){return Nt().memoizedState=bb.bind(null,Te)},useEffectEvent:function(e){var i=Nt(),a={impl:e};return i.memoizedState=a,function(){if((Be&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Hu={readContext:bt,use:fs,useCallback:Qd,useContext:bt,useEffect:zu,useImperativeHandle:Fd,useInsertionEffect:Pd,useLayoutEffect:Yd,useMemo:Jd,useReducer:ds,useRef:Gd,useState:function(){return ds(Un)},useDebugValue:Mu,useDeferredValue:function(e,i){var a=at();return Zd(a,Ge.memoizedState,e,i)},useTransition:function(){var e=ds(Un)[0],i=at().memoizedState;return[typeof e=="boolean"?e:ja(e),i]},useSyncExternalStore:Ad,useId:np,useHostTransitionStatus:Bu,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,i){var a=at();return Dd(a,Ge,e,i)},useMemoCache:Ou,useCacheRefresh:ip};Hu.useEffectEvent=Kd;var op={readContext:bt,use:fs,useCallback:Qd,useContext:bt,useEffect:zu,useImperativeHandle:Fd,useInsertionEffect:Pd,useLayoutEffect:Yd,useMemo:Jd,useReducer:Ru,useRef:Gd,useState:function(){return Ru(Un)},useDebugValue:Mu,useDeferredValue:function(e,i){var a=at();return Ge===null?Uu(a,e,i):Zd(a,Ge.memoizedState,e,i)},useTransition:function(){var e=Ru(Un)[0],i=at().memoizedState;return[typeof e=="boolean"?e:ja(e),i]},useSyncExternalStore:Ad,useId:np,useHostTransitionStatus:Bu,useFormState:$d,useActionState:$d,useOptimistic:function(e,i){var a=at();return Ge!==null?Dd(a,Ge,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:ip};op.useEffectEvent=Kd;function qu(e,i,a,s){i=e.memoizedState,a=a(s,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $u={enqueueSetState:function(e,i,a){e=e._reactInternals;var s=Qt(),h=ni(s);h.payload=i,a!=null&&(h.callback=a),i=ii(e,h,s),i!==null&&(It(i,e,s),Ca(i,e,s))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var s=Qt(),h=ni(s);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ii(e,h,s),i!==null&&(It(i,e,s),Ca(i,e,s))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Qt(),s=ni(a);s.tag=2,i!=null&&(s.callback=i),i=ii(e,s,a),i!==null&&(It(i,e,a),Ca(i,e,a))}};function up(e,i,a,s,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,y):i.prototype&&i.prototype.isPureReactComponent?!_a(a,s)||!_a(h,f):!0}function cp(e,i,a,s){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,s),i.state!==e&&$u.enqueueReplaceState(i,i.state,null)}function qi(e,i){var a=i;if("ref"in i){a={};for(var s in i)s!=="ref"&&(a[s]=i[s])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function hp(e){Xl(e)}function fp(e){console.error(e)}function dp(e){Xl(e)}function ys(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function pp(e,i,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gu(e,i,a){return a=ni(a),a.tag=3,a.payload={element:null},a.callback=function(){ys(e,i)},a}function gp(e){return e=ni(e),e.tag=3,e}function mp(e,i,a,s){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;e.payload=function(){return h(f)},e.callback=function(){pp(i,a,s)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){pp(i,a,s),typeof h!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})})}function xb(e,i,a,s,h){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=a.alternate,i!==null&&_r(i,a,h,!0),a=Pt.current,a!==null){switch(a.tag){case 31:case 13:return un===null?Os():a.alternate===null&&nt===0&&(nt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,s===rs?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([s]):i.add(s),pc(e,s,h)),!1;case 22:return a.flags|=65536,s===rs?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([s]):a.add(s)),pc(e,s,h)),!1}throw Error(l(435,a.tag))}return pc(e,s,h),Os(),!1}if(De)return i=Pt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,s!==ou&&(e=Error(l(422),{cause:s}),Sa(an(e,a)))):(s!==ou&&(i=Error(l(423),{cause:s}),Sa(an(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,s=an(s,a),h=Gu(e.stateNode,s,h),bu(e,h),nt!==4&&(nt=2)),!1;var f=Error(l(520),{cause:s});if(f=an(f,a),$a===null?$a=[f]:$a.push(f),nt!==4&&(nt=2),i===null)return!0;s=an(s,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Gu(a.stateNode,s,e),bu(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ui===null||!ui.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gp(h),mp(h,e,a,s),bu(a,h),!1}a=a.return}while(a!==null);return!1}var Vu=Error(l(461)),ot=!1;function _t(e,i,a,s){i.child=e===null?_d(i,null,a,s):Ii(i,e.child,a,s)}function yp(e,i,a,s,h){a=a.render;var f=i.ref;if("ref"in s){var y={};for(var w in s)w!=="ref"&&(y[w]=s[w])}else y=s;return Mi(i),s=Tu(e,i,a,y,f,h),w=ku(),e!==null&&!ot?(Au(e,i,h),Ln(e,i,h)):(De&&w&&lu(i),i.flags|=1,_t(e,i,s,h),i.child)}function vp(e,i,a,s,h){if(e===null){var f=a.type;return typeof f=="function"&&!iu(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,bp(e,i,f,s,h)):(e=Zl(a.type,null,s,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Zu(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(y,s)&&e.ref===i.ref)return Ln(e,i,h)}return i.flags|=1,e=Rn(f,s),e.ref=i.ref,e.return=i,i.child=e}function bp(e,i,a,s,h){if(e!==null){var f=e.memoizedProps;if(_a(f,s)&&e.ref===i.ref)if(ot=!1,i.pendingProps=s=f,Zu(e,h))(e.flags&131072)!==0&&(ot=!0);else return i.lanes=e.lanes,Ln(e,i,h)}return Ku(e,i,a,s,h)}function _p(e,i,a,s){var h=s.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(s=i.child=e.child,h=0;s!==null;)h=h|s.lanes|s.childLanes,s=s.sibling;s=h&~f}else s=0,i.child=null;return xp(e,i,f,a,s)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ns(i,f!==null?f.cachePool:null),f!==null?Sd(i,f):xu(),Ed(i);else return s=i.lanes=536870912,xp(e,i,f!==null?f.baseLanes|a:a,a,s)}else f!==null?(ns(i,f.cachePool),Sd(i,f),ai(),i.memoizedState=null):(e!==null&&ns(i,null),xu(),ai());return _t(e,i,h,a),i.child}function Ma(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function xp(e,i,a,s,h){var f=gu();return f=f===null?null:{parent:lt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&ns(i,null),xu(),Ed(i),e!==null&&_r(e,i,s,!0),i.childLanes=h,null}function vs(e,i){return i=_s({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function wp(e,i,a){return Ii(i,e.child,null,a),e=vs(i,i.pendingProps),e.flags|=2,Yt(i),i.memoizedState=null,e}function wb(e,i,a){var s=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(De){if(s.mode==="hidden")return e=vs(i,s),i.lanes=536870912,Ma(null,e);if(Su(i),(e=Je)?(e=zg(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:_n,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},a=ad(e),a.return=i,i.child=a,vt=i,Je=null)):e=null,e===null)throw Wn(i);return i.lanes=536870912,null}return vs(i,s)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Su(i),h)if(i.flags&256)i.flags&=-257,i=wp(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(l(558));else if(ot||_r(e,i,a,!1),h=(a&e.childLanes)!==0,ot||h){if(s=Ye,s!==null&&(y=ff(s,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ri(e,y),It(s,e,y),Vu;Os(),i=wp(e,i,a)}else e=f.treeContext,Je=cn(y.nextSibling),vt=i,De=!0,Zn=null,on=!1,e!==null&&od(i,e),i=vs(i,s),i.flags|=4096;return i}return e=Rn(e.child,{mode:s.mode,children:s.children}),e.ref=i.ref,i.child=e,e.return=i,e}function bs(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ku(e,i,a,s,h){return Mi(i),a=Tu(e,i,a,s,void 0,h),s=ku(),e!==null&&!ot?(Au(e,i,h),Ln(e,i,h)):(De&&s&&lu(i),i.flags|=1,_t(e,i,a,h),i.child)}function Sp(e,i,a,s,h,f){return Mi(i),i.updateQueue=null,a=kd(i,s,a,h),Td(e),s=ku(),e!==null&&!ot?(Au(e,i,f),Ln(e,i,f)):(De&&s&&lu(i),i.flags|=1,_t(e,i,a,f),i.child)}function Ep(e,i,a,s,h){if(Mi(i),i.stateNode===null){var f=mr,y=a.contextType;typeof y=="object"&&y!==null&&(f=bt(y)),f=new a(s,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$u,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=s,f.state=i.memoizedState,f.refs={},yu(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?bt(y):mr,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(qu(i,a,y,s),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&$u.enqueueReplaceState(f,f.state,null),Na(i,s,f,h),Oa(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(e===null){f=i.stateNode;var w=i.memoizedProps,k=qi(a,w);f.props=k;var U=f.context,$=a.contextType;y=mr,typeof $=="object"&&$!==null&&(y=bt($));var P=a.getDerivedStateFromProps;$=typeof P=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||U!==y)&&cp(i,f,s,y),ti=!1;var H=i.memoizedState;f.state=H,Na(i,s,f,h),Oa(),U=i.memoizedState,w||H!==U||ti?(typeof P=="function"&&(qu(i,a,P,s),U=i.memoizedState),(k=ti||up(i,a,k,s,H,U,y))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=U),f.props=s,f.state=U,f.context=y,s=k):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{f=i.stateNode,vu(e,i),y=i.memoizedProps,$=qi(a,y),f.props=$,P=i.pendingProps,H=f.context,U=a.contextType,k=mr,typeof U=="object"&&U!==null&&(k=bt(U)),w=a.getDerivedStateFromProps,(U=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==P||H!==k)&&cp(i,f,s,k),ti=!1,H=i.memoizedState,f.state=H,Na(i,s,f,h),Oa();var q=i.memoizedState;y!==P||H!==q||ti||e!==null&&e.dependencies!==null&&es(e.dependencies)?(typeof w=="function"&&(qu(i,a,w,s),q=i.memoizedState),($=ti||up(i,a,$,s,H,q,k)||e!==null&&e.dependencies!==null&&es(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,q,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,q,k)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=q),f.props=s,f.state=q,f.context=k,s=$):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),s=!1)}return f=s,bs(e,i),s=(i.flags&128)!==0,f||s?(f=i.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&s?(i.child=Ii(i,e.child,null,h),i.child=Ii(i,null,a,h)):_t(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Ln(e,i,h),e}function Tp(e,i,a,s){return Di(),i.flags|=256,_t(e,i,a,s),i.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yu(e){return{baseLanes:e,cachePool:pd()}}function Xu(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Ft),e}function kp(e,i,a){var s=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(De){if(h?ri(i):ai(),(e=Je)?(e=zg(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:_n,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},a=ad(e),a.return=i,i.child=a,vt=i,Je=null)):e=null,e===null)throw Wn(i);return Nc(e)?i.lanes=32:i.lanes=536870912,null}var w=s.children;return s=s.fallback,h?(ai(),h=i.mode,w=_s({mode:"hidden",children:w},h),s=ji(s,h,a,null),w.return=i,s.return=i,w.sibling=s,i.child=w,s=i.child,s.memoizedState=Yu(a),s.childLanes=Xu(e,y,a),i.memoizedState=Pu,Ma(null,s)):(ri(i),Fu(i,w))}var k=e.memoizedState;if(k!==null&&(w=k.dehydrated,w!==null)){if(f)i.flags&256?(ri(i),i.flags&=-257,i=Qu(e,i,a)):i.memoizedState!==null?(ai(),i.child=e.child,i.flags|=128,i=null):(ai(),w=s.fallback,h=i.mode,s=_s({mode:"visible",children:s.children},h),w=ji(w,h,a,null),w.flags|=2,s.return=i,w.return=i,s.sibling=w,i.child=s,Ii(i,e.child,null,a),s=i.child,s.memoizedState=Yu(a),s.childLanes=Xu(e,y,a),i.memoizedState=Pu,i=Ma(null,s));else if(ri(i),Nc(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var U=y.dgst;y=U,s=Error(l(419)),s.stack="",s.digest=y,Sa({value:s,source:null,stack:null}),i=Qu(e,i,a)}else if(ot||_r(e,i,a,!1),y=(a&e.childLanes)!==0,ot||y){if(y=Ye,y!==null&&(s=ff(y,a),s!==0&&s!==k.retryLane))throw k.retryLane=s,Ri(e,s),It(y,e,s),Vu;Oc(w)||Os(),i=Qu(e,i,a)}else Oc(w)?(i.flags|=192,i.child=e.child,i=null):(e=k.treeContext,Je=cn(w.nextSibling),vt=i,De=!0,Zn=null,on=!1,e!==null&&od(i,e),i=Fu(i,s.children),i.flags|=4096);return i}return h?(ai(),w=s.fallback,h=i.mode,k=e.child,U=k.sibling,s=Rn(k,{mode:"hidden",children:s.children}),s.subtreeFlags=k.subtreeFlags&65011712,U!==null?w=Rn(U,w):(w=ji(w,h,a,null),w.flags|=2),w.return=i,s.return=i,s.sibling=w,i.child=s,Ma(null,s),s=i.child,w=e.child.memoizedState,w===null?w=Yu(a):(h=w.cachePool,h!==null?(k=lt._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=pd(),w={baseLanes:w.baseLanes|a,cachePool:h}),s.memoizedState=w,s.childLanes=Xu(e,y,a),i.memoizedState=Pu,Ma(e.child,s)):(ri(i),a=e.child,e=a.sibling,a=Rn(a,{mode:"visible",children:s.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Fu(e,i){return i=_s({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _s(e,i){return e=Kt(22,e,null,i),e.lanes=0,e}function Qu(e,i,a){return Ii(i,e.child,null,a),e=Fu(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ap(e,i,a){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i),hu(e.return,i,a)}function Ju(e,i,a,s,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=s,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Cp(e,i,a){var s=i.pendingProps,h=s.revealOrder,f=s.tail;s=s.children;var y=rt.current,w=(y&2)!==0;if(w?(y=y&1|2,i.flags|=128):y&=1,S(rt,y),_t(e,i,s,a),s=De?wa:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ap(e,a,i);else if(e.tag===19)Ap(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&os(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ju(i,!1,h,a,f,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&os(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ju(i,!0,a,null,f,s);break;case"together":Ju(i,!1,null,null,void 0,s);break;default:i.memoizedState=null}return i.child}function Ln(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),oi|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(_r(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(l(153));if(i.child!==null){for(e=i.child,a=Rn(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Rn(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Zu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&es(e)))}function Sb(e,i,a){switch(i.tag){case 3:W(i,i.stateNode.containerInfo),ei(i,lt,e.memoizedState.cache),Di();break;case 27:case 5:ze(i);break;case 4:W(i,i.stateNode.containerInfo);break;case 10:ei(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Su(i),null;break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(ri(i),i.flags|=128,null):(a&i.child.childLanes)!==0?kp(e,i,a):(ri(i),e=Ln(e,i,a),e!==null?e.sibling:null);ri(i);break;case 19:var h=(e.flags&128)!==0;if(s=(a&i.childLanes)!==0,s||(_r(e,i,a,!1),s=(a&i.childLanes)!==0),h){if(s)return Cp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),S(rt,rt.current),s)break;return null;case 22:return i.lanes=0,_p(e,i,a,i.pendingProps);case 24:ei(i,lt,e.memoizedState.cache)}return Ln(e,i,a)}function Op(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ot=!0;else{if(!Zu(e,a)&&(i.flags&128)===0)return ot=!1,Sb(e,i,a);ot=(e.flags&131072)!==0}else ot=!1,De&&(i.flags&1048576)!==0&&sd(i,wa,i.index);switch(i.lanes=0,i.tag){case 16:e:{var s=i.pendingProps;if(e=Li(i.elementType),i.type=e,typeof e=="function")iu(e)?(s=qi(e,s),i.tag=1,i=Ep(null,i,e,s,a)):(i.tag=0,i=Ku(null,i,e,s,a));else{if(e!=null){var h=e.$$typeof;if(h===Q){i.tag=11,i=yp(null,i,e,s,a);break e}else if(h===X){i.tag=14,i=vp(null,i,e,s,a);break e}}throw i=oe(e)||e,Error(l(306,i,""))}}return i;case 0:return Ku(e,i,i.type,i.pendingProps,a);case 1:return s=i.type,h=qi(s,i.pendingProps),Ep(e,i,s,h,a);case 3:e:{if(W(i,i.stateNode.containerInfo),e===null)throw Error(l(387));s=i.pendingProps;var f=i.memoizedState;h=f.element,vu(e,i),Na(i,s,null,a);var y=i.memoizedState;if(s=y.cache,ei(i,lt,s),s!==f.cache&&fu(i,[lt],a,!0),Oa(),s=y.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Tp(e,i,s,a);break e}else if(s!==h){h=an(Error(l(424)),i),Sa(h),i=Tp(e,i,s,a);break e}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Je=cn(e.firstChild),vt=i,De=!0,Zn=null,on=!0,a=_d(i,null,s,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Di(),s===h){i=Ln(e,i,a);break e}_t(e,i,s,a)}i=i.child}return i;case 26:return bs(e,i),e===null?(a=Hg(i.type,null,i.pendingProps,null))?i.memoizedState=a:De||(a=i.type,e=i.pendingProps,s=Us(O.current).createElement(a),s[yt]=i,s[Dt]=e,xt(s,a,e),gt(s),i.stateNode=s):i.memoizedState=Hg(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ze(i),e===null&&De&&(s=i.stateNode=Lg(i.type,i.pendingProps,O.current),vt=i,on=!0,h=Je,di(i.type)?(Rc=h,Je=cn(s.firstChild)):Je=h),_t(e,i,i.pendingProps.children,a),bs(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&De&&((h=s=Je)&&(s=Wb(s,i.type,i.pendingProps,on),s!==null?(i.stateNode=s,vt=i,Je=cn(s.firstChild),on=!1,h=!0):h=!1),h||Wn(i)),ze(i),h=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,s=f.children,kc(h,f)?s=null:y!==null&&kc(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Tu(e,i,pb,null,null,a),Qa._currentValue=h),bs(e,i),_t(e,i,s,a),i.child;case 6:return e===null&&De&&((e=a=Je)&&(a=e_(a,i.pendingProps,on),a!==null?(i.stateNode=a,vt=i,Je=null,e=!0):e=!1),e||Wn(i)),null;case 13:return kp(e,i,a);case 4:return W(i,i.stateNode.containerInfo),s=i.pendingProps,e===null?i.child=Ii(i,null,s,a):_t(e,i,s,a),i.child;case 11:return yp(e,i,i.type,i.pendingProps,a);case 7:return _t(e,i,i.pendingProps,a),i.child;case 8:return _t(e,i,i.pendingProps.children,a),i.child;case 12:return _t(e,i,i.pendingProps.children,a),i.child;case 10:return s=i.pendingProps,ei(i,i.type,s.value),_t(e,i,s.children,a),i.child;case 9:return h=i.type._context,s=i.pendingProps.children,Mi(i),h=bt(h),s=s(h),i.flags|=1,_t(e,i,s,a),i.child;case 14:return vp(e,i,i.type,i.pendingProps,a);case 15:return bp(e,i,i.type,i.pendingProps,a);case 19:return Cp(e,i,a);case 31:return wb(e,i,a);case 22:return _p(e,i,a,i.pendingProps);case 24:return Mi(i),s=bt(lt),e===null?(h=gu(),h===null&&(h=Ye,f=du(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:s,cache:h},yu(i),ei(i,lt,h)):((e.lanes&a)!==0&&(vu(e,i),Na(i,null,null,a),Oa()),h=e.memoizedState,f=i.memoizedState,h.parent!==s?(h={parent:s,cache:s},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ei(i,lt,s)):(s=f.cache,ei(i,lt,s),s!==h.cache&&fu(i,[lt],a,!0))),_t(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Bn(e){e.flags|=4}function Wu(e,i,a,s,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ng())e.flags|=8192;else throw Bi=rs,mu}else e.flags&=-16777217}function Np(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kg(i))if(ng())e.flags|=8192;else throw Bi=rs,mu}function xs(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?uf():536870912,e.lanes|=i,jr|=i)}function Ua(e,i){if(!De)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ze(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,s|=h.subtreeFlags&65011712,s|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=s,e.childLanes=a,i}function Eb(e,i,a){var s=i.pendingProps;switch(su(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(i),null;case 1:return Ze(i),null;case 3:return a=i.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),zn(lt),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(br(i)?Bn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uu())),Ze(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Bn(i),f!==null?(Ze(i),Np(i,f)):(Ze(i),Wu(i,h,null,s,a))):f?f!==e.memoizedState?(Bn(i),Ze(i),Np(i,f)):(Ze(i),i.flags&=-16777217):(e=e.memoizedProps,e!==s&&Bn(i),Ze(i),Wu(i,h,e,s,a)),null;case 27:if(et(i),a=O.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&Bn(i);else{if(!s){if(i.stateNode===null)throw Error(l(166));return Ze(i),null}e=ie.current,br(i)?ud(i):(e=Lg(h,s,a),i.stateNode=e,Bn(i))}return Ze(i),null;case 5:if(et(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&Bn(i);else{if(!s){if(i.stateNode===null)throw Error(l(166));return Ze(i),null}if(f=ie.current,br(i))ud(i);else{var y=Us(O.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof s.is=="string"?y.createElement("select",{is:s.is}):y.createElement("select"),s.multiple?f.multiple=!0:s.size&&(f.size=s.size);break;default:f=typeof s.is=="string"?y.createElement(h,{is:s.is}):y.createElement(h)}}f[yt]=i,f[Dt]=s;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=f;e:switch(xt(f,h,s),h){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Bn(i)}}return Ze(i),Wu(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==s&&Bn(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(l(166));if(e=O.current,br(i)){if(e=i.stateNode,a=i.memoizedProps,s=null,h=vt,h!==null)switch(h.tag){case 27:case 5:s=h.memoizedProps}e[yt]=i,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||kg(e.nodeValue,a)),e||Wn(i,!0)}else e=Us(e).createTextNode(s),e[yt]=i,i.stateNode=e}return Ze(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(s=br(i),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[yt]=i}else Di(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),e=!1}else a=uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Yt(i),i):(Yt(i),null);if((i.flags&128)!==0)throw Error(l(558))}return Ze(i),null;case 13:if(s=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=br(i),s!==null&&s.dehydrated!==null){if(e===null){if(!h)throw Error(l(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[yt]=i}else Di(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),h=!1}else h=uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Yt(i),i):(Yt(i),null)}return Yt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=i.child,h=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(h=s.alternate.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==h&&(s.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),xs(i,i.updateQueue),Ze(i),null);case 4:return ae(),e===null&&xc(i.stateNode.containerInfo),Ze(i),null;case 10:return zn(i.type),Ze(i),null;case 19:if(G(rt),s=i.memoizedState,s===null)return Ze(i),null;if(h=(i.flags&128)!==0,f=s.rendering,f===null)if(h)Ua(s,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=os(e),f!==null){for(i.flags|=128,Ua(s,!1),e=f.updateQueue,i.updateQueue=e,xs(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)rd(a,e),a=a.sibling;return S(rt,rt.current&1|2),De&&jn(i,s.treeForkCount),i.child}e=e.sibling}s.tail!==null&&Ct()>ks&&(i.flags|=128,h=!0,Ua(s,!1),i.lanes=4194304)}else{if(!h)if(e=os(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,xs(i,e),Ua(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!De)return Ze(i),null}else 2*Ct()-s.renderingStartTime>ks&&a!==536870912&&(i.flags|=128,h=!0,Ua(s,!1),i.lanes=4194304);s.isBackwards?(f.sibling=i.child,i.child=f):(e=s.last,e!==null?e.sibling=f:i.child=f,s.last=f)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ct(),e.sibling=null,a=rt.current,S(rt,h?a&1|2:a&1),De&&jn(i,s.treeForkCount),e):(Ze(i),null);case 22:case 23:return Yt(i),wu(),s=i.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(a&536870912)!==0&&(i.flags&128)===0&&(Ze(i),i.subtreeFlags&6&&(i.flags|=8192)):Ze(i),a=i.updateQueue,a!==null&&xs(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048),e!==null&&G(Ui),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zn(lt),Ze(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Tb(e,i){switch(su(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zn(lt),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return et(i),null;case 31:if(i.memoizedState!==null){if(Yt(i),i.alternate===null)throw Error(l(340));Di()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Yt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Di()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(rt),null;case 4:return ae(),null;case 10:return zn(i.type),null;case 22:case 23:return Yt(i),wu(),e!==null&&G(Ui),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zn(lt),null;case 25:return null;default:return null}}function Rp(e,i){switch(su(i),i.tag){case 3:zn(lt),ae();break;case 26:case 27:case 5:et(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&Yt(i);break;case 13:Yt(i);break;case 19:G(rt);break;case 10:zn(i.type);break;case 22:case 23:Yt(i),wu(),e!==null&&G(Ui);break;case 24:zn(lt)}}function La(e,i){try{var a=i.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var h=s.next;a=h;do{if((a.tag&e)===e){s=void 0;var f=a.create,y=a.inst;s=f(),y.destroy=s}a=a.next}while(a!==h)}}catch(w){$e(i,i.return,w)}}function li(e,i,a){try{var s=i.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var f=h.next;s=f;do{if((s.tag&e)===e){var y=s.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,h=i;var k=a,U=w;try{U()}catch($){$e(h,k,$)}}}s=s.next}while(s!==f)}}catch($){$e(i,i.return,$)}}function jp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{wd(i,a)}catch(s){$e(e,e.return,s)}}}function Dp(e,i,a){a.props=qi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){$e(e,i,s)}}function Ba(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(h){$e(e,i,h)}}function wn(e,i){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(h){$e(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(e,i,h)}else a.current=null}function zp(e){var i=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(h){$e(e,e.return,h)}}function ec(e,i,a){try{var s=e.stateNode;Yb(s,e.type,a,i),s[Dt]=i}catch(h){$e(e,e.return,h)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&di(e.type)||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&di(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,i,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=On));else if(s!==4&&(s===27&&di(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(nc(e,i,a),e=e.sibling;e!==null;)nc(e,i,a),e=e.sibling}function ws(e,i,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(s!==4&&(s===27&&di(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ws(e,i,a),e=e.sibling;e!==null;)ws(e,i,a),e=e.sibling}function Up(e){var i=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);xt(i,s,a),i[yt]=e,i[Dt]=a}catch(f){$e(e,e.return,f)}}var In=!1,ut=!1,ic=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,mt=null;function kb(e,i){if(e=e.containerInfo,Ec=Gs,e=Ff(e),Qo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var h=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,w=-1,k=-1,U=0,$=0,P=e,H=null;t:for(;;){for(var q;P!==a||h!==0&&P.nodeType!==3||(w=y+h),P!==f||s!==0&&P.nodeType!==3||(k=y+s),P.nodeType===3&&(y+=P.nodeValue.length),(q=P.firstChild)!==null;)H=P,P=q;for(;;){if(P===e)break t;if(H===a&&++U===h&&(w=y),H===f&&++$===s&&(k=y),(q=P.nextSibling)!==null)break;P=H,H=P.parentNode}P=q}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tc={focusedElem:e,selectionRange:a},Gs=!1,mt=i;mt!==null;)if(i=mt,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,mt=e;else for(;mt!==null;){switch(i=mt,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,s=a.stateNode;try{var se=qi(a.type,h);e=s.getSnapshotBeforeUpdate(se,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(me){$e(a,a.return,me)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Cc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=i.sibling,e!==null){e.return=i.return,mt=e;break}mt=i.return}}function Bp(e,i,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:qn(e,a),s&4&&La(5,a);break;case 1:if(qn(e,a),s&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){$e(a,a.return,y)}else{var h=qi(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){$e(a,a.return,y)}}s&64&&jp(a),s&512&&Ba(a,a.return);break;case 3:if(qn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wd(e,i)}catch(y){$e(a,a.return,y)}}break;case 27:i===null&&s&4&&Up(a);case 26:case 5:qn(e,a),i===null&&s&4&&zp(a),s&512&&Ba(a,a.return);break;case 12:qn(e,a);break;case 31:qn(e,a),s&4&&qp(e,a);break;case 13:qn(e,a),s&4&&$p(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Mb.bind(null,a),t_(e,a))));break;case 22:if(s=a.memoizedState!==null||In,!s){i=i!==null&&i.memoizedState!==null||ut,h=In;var f=ut;In=s,(ut=i)&&!f?$n(e,a,(a.subtreeFlags&8772)!==0):qn(e,a),In=h,ut=f}break;case 30:break;default:qn(e,a)}}function Ip(e){var i=e.alternate;i!==null&&(e.alternate=null,Ip(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Do(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Mt=!1;function Hn(e,i,a){for(a=a.child;a!==null;)Hp(e,i,a),a=a.sibling}function Hp(e,i,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ot,a)}catch{}switch(a.tag){case 26:ut||wn(a,i),Hn(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||wn(a,i);var s=We,h=Mt;di(a.type)&&(We=a.stateNode,Mt=!1),Hn(e,i,a),Ya(a.stateNode),We=s,Mt=h;break;case 5:ut||wn(a,i);case 6:if(s=We,h=Mt,We=null,Hn(e,i,a),We=s,Mt=h,We!==null)if(Mt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(a.stateNode)}catch(f){$e(a,i,f)}else try{We.removeChild(a.stateNode)}catch(f){$e(a,i,f)}break;case 18:We!==null&&(Mt?(e=We,jg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Hr(e)):jg(We,a.stateNode));break;case 4:s=We,h=Mt,We=a.stateNode.containerInfo,Mt=!0,Hn(e,i,a),We=s,Mt=h;break;case 0:case 11:case 14:case 15:li(2,a,i),ut||li(4,a,i),Hn(e,i,a);break;case 1:ut||(wn(a,i),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Dp(a,i,s)),Hn(e,i,a);break;case 21:Hn(e,i,a);break;case 22:ut=(s=ut)||a.memoizedState!==null,Hn(e,i,a),ut=s;break;default:Hn(e,i,a)}}function qp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hr(e)}catch(a){$e(i,i.return,a)}}}function $p(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hr(e)}catch(a){$e(i,i.return,a)}}function Ab(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Lp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Lp),i;default:throw Error(l(435,e.tag))}}function Ss(e,i){var a=Ab(e);i.forEach(function(s){if(!a.has(s)){a.add(s);var h=Ub.bind(null,e,s);s.then(h,h)}})}function Ut(e,i){var a=i.deletions;if(a!==null)for(var s=0;s<a.length;s++){var h=a[s],f=e,y=i,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(di(w.type)){We=w.stateNode,Mt=!1;break e}break;case 5:We=w.stateNode,Mt=!1;break e;case 3:case 4:We=w.stateNode.containerInfo,Mt=!0;break e}w=w.return}if(We===null)throw Error(l(160));Hp(f,y,h),We=null,Mt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Gp(i,e),i=i.sibling}var gn=null;function Gp(e,i){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(i,e),Lt(e),s&4&&(li(3,e,e.return),La(3,e),li(5,e,e.return));break;case 1:Ut(i,e),Lt(e),s&512&&(ut||a===null||wn(a,a.return)),s&64&&In&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var h=gn;if(Ut(i,e),Lt(e),s&512&&(ut||a===null||wn(a,a.return)),s&4){var f=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,h=h.ownerDocument||h;t:switch(s){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ha]||f[yt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(s),h.head.insertBefore(f,h.querySelector("head > title"))),xt(f,s,a),f[yt]=e,gt(f),s=f;break e;case"link":var y=Gg("link","href",h).get(s+(a.href||""));if(y){for(var w=0;w<y.length;w++)if(f=y[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(w,1);break t}}f=h.createElement(s),xt(f,s,a),h.head.appendChild(f);break;case"meta":if(y=Gg("meta","content",h).get(s+(a.content||""))){for(w=0;w<y.length;w++)if(f=y[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(w,1);break t}}f=h.createElement(s),xt(f,s,a),h.head.appendChild(f);break;default:throw Error(l(468,s))}f[yt]=e,gt(f),s=f}e.stateNode=s}else Vg(h,e.type,e.stateNode);else e.stateNode=$g(h,s,e.memoizedProps);else f!==s?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,s===null?Vg(h,e.type,e.stateNode):$g(h,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ec(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ut(i,e),Lt(e),s&512&&(ut||a===null||wn(a,a.return)),a!==null&&s&4&&ec(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ut(i,e),Lt(e),s&512&&(ut||a===null||wn(a,a.return)),e.flags&32){h=e.stateNode;try{ur(h,"")}catch(se){$e(e,e.return,se)}}s&4&&e.stateNode!=null&&(h=e.memoizedProps,ec(e,h,a!==null?a.memoizedProps:h)),s&1024&&(ic=!0);break;case 6:if(Ut(i,e),Lt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(se){$e(e,e.return,se)}}break;case 3:if(Is=null,h=gn,gn=Ls(i.containerInfo),Ut(i,e),gn=h,Lt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Hr(i.containerInfo)}catch(se){$e(e,e.return,se)}ic&&(ic=!1,Vp(e));break;case 4:s=gn,gn=Ls(e.stateNode.containerInfo),Ut(i,e),Lt(e),gn=s;break;case 12:Ut(i,e),Lt(e);break;case 31:Ut(i,e),Lt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ss(e,s)));break;case 13:Ut(i,e),Lt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ts=Ct()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ss(e,s)));break;case 22:h=e.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,U=In,$=ut;if(In=U||h,ut=$||k,Ut(i,e),ut=$,In=U,Lt(e),s&8192)e:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||k||In||ut||$i(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){k=a=i;try{if(f=k.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=k.stateNode;var P=k.memoizedProps.style,H=P!=null&&P.hasOwnProperty("display")?P.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(se){$e(k,k.return,se)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(se){$e(k,k.return,se)}}}else if(i.tag===18){if(a===null){k=i;try{var q=k.stateNode;h?Dg(q,!0):Dg(k.stateNode,!1)}catch(se){$e(k,k.return,se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Ss(e,a))));break;case 19:Ut(i,e),Lt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ss(e,s)));break;case 30:break;case 21:break;default:Ut(i,e),Lt(e)}}function Lt(e){var i=e.flags;if(i&2){try{for(var a,s=e.return;s!==null;){if(Mp(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var h=a.stateNode,f=tc(e);ws(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(ur(y,""),a.flags&=-33);var w=tc(e);ws(e,w,y);break;case 3:case 4:var k=a.stateNode.containerInfo,U=tc(e);nc(e,U,k);break;default:throw Error(l(161))}}catch($){$e(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Vp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function qn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Bp(e,i.alternate,i),i=i.sibling}function $i(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:li(4,i,i.return),$i(i);break;case 1:wn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Dp(i,i.return,a),$i(i);break;case 27:Ya(i.stateNode);case 26:case 5:wn(i,i.return),$i(i);break;case 22:i.memoizedState===null&&$i(i);break;case 30:$i(i);break;default:$i(i)}e=e.sibling}}function $n(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,h=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:$n(h,f,a),La(4,f);break;case 1:if($n(h,f,a),s=f,h=s.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){$e(s,s.return,U)}if(s=f,h=s.updateQueue,h!==null){var w=s.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)xd(k[h],w)}catch(U){$e(s,s.return,U)}}a&&y&64&&jp(f),Ba(f,f.return);break;case 27:Up(f);case 26:case 5:$n(h,f,a),a&&s===null&&y&4&&zp(f),Ba(f,f.return);break;case 12:$n(h,f,a);break;case 31:$n(h,f,a),a&&y&4&&qp(h,f);break;case 13:$n(h,f,a),a&&y&4&&$p(h,f);break;case 22:f.memoizedState===null&&$n(h,f,a),Ba(f,f.return);break;case 30:break;default:$n(h,f,a)}i=i.sibling}}function rc(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ea(a))}function ac(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ea(e))}function mn(e,i,a,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Kp(e,i,a,s),i=i.sibling}function Kp(e,i,a,s){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mn(e,i,a,s),h&2048&&La(9,i);break;case 1:mn(e,i,a,s);break;case 3:mn(e,i,a,s),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ea(e)));break;case 12:if(h&2048){mn(e,i,a,s),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,w=f.onPostCommit;typeof w=="function"&&w(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){$e(i,i.return,k)}}else mn(e,i,a,s);break;case 31:mn(e,i,a,s);break;case 13:mn(e,i,a,s);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?mn(e,i,a,s):Ia(e,i):f._visibility&2?mn(e,i,a,s):(f._visibility|=2,Or(e,i,a,s,(i.subtreeFlags&10256)!==0||!1)),h&2048&&rc(y,i);break;case 24:mn(e,i,a,s),h&2048&&ac(i.alternate,i);break;default:mn(e,i,a,s)}}function Or(e,i,a,s,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,y=i,w=a,k=s,U=y.flags;switch(y.tag){case 0:case 11:case 15:Or(f,y,w,k,h),La(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Or(f,y,w,k,h):Ia(f,y):($._visibility|=2,Or(f,y,w,k,h)),h&&U&2048&&rc(y.alternate,y);break;case 24:Or(f,y,w,k,h),h&&U&2048&&ac(y.alternate,y);break;default:Or(f,y,w,k,h)}i=i.sibling}}function Ia(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,s=i,h=s.flags;switch(s.tag){case 22:Ia(a,s),h&2048&&rc(s.alternate,s);break;case 24:Ia(a,s),h&2048&&ac(s.alternate,s);break;default:Ia(a,s)}i=i.sibling}}var Ha=8192;function Nr(e,i,a){if(e.subtreeFlags&Ha)for(e=e.child;e!==null;)Pp(e,i,a),e=e.sibling}function Pp(e,i,a){switch(e.tag){case 26:Nr(e,i,a),e.flags&Ha&&e.memoizedState!==null&&d_(a,gn,e.memoizedState,e.memoizedProps);break;case 5:Nr(e,i,a);break;case 3:case 4:var s=gn;gn=Ls(e.stateNode.containerInfo),Nr(e,i,a),gn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ha,Ha=16777216,Nr(e,i,a),Ha=s):Nr(e,i,a));break;default:Nr(e,i,a)}}function Yp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function qa(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];mt=s,Fp(s,e)}Yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:qa(e),e.flags&2048&&li(9,e,e.return);break;case 3:qa(e);break;case 12:qa(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Es(e)):qa(e);break;default:qa(e)}}function Es(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];mt=s,Fp(s,e)}Yp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:li(8,i,i.return),Es(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Es(i));break;default:Es(i)}e=e.sibling}}function Fp(e,i){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:li(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ea(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,mt=s;else e:for(a=e;mt!==null;){s=mt;var h=s.sibling,f=s.return;if(Ip(s),s===a){mt=null;break e}if(h!==null){h.return=f,mt=h;break e}mt=f}}}var Cb={getCacheForType:function(e){var i=bt(lt),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return bt(lt).controller.signal}},Ob=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ye=null,Oe=null,Re=0,qe=0,Xt=null,si=!1,Rr=!1,lc=!1,Gn=0,nt=0,oi=0,Gi=0,sc=0,Ft=0,jr=0,$a=null,Bt=null,oc=!1,Ts=0,Qp=0,ks=1/0,As=null,ui=null,dt=0,ci=null,Dr=null,Vn=0,uc=0,cc=null,Jp=null,Ga=0,hc=null;function Qt(){return(Be&2)!==0&&Re!==0?Re&-Re:B.T!==null?yc():df()}function Zp(){if(Ft===0)if((Re&536870912)===0||De){var e=Ml;Ml<<=1,(Ml&3932160)===0&&(Ml=262144),Ft=e}else Ft=536870912;return e=Pt.current,e!==null&&(e.flags|=32),Ft}function It(e,i,a){(e===Ye&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(zr(e,0),hi(e,Re,Ft,!1)),ca(e,a),((Be&2)===0||e!==Ye)&&(e===Ye&&((Be&2)===0&&(Gi|=a),nt===4&&hi(e,Re,Ft,!1)),Sn(e))}function Wp(e,i,a){if((Be&6)!==0)throw Error(l(327));var s=!a&&(i&127)===0&&(i&e.expiredLanes)===0||ua(e,i),h=s?jb(e,i):dc(e,i,!0),f=s;do{if(h===0){Rr&&!s&&hi(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!Nb(a)){h=dc(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var w=e;h=$a;var k=w.current.memoizedState.isDehydrated;if(k&&(zr(w,y).flags|=256),y=dc(w,y,!1),y!==2){if(lc&&!k){w.errorRecoveryDisabledLanes|=f,Gi|=f,h=4;break e}f=Bt,Bt=h,f!==null&&(Bt===null?Bt=f:Bt.push.apply(Bt,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){zr(e,0),hi(e,i,0,!0);break}e:{switch(s=e,f=h,f){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:hi(s,i,Ft,!si);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(h=Ts+300-Ct(),10<h)){if(hi(s,i,Ft,!si),Ll(s,0,!0)!==0)break e;Vn=i,s.timeoutHandle=Ng(eg.bind(null,s,a,Bt,As,oc,i,Ft,Gi,jr,si,f,"Throttled",-0,0),h);break e}eg(s,a,Bt,As,oc,i,Ft,Gi,jr,si,f,null,-0,0)}}break}while(!0);Sn(e)}function eg(e,i,a,s,h,f,y,w,k,U,$,P,H,q){if(e.timeoutHandle=-1,P=i.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},Pp(i,f,P);var se=(f&62914560)===f?Ts-Ct():(f&4194048)===f?Qp-Ct():0;if(se=p_(P,se),se!==null){Vn=f,e.cancelPendingCommit=se(og.bind(null,e,i,f,a,s,h,y,w,k,$,P,null,H,q)),hi(e,f,y,!U);return}}og(e,i,f,a,s,h,y,w,k)}function Nb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var h=a[s],f=h.getSnapshot;h=h.value;try{if(!Vt(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hi(e,i,a,s){i&=~sc,i&=~Gi,e.suspendedLanes|=i,e.pingedLanes&=~i,s&&(e.warmLanes|=i),s=e.expirationTimes;for(var h=i;0<h;){var f=31-Pe(h),y=1<<f;s[f]=-1,h&=~y}a!==0&&cf(e,a,i)}function Cs(){return(Be&6)===0?(Va(0),!1):!0}function fc(){if(Oe!==null){if(qe===0)var e=Oe.return;else e=Oe,Dn=zi=null,Cu(e),Er=null,ka=0,e=Oe;for(;e!==null;)Rp(e.alternate,e),e=e.return;Oe=null}}function zr(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Qb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Vn=0,fc(),Ye=e,Oe=a=Rn(e.current,null),Re=i,qe=0,Xt=null,si=!1,Rr=ua(e,i),lc=!1,jr=Ft=sc=Gi=oi=nt=0,Bt=$a=null,oc=!1,(i&8)!==0&&(i|=i&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=i;0<s;){var h=31-Pe(s),f=1<<h;i|=e[h],s&=~f}return Gn=i,Fl(),a}function tg(e,i){Te=null,B.H=za,i===Sr||i===is?(i=yd(),qe=3):i===mu?(i=yd(),qe=4):qe=i===Vu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xt=i,Oe===null&&(nt=1,ys(e,an(i,e.current)))}function ng(){var e=Pt.current;return e===null?!0:(Re&4194048)===Re?un===null:(Re&62914560)===Re||(Re&536870912)!==0?e===un:!1}function ig(){var e=B.H;return B.H=za,e===null?za:e}function rg(){var e=B.A;return B.A=Cb,e}function Os(){nt=4,si||(Re&4194048)!==Re&&Pt.current!==null||(Rr=!0),(oi&134217727)===0&&(Gi&134217727)===0||Ye===null||hi(Ye,Re,Ft,!1)}function dc(e,i,a){var s=Be;Be|=2;var h=ig(),f=rg();(Ye!==e||Re!==i)&&(As=null,zr(e,i)),i=!1;var y=nt;e:do try{if(qe!==0&&Oe!==null){var w=Oe,k=Xt;switch(qe){case 8:fc(),y=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(i=!0);var U=qe;if(qe=0,Xt=null,Mr(e,w,k,U),a&&Rr){y=0;break e}break;default:U=qe,qe=0,Xt=null,Mr(e,w,k,U)}}Rb(),y=nt;break}catch($){tg(e,$)}while(!0);return i&&e.shellSuspendCounter++,Dn=zi=null,Be=s,B.H=h,B.A=f,Oe===null&&(Ye=null,Re=0,Fl()),y}function Rb(){for(;Oe!==null;)ag(Oe)}function jb(e,i){var a=Be;Be|=2;var s=ig(),h=rg();Ye!==e||Re!==i?(As=null,ks=Ct()+500,zr(e,i)):Rr=ua(e,i);e:do try{if(qe!==0&&Oe!==null){i=Oe;var f=Xt;t:switch(qe){case 1:qe=0,Xt=null,Mr(e,i,f,1);break;case 2:case 9:if(gd(f)){qe=0,Xt=null,lg(i);break}i=function(){qe!==2&&qe!==9||Ye!==e||(qe=7),Sn(e)},f.then(i,i);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:gd(f)?(qe=0,Xt=null,lg(i)):(qe=0,Xt=null,Mr(e,i,f,7));break;case 5:var y=null;switch(Oe.tag){case 26:y=Oe.memoizedState;case 5:case 27:var w=Oe;if(y?Kg(y):w.stateNode.complete){qe=0,Xt=null;var k=w.sibling;if(k!==null)Oe=k;else{var U=w.return;U!==null?(Oe=U,Ns(U)):Oe=null}break t}}qe=0,Xt=null,Mr(e,i,f,5);break;case 6:qe=0,Xt=null,Mr(e,i,f,6);break;case 8:fc(),nt=6;break e;default:throw Error(l(462))}}Db();break}catch($){tg(e,$)}while(!0);return Dn=zi=null,B.H=s,B.A=h,Be=a,Oe!==null?0:(Ye=null,Re=0,Fl(),nt)}function Db(){for(;Oe!==null&&!ko();)ag(Oe)}function ag(e){var i=Op(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,i===null?Ns(e):Oe=i}function lg(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Sp(a,i,i.pendingProps,i.type,void 0,Re);break;case 11:i=Sp(a,i,i.pendingProps,i.type.render,i.ref,Re);break;case 5:Cu(i);default:Rp(a,i),i=Oe=rd(i,Gn),i=Op(a,i,Gn)}e.memoizedProps=e.pendingProps,i===null?Ns(e):Oe=i}function Mr(e,i,a,s){Dn=zi=null,Cu(i),Er=null,ka=0;var h=i.return;try{if(xb(e,h,i,a,Re)){nt=1,ys(e,an(a,e.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;nt=1,ys(e,an(a,e.current)),Oe=null;return}i.flags&32768?(De||s===1?e=!0:Rr||(Re&536870912)!==0?e=!1:(si=e=!0,(s===2||s===9||s===3||s===6)&&(s=Pt.current,s!==null&&s.tag===13&&(s.flags|=16384))),sg(i,e)):Ns(i)}function Ns(e){var i=e;do{if((i.flags&32768)!==0){sg(i,si);return}e=i.return;var a=Eb(i.alternate,i,Gn);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=e}while(i!==null);nt===0&&(nt=5)}function sg(e,i){do{var a=Tb(e.alternate,e);if(a!==null){a.flags&=32767,Oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=a}while(e!==null);nt=6,Oe=null}function og(e,i,a,s,h,f,y,w,k){e.cancelPendingCommit=null;do Rs();while(dt!==0);if((Be&6)!==0)throw Error(l(327));if(i!==null){if(i===e.current)throw Error(l(177));if(f=i.lanes|i.childLanes,f|=tu,fv(e,a,f,y,w,k),e===Ye&&(Oe=Ye=null,Re=0),Dr=i,ci=e,Vn=a,uc=f,cc=h,Jp=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lb(be,function(){return dg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=B.T,B.T=null,h=Y.p,Y.p=2,y=Be,Be|=4;try{kb(e,i,a)}finally{Be=y,Y.p=h,B.T=s}}dt=1,ug(),cg(),hg()}}function ug(){if(dt===1){dt=0;var e=ci,i=Dr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var s=Y.p;Y.p=2;var h=Be;Be|=4;try{Gp(i,e);var f=Tc,y=Ff(e.containerInfo),w=f.focusedElem,k=f.selectionRange;if(y!==w&&w&&w.ownerDocument&&Xf(w.ownerDocument.documentElement,w)){if(k!==null&&Qo(w)){var U=k.start,$=k.end;if($===void 0&&($=U),"selectionStart"in w)w.selectionStart=U,w.selectionEnd=Math.min($,w.value.length);else{var P=w.ownerDocument||document,H=P&&P.defaultView||window;if(H.getSelection){var q=H.getSelection(),se=w.textContent.length,me=Math.min(k.start,se),Ke=k.end===void 0?me:Math.min(k.end,se);!q.extend&&me>Ke&&(y=Ke,Ke=me,me=y);var j=Yf(w,me),N=Yf(w,Ke);if(j&&N&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var M=P.createRange();M.setStart(j.node,j.offset),q.removeAllRanges(),me>Ke?(q.addRange(M),q.extend(N.node,N.offset)):(M.setEnd(N.node,N.offset),q.addRange(M))}}}}for(P=[],q=w;q=q.parentNode;)q.nodeType===1&&P.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<P.length;w++){var K=P[w];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Gs=!!Ec,Tc=Ec=null}finally{Be=h,Y.p=s,B.T=a}}e.current=i,dt=2}}function cg(){if(dt===2){dt=0;var e=ci,i=Dr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var s=Y.p;Y.p=2;var h=Be;Be|=4;try{Bp(e,i.alternate,i)}finally{Be=h,Y.p=s,B.T=a}}dt=3}}function hg(){if(dt===4||dt===3){dt=0,Ao();var e=ci,i=Dr,a=Vn,s=Jp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dt=5:(dt=0,Dr=ci=null,fg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ui=null),Ro(a),i=i.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ot,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=B.T,h=Y.p,Y.p=2,B.T=null;try{for(var f=e.onRecoverableError,y=0;y<s.length;y++){var w=s[y];f(w.value,{componentStack:w.stack})}}finally{B.T=i,Y.p=h}}(Vn&3)!==0&&Rs(),Sn(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===hc?Ga++:(Ga=0,hc=e):Ga=0,Va(0)}}function fg(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ea(i)))}function Rs(){return ug(),cg(),hg(),dg()}function dg(){if(dt!==5)return!1;var e=ci,i=uc;uc=0;var a=Ro(Vn),s=B.T,h=Y.p;try{Y.p=32>a?32:a,B.T=null,a=cc,cc=null;var f=ci,y=Vn;if(dt=0,Dr=ci=null,Vn=0,(Be&6)!==0)throw Error(l(331));var w=Be;if(Be|=4,Xp(f.current),Kp(f,f.current,y,a),Be=w,Va(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ot,f)}catch{}return!0}finally{Y.p=h,B.T=s,fg(e,i)}}function pg(e,i,a){i=an(a,i),i=Gu(e.stateNode,i,2),e=ii(e,i,2),e!==null&&(ca(e,2),Sn(e))}function $e(e,i,a){if(e.tag===3)pg(e,e,a);else for(;i!==null;){if(i.tag===3){pg(i,e,a);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ui===null||!ui.has(s))){e=an(a,e),a=gp(2),s=ii(i,a,2),s!==null&&(mp(a,s,i,e),ca(s,2),Sn(s));break}}i=i.return}}function pc(e,i,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Ob;var h=new Set;s.set(i,h)}else h=s.get(i),h===void 0&&(h=new Set,s.set(i,h));h.has(a)||(lc=!0,h.add(a),e=zb.bind(null,e,i,a),i.then(e,e))}function zb(e,i,a){var s=e.pingCache;s!==null&&s.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ye===e&&(Re&a)===a&&(nt===4||nt===3&&(Re&62914560)===Re&&300>Ct()-Ts?(Be&2)===0&&zr(e,0):sc|=a,jr===Re&&(jr=0)),Sn(e)}function gg(e,i){i===0&&(i=uf()),e=Ri(e,i),e!==null&&(ca(e,i),Sn(e))}function Mb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),gg(e,a)}function Ub(e,i){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(i),gg(e,a)}function Lb(e,i){return nr(e,i)}var js=null,Ur=null,gc=!1,Ds=!1,mc=!1,fi=0;function Sn(e){e!==Ur&&e.next===null&&(Ur===null?js=Ur=e:Ur=Ur.next=e),Ds=!0,gc||(gc=!0,Ib())}function Va(e,i){if(!mc&&Ds){mc=!0;do for(var a=!1,s=js;s!==null;){if(e!==0){var h=s.pendingLanes;if(h===0)var f=0;else{var y=s.suspendedLanes,w=s.pingedLanes;f=(1<<31-Pe(42|e)+1)-1,f&=h&~(y&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,bg(s,f))}else f=Re,f=Ll(s,s===Ye?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||ua(s,f)||(a=!0,bg(s,f));s=s.next}while(a);mc=!1}}function Bb(){mg()}function mg(){Ds=gc=!1;var e=0;fi!==0&&Fb()&&(e=fi);for(var i=Ct(),a=null,s=js;s!==null;){var h=s.next,f=yg(s,i);f===0?(s.next=null,a===null?js=h:a.next=h,h===null&&(Ur=a)):(a=s,(e!==0||(f&3)!==0)&&(Ds=!0)),s=h}dt!==0&&dt!==5||Va(e),fi!==0&&(fi=0)}function yg(e,i){for(var a=e.suspendedLanes,s=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Pe(f),w=1<<y,k=h[y];k===-1?((w&a)===0||(w&s)!==0)&&(h[y]=hv(w,i)):k<=i&&(e.expiredLanes|=w),f&=~w}if(i=Ye,a=Re,a=Ll(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===i&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&oa(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ua(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(s!==null&&oa(s),Ro(a)){case 2:case 8:a=ee;break;case 32:a=be;break;case 268435456:a=He;break;default:a=be}return s=vg.bind(null,e),a=nr(a,s),e.callbackPriority=i,e.callbackNode=a,i}return s!==null&&s!==null&&oa(s),e.callbackPriority=2,e.callbackNode=null,2}function vg(e,i){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rs()&&e.callbackNode!==a)return null;var s=Re;return s=Ll(e,e===Ye?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Wp(e,s,i),yg(e,Ct()),e.callbackNode!=null&&e.callbackNode===a?vg.bind(null,e):null)}function bg(e,i){if(Rs())return null;Wp(e,i,!0)}function Ib(){Jb(function(){(Be&6)!==0?nr(V,Bb):mg()})}function yc(){if(fi===0){var e=xr;e===0&&(e=zl,zl<<=1,(zl&261888)===0&&(zl=256)),fi=e}return fi}function _g(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ql(""+e)}function xg(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Hb(e,i,a,s,h){if(i==="submit"&&a&&a.stateNode===h){var f=_g((h[Dt]||null).action),y=s.submitter;y&&(i=(i=y[Dt]||null)?_g(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var w=new Kl("action","action",null,s,h);e.push({event:w,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(fi!==0){var k=y?xg(h,y):new FormData(h);Lu(a,{pending:!0,data:k,method:h.method,action:f},null,k)}}else typeof f=="function"&&(w.preventDefault(),k=y?xg(h,y):new FormData(h),Lu(a,{pending:!0,data:k,method:h.method,action:f},f,k))},currentTarget:h}]})}}for(var vc=0;vc<eu.length;vc++){var bc=eu[vc],qb=bc.toLowerCase(),$b=bc[0].toUpperCase()+bc.slice(1);pn(qb,"on"+$b)}pn(Zf,"onAnimationEnd"),pn(Wf,"onAnimationIteration"),pn(ed,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(rb,"onTransitionRun"),pn(ab,"onTransitionStart"),pn(lb,"onTransitionCancel"),pn(td,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ka));function wg(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],h=s.event;s=s.listeners;e:{var f=void 0;if(i)for(var y=s.length-1;0<=y;y--){var w=s[y],k=w.instance,U=w.currentTarget;if(w=w.listener,k!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=U;try{f(h)}catch($){Xl($)}h.currentTarget=null,f=k}else for(y=0;y<s.length;y++){if(w=s[y],k=w.instance,U=w.currentTarget,w=w.listener,k!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=U;try{f(h)}catch($){Xl($)}h.currentTarget=null,f=k}}}}function Ne(e,i){var a=i[jo];a===void 0&&(a=i[jo]=new Set);var s=e+"__bubble";a.has(s)||(Sg(i,e,2,!1),a.add(s))}function _c(e,i,a){var s=0;i&&(s|=4),Sg(a,e,s,i)}var zs="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[zs]){e[zs]=!0,mf.forEach(function(a){a!=="selectionchange"&&(Gb.has(a)||_c(a,!1,e),_c(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[zs]||(i[zs]=!0,_c("selectionchange",!1,i))}}function Sg(e,i,a,s){switch(Zg(i)){case 2:var h=y_;break;case 8:h=v_;break;default:h=Uc}a=h.bind(null,i,a,e),h=void 0,!qo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),s?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function wc(e,i,a,s,h){var f=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var w=s.stateNode.containerInfo;if(w===h)break;if(y===4)for(y=s.return;y!==null;){var k=y.tag;if((k===3||k===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;w!==null;){if(y=rr(w),y===null)return;if(k=y.tag,k===5||k===6||k===26||k===27){s=f=y;continue e}w=w.parentNode}}s=s.return}Cf(function(){var U=f,$=Io(a),P=[];e:{var H=nd.get(e);if(H!==void 0){var q=Kl,se=e;switch(e){case"keypress":if(Gl(a)===0)break e;case"keydown":case"keyup":q=Uv;break;case"focusin":se="focus",q=Ko;break;case"focusout":se="blur",q=Ko;break;case"beforeblur":case"afterblur":q=Ko;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Iv;break;case Zf:case Wf:case ed:q=Av;break;case td:q=qv;break;case"scroll":case"scrollend":q=wv;break;case"wheel":q=Gv;break;case"copy":case"cut":case"paste":q=Ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Df;break;case"toggle":case"beforetoggle":q=Kv}var me=(i&4)!==0,Ke=!me&&(e==="scroll"||e==="scrollend"),j=me?H!==null?H+"Capture":null:H;me=[];for(var N=U,M;N!==null;){var K=N;if(M=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||M===null||j===null||(K=da(N,j),K!=null&&me.push(Pa(N,K,M))),Ke)break;N=N.return}0<me.length&&(H=new q(H,se,null,a,$),P.push({event:H,listeners:me}))}}if((i&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",H&&a!==Bo&&(se=a.relatedTarget||a.fromElement)&&(rr(se)||se[ir]))break e;if((q||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,q?(se=a.relatedTarget||a.toElement,q=U,se=se?rr(se):null,se!==null&&(Ke=u(se),me=se.tag,se!==Ke||me!==5&&me!==27&&me!==6)&&(se=null)):(q=null,se=U),q!==se)){if(me=Rf,K="onMouseLeave",j="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(me=Df,K="onPointerLeave",j="onPointerEnter",N="pointer"),Ke=q==null?H:fa(q),M=se==null?H:fa(se),H=new me(K,N+"leave",q,a,$),H.target=Ke,H.relatedTarget=M,K=null,rr($)===U&&(me=new me(j,N+"enter",se,a,$),me.target=M,me.relatedTarget=Ke,K=me),Ke=K,q&&se)t:{for(me=Vb,j=q,N=se,M=0,K=j;K;K=me(K))M++;K=0;for(var ge=N;ge;ge=me(ge))K++;for(;0<M-K;)j=me(j),M--;for(;0<K-M;)N=me(N),K--;for(;M--;){if(j===N||N!==null&&j===N.alternate){me=j;break t}j=me(j),N=me(N)}me=null}else me=null;q!==null&&Eg(P,H,q,me,!1),se!==null&&Ke!==null&&Eg(P,Ke,se,me,!0)}}e:{if(H=U?fa(U):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var Ue=qf;else if(If(H))if($f)Ue=tb;else{Ue=Wv;var ce=Zv}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&Lo(U.elementType)&&(Ue=qf):Ue=eb;if(Ue&&(Ue=Ue(e,U))){Hf(P,Ue,a,$);break e}ce&&ce(e,H,U),e==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&Uo(H,"number",H.value)}switch(ce=U?fa(U):window,e){case"focusin":(If(ce)||ce.contentEditable==="true")&&(dr=ce,Jo=U,xa=null);break;case"focusout":xa=Jo=dr=null;break;case"mousedown":Zo=!0;break;case"contextmenu":case"mouseup":case"dragend":Zo=!1,Qf(P,a,$);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":Qf(P,a,$)}var ke;if(Yo)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else fr?Lf(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(zf&&a.locale!=="ko"&&(fr||je!=="onCompositionStart"?je==="onCompositionEnd"&&fr&&(ke=Of()):(Qn=$,$o="value"in Qn?Qn.value:Qn.textContent,fr=!0)),ce=Ms(U,je),0<ce.length&&(je=new jf(je,e,null,a,$),P.push({event:je,listeners:ce}),ke?je.data=ke:(ke=Bf(a),ke!==null&&(je.data=ke)))),(ke=Yv?Xv(e,a):Fv(e,a))&&(je=Ms(U,"onBeforeInput"),0<je.length&&(ce=new jf("onBeforeInput","beforeinput",null,a,$),P.push({event:ce,listeners:je}),ce.data=ke)),Hb(P,e,U,a,$)}wg(P,i)})}function Pa(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ms(e,i){for(var a=i+"Capture",s=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=da(e,a),h!=null&&s.unshift(Pa(e,h,f)),h=da(e,i),h!=null&&s.push(Pa(e,h,f))),e.tag===3)return s;e=e.return}return[]}function Vb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eg(e,i,a,s,h){for(var f=i._reactName,y=[];a!==null&&a!==s;){var w=a,k=w.alternate,U=w.stateNode;if(w=w.tag,k!==null&&k===s)break;w!==5&&w!==26&&w!==27||U===null||(k=U,h?(U=da(a,f),U!=null&&y.unshift(Pa(a,U,k))):h||(U=da(a,f),U!=null&&y.push(Pa(a,U,k)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var Kb=/\r\n?/g,Pb=/\u0000|\uFFFD/g;function Tg(e){return(typeof e=="string"?e:""+e).replace(Kb,`
`).replace(Pb,"")}function kg(e,i){return i=Tg(i),Tg(e)===i}function Ve(e,i,a,s,h,f){switch(a){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||ur(e,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&ur(e,""+s);break;case"className":Il(e,"class",s);break;case"tabIndex":Il(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(e,a,s);break;case"style":kf(e,s,f);break;case"data":if(i!=="object"){Il(e,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ql(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Ve(e,i,"name",h.name,h,null),Ve(e,i,"formEncType",h.formEncType,h,null),Ve(e,i,"formMethod",h.formMethod,h,null),Ve(e,i,"formTarget",h.formTarget,h,null)):(Ve(e,i,"encType",h.encType,h,null),Ve(e,i,"method",h.method,h,null),Ve(e,i,"target",h.target,h,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ql(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=On);break;case"onScroll":s!=null&&Ne("scroll",e);break;case"onScrollEnd":s!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=ql(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),Bl(e,"popover",s);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Bl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_v.get(a)||a,Bl(e,a,s))}}function Sc(e,i,a,s,h,f){switch(a){case"style":kf(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ur(e,s):(typeof s=="number"||typeof s=="bigint")&&ur(e,""+s);break;case"onScroll":s!=null&&Ne("scroll",e);break;case"onScrollEnd":s!=null&&Ne("scrollend",e);break;case"onClick":s!=null&&(e.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Dt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof s=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,s,h);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Bl(e,a,s)}}}function xt(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var s=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":s=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ve(e,i,f,y,a,null)}}h&&Ve(e,i,"srcSet",a.srcSet,a,null),s&&Ve(e,i,"src",a.src,a,null);return;case"input":Ne("invalid",e);var w=f=y=h=null,k=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var $=a[s];if($!=null)switch(s){case"name":h=$;break;case"type":y=$;break;case"checked":k=$;break;case"defaultChecked":U=$;break;case"value":f=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,i));break;default:Ve(e,i,s,$,a,null)}}wf(e,f,w,k,U,y,h,!1);return;case"select":Ne("invalid",e),s=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":f=w;break;case"defaultValue":y=w;break;case"multiple":s=w;default:Ve(e,i,h,w,a,null)}i=f,a=y,e.multiple=!!s,i!=null?or(e,!!s,i,!1):a!=null&&or(e,!!s,a,!0);return;case"textarea":Ne("invalid",e),f=h=s=null;for(y in a)if(a.hasOwnProperty(y)&&(w=a[y],w!=null))switch(y){case"value":s=w;break;case"defaultValue":h=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(91));break;default:Ve(e,i,y,w,a,null)}Ef(e,s,h,f);return;case"option":for(k in a)a.hasOwnProperty(k)&&(s=a[k],s!=null)&&(k==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ve(e,i,k,s,a,null));return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(s=0;s<Ka.length;s++)Ne(Ka[s],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ve(e,i,U,s,a,null)}return;default:if(Lo(i)){for($ in a)a.hasOwnProperty($)&&(s=a[$],s!==void 0&&Sc(e,i,$,s,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!=null&&Ve(e,i,w,s,a,null))}function Yb(e,i,a,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,w=null,k=null,U=null,$=null;for(q in a){var P=a[q];if(a.hasOwnProperty(q)&&P!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":k=P;default:s.hasOwnProperty(q)||Ve(e,i,q,null,s,P)}}for(var H in s){var q=s[H];if(P=a[H],s.hasOwnProperty(H)&&(q!=null||P!=null))switch(H){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":$=q;break;case"value":y=q;break;case"defaultValue":w=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,i));break;default:q!==P&&Ve(e,i,H,q,s,P)}}Mo(e,y,w,k,U,$,f,h);return;case"select":q=y=w=H=null;for(f in a)if(k=a[f],a.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":q=k;default:s.hasOwnProperty(f)||Ve(e,i,f,null,s,k)}for(h in s)if(f=s[h],k=a[h],s.hasOwnProperty(h)&&(f!=null||k!=null))switch(h){case"value":H=f;break;case"defaultValue":w=f;break;case"multiple":y=f;default:f!==k&&Ve(e,i,h,f,s,k)}i=w,a=y,s=q,H!=null?or(e,!!a,H,!1):!!s!=!!a&&(i!=null?or(e,!!a,i,!0):or(e,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!s.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ve(e,i,w,null,s,h)}for(y in s)if(h=s[y],f=a[y],s.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":H=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==f&&Ve(e,i,y,h,s,f)}Sf(e,H,q);return;case"option":for(var se in a)H=a[se],a.hasOwnProperty(se)&&H!=null&&!s.hasOwnProperty(se)&&(se==="selected"?e.selected=!1:Ve(e,i,se,null,s,H));for(k in s)H=s[k],q=a[k],s.hasOwnProperty(k)&&H!==q&&(H!=null||q!=null)&&(k==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":Ve(e,i,k,H,s,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)H=a[me],a.hasOwnProperty(me)&&H!=null&&!s.hasOwnProperty(me)&&Ve(e,i,me,null,s,H);for(U in s)if(H=s[U],q=a[U],s.hasOwnProperty(U)&&H!==q&&(H!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,i));break;default:Ve(e,i,U,H,s,q)}return;default:if(Lo(i)){for(var Ke in a)H=a[Ke],a.hasOwnProperty(Ke)&&H!==void 0&&!s.hasOwnProperty(Ke)&&Sc(e,i,Ke,void 0,s,H);for($ in s)H=s[$],q=a[$],!s.hasOwnProperty($)||H===q||H===void 0&&q===void 0||Sc(e,i,$,H,s,q);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!s.hasOwnProperty(j)&&Ve(e,i,j,null,s,H);for(P in s)H=s[P],q=a[P],!s.hasOwnProperty(P)||H===q||H==null&&q==null||Ve(e,i,P,H,s,q)}function Ag(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var h=a[s],f=h.transferSize,y=h.initiatorType,w=h.duration;if(f&&w&&Ag(y)){for(y=0,w=h.responseEnd,s+=1;s<a.length;s++){var k=a[s],U=k.startTime;if(U>w)break;var $=k.transferSize,P=k.initiatorType;$&&Ag(P)&&(k=k.responseEnd,y+=$*(k<w?1:(w-U)/(k-U)))}if(--s,i+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ec=null,Tc=null;function Us(e){return e.nodeType===9?e:e.ownerDocument}function Cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Og(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function kc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ac=null;function Fb(){var e=window.event;return e&&e.type==="popstate"?e===Ac?!1:(Ac=e,!0):(Ac=null,!1)}var Ng=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(e){return Rg.resolve(null).then(e).catch(Zb)}:Ng;function Zb(e){setTimeout(function(){throw e})}function di(e){return e==="head"}function jg(e,i){var a=i,s=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(h),Hr(i);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Ya(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ya(a);for(var f=a.firstChild;f;){var y=f.nextSibling,w=f.nodeName;f[ha]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Ya(e.ownerDocument.body);a=h}while(a);Hr(i)}function Dg(e,i){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Cc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cc(a),Do(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Wb(e,i,a,s){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ha])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function e_(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=cn(e.nextSibling),e===null))return null;return e}function zg(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=cn(e.nextSibling),e===null))return null;return e}function Oc(e){return e.data==="$?"||e.data==="$~"}function Nc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t_(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var s=function(){i(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function cn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Rc=null;function Mg(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return cn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Ug(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Lg(e,i,a){switch(i=Us(a),e){case"html":if(e=i.documentElement,!e)throw Error(l(452));return e;case"head":if(e=i.head,!e)throw Error(l(453));return e;case"body":if(e=i.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ya(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Do(e)}var hn=new Map,Bg=new Set;function Ls(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=Y.d;Y.d={f:n_,r:i_,D:r_,C:a_,L:l_,m:s_,X:u_,S:o_,M:c_};function n_(){var e=Kn.f(),i=Cs();return e||i}function i_(e){var i=ar(e);i!==null&&i.tag===5&&i.type==="form"?tp(i):Kn.r(e)}var Lr=typeof document>"u"?null:document;function Ig(e,i,a){var s=Lr;if(s&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Bg.has(h)||(Bg.add(h),e={rel:e,crossOrigin:a,href:i},s.querySelector(h)===null&&(i=s.createElement("link"),xt(i,"link",e),gt(i),s.head.appendChild(i)))}}function r_(e){Kn.D(e),Ig("dns-prefetch",e,null)}function a_(e,i){Kn.C(e,i),Ig("preconnect",e,i)}function l_(e,i,a){Kn.L(e,i,a);var s=Lr;if(s&&e&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(i){case"style":f=Br(e);break;case"script":f=Ir(e)}hn.has(f)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),hn.set(f,e),s.querySelector(h)!==null||i==="style"&&s.querySelector(Xa(f))||i==="script"&&s.querySelector(Fa(f))||(i=s.createElement("link"),xt(i,"link",e),gt(i),s.head.appendChild(i)))}}function s_(e,i){Kn.m(e,i);var a=Lr;if(a&&e){var s=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(s)+'"][href="'+nn(e)+'"]',f=h;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ir(e)}if(!hn.has(f)&&(e=b({rel:"modulepreload",href:e},i),hn.set(f,e),a.querySelector(h)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fa(f)))return}s=a.createElement("link"),xt(s,"link",e),gt(s),a.head.appendChild(s)}}}function o_(e,i,a){Kn.S(e,i,a);var s=Lr;if(s&&e){var h=lr(s).hoistableStyles,f=Br(e);i=i||"default";var y=h.get(f);if(!y){var w={loading:0,preload:null};if(y=s.querySelector(Xa(f)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=hn.get(f))&&jc(e,a);var k=y=s.createElement("link");gt(k),xt(k,"link",e),k._p=new Promise(function(U,$){k.onload=U,k.onerror=$}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Bs(y,i,s)}y={type:"stylesheet",instance:y,count:1,state:w},h.set(f,y)}}}function u_(e,i){Kn.X(e,i);var a=Lr;if(a&&e){var s=lr(a).hoistableScripts,h=Ir(e),f=s.get(h);f||(f=a.querySelector(Fa(h)),f||(e=b({src:e,async:!0},i),(i=hn.get(h))&&Dc(e,i),f=a.createElement("script"),gt(f),xt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(h,f))}}function c_(e,i){Kn.M(e,i);var a=Lr;if(a&&e){var s=lr(a).hoistableScripts,h=Ir(e),f=s.get(h);f||(f=a.querySelector(Fa(h)),f||(e=b({src:e,async:!0,type:"module"},i),(i=hn.get(h))&&Dc(e,i),f=a.createElement("script"),gt(f),xt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(h,f))}}function Hg(e,i,a,s){var h=(h=O.current)?Ls(h):null;if(!h)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Br(a.href),a=lr(h).hoistableStyles,s=a.get(i),s||(s={type:"style",instance:null,count:0,state:null},a.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Br(a.href);var f=lr(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Xa(e)))&&!f._p&&(y.instance=f,y.state.loading=5),hn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(e,a),f||h_(h,e,a,y.state))),i&&s===null)throw Error(l(528,""));return y}if(i&&s!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ir(a),a=lr(h).hoistableScripts,s=a.get(i),s||(s={type:"script",instance:null,count:0,state:null},a.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Br(e){return'href="'+nn(e)+'"'}function Xa(e){return'link[rel="stylesheet"]['+e+"]"}function qg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function h_(e,i,a,s){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=e.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),xt(i,"link",a),gt(i),e.head.appendChild(i))}function Ir(e){return'[src="'+nn(e)+'"]'}function Fa(e){return"script[async]"+e}function $g(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var s=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(s)return i.instance=s,gt(s),s;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),gt(s),xt(s,"style",h),Bs(s,a.precedence,e),i.instance=s;case"stylesheet":h=Br(a.href);var f=e.querySelector(Xa(h));if(f)return i.state.loading|=4,i.instance=f,gt(f),f;s=qg(a),(h=hn.get(h))&&jc(s,h),f=(e.ownerDocument||e).createElement("link"),gt(f);var y=f;return y._p=new Promise(function(w,k){y.onload=w,y.onerror=k}),xt(f,"link",s),i.state.loading|=4,Bs(f,a.precedence,e),i.instance=f;case"script":return f=Ir(a.src),(h=e.querySelector(Fa(f)))?(i.instance=h,gt(h),h):(s=a,(h=hn.get(f))&&(s=b({},a),Dc(s,h)),e=e.ownerDocument||e,h=e.createElement("script"),gt(h),xt(h,"link",s),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,Bs(s,a.precedence,e));return i.instance}function Bs(e,i,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=s.length?s[s.length-1]:null,f=h,y=0;y<s.length;y++){var w=s[y];if(w.dataset.precedence===i)f=w;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function jc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Dc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Is=null;function Gg(e,i,a){if(Is===null){var s=new Map,h=Is=new Map;h.set(a,s)}else h=Is,s=h.get(a),s||(s=new Map,h.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ha]||f[yt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var w=s.get(y);w?w.push(f):s.set(y,[f])}}return s}function Vg(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function f_(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Kg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function d_(e,i,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Br(s.href),f=i.querySelector(Xa(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Hs.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,gt(f);return}f=i.ownerDocument||i,s=qg(s),(h=hn.get(h))&&jc(s,h),f=f.createElement("link"),gt(f);var y=f;y._p=new Promise(function(w,k){y.onload=w,y.onerror=k}),xt(f,"link",s),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Hs.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var zc=0;function p_(e,i){return e.stylesheets&&e.count===0&&$s(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&$s(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&zc===0&&(zc=62500*Xb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$s(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>zc?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(h)}}:null}function Hs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$s(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qs=null;function $s(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qs=new Map,i.forEach(g_,e),qs=null,Hs.call(e))}function g_(e,i){if(!(i.state.loading&4)){var a=qs.get(e);if(a)var s=a.get(null);else{a=new Map,qs.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),s=y)}s&&a.set(null,s)}h=i.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||s,f===s&&a.set(null,h),a.set(y,h),this.count++,s=Hs.bind(this),h.addEventListener("load",s),h.addEventListener("error",s),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Qa={$$typeof:D,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function m_(e,i,a,s,h,f,y,w,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.hiddenUpdates=Oo(null),this.identifierPrefix=s,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Pg(e,i,a,s,h,f,y,w,k,U,$,P){return e=new m_(e,i,a,y,k,U,$,P,w),i=1,f===!0&&(i|=24),f=Kt(3,null,null,i),e.current=f,f.stateNode=e,i=du(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:s,isDehydrated:a,cache:i},yu(f),e}function Yg(e){return e?(e=mr,e):mr}function Xg(e,i,a,s,h,f){h=Yg(h),s.context===null?s.context=h:s.pendingContext=h,s=ni(i),s.payload={element:a},f=f===void 0?null:f,f!==null&&(s.callback=f),a=ii(e,s,i),a!==null&&(It(a,e,i),Ca(a,e,i))}function Fg(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Mc(e,i){Fg(e,i),(e=e.alternate)&&Fg(e,i)}function Qg(e){if(e.tag===13||e.tag===31){var i=Ri(e,67108864);i!==null&&It(i,e,67108864),Mc(e,67108864)}}function Jg(e){if(e.tag===13||e.tag===31){var i=Qt();i=No(i);var a=Ri(e,i);a!==null&&It(a,e,i),Mc(e,i)}}var Gs=!0;function y_(e,i,a,s){var h=B.T;B.T=null;var f=Y.p;try{Y.p=2,Uc(e,i,a,s)}finally{Y.p=f,B.T=h}}function v_(e,i,a,s){var h=B.T;B.T=null;var f=Y.p;try{Y.p=8,Uc(e,i,a,s)}finally{Y.p=f,B.T=h}}function Uc(e,i,a,s){if(Gs){var h=Lc(s);if(h===null)wc(e,i,s,Vs,a),Wg(e,s);else if(__(h,e,i,a,s))s.stopPropagation();else if(Wg(e,s),i&4&&-1<b_.indexOf(e)){for(;h!==null;){var f=ar(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ki(f.pendingLanes);if(y!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var k=1<<31-Pe(y);w.entanglements[1]|=k,y&=~k}Sn(f),(Be&6)===0&&(ks=Ct()+500,Va(0))}}break;case 31:case 13:w=Ri(f,2),w!==null&&It(w,f,2),Cs(),Mc(f,2)}if(f=Lc(s),f===null&&wc(e,i,s,Vs,a),f===h)break;h=f}h!==null&&s.stopPropagation()}else wc(e,i,s,null,a)}}function Lc(e){return e=Io(e),Bc(e)}var Vs=null;function Bc(e){if(Vs=null,e=rr(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===31){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Vs=e,null}function Zg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Co()){case V:return 2;case ee:return 8;case be:case Ce:return 32;case He:return 268435456;default:return 32}default:return 32}}var Ic=!1,pi=null,gi=null,mi=null,Ja=new Map,Za=new Map,yi=[],b_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wg(e,i){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ja.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(i.pointerId)}}function Wa(e,i,a,s,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:s,nativeEvent:f,targetContainers:[h]},i!==null&&(i=ar(i),i!==null&&Qg(i)),e):(e.eventSystemFlags|=s,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function __(e,i,a,s,h){switch(i){case"focusin":return pi=Wa(pi,e,i,a,s,h),!0;case"dragenter":return gi=Wa(gi,e,i,a,s,h),!0;case"mouseover":return mi=Wa(mi,e,i,a,s,h),!0;case"pointerover":var f=h.pointerId;return Ja.set(f,Wa(Ja.get(f)||null,e,i,a,s,h)),!0;case"gotpointercapture":return f=h.pointerId,Za.set(f,Wa(Za.get(f)||null,e,i,a,s,h)),!0}return!1}function em(e){var i=rr(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,pf(e.priority,function(){Jg(a)});return}}else if(i===31){if(i=d(a),i!==null){e.blockedOn=i,pf(e.priority,function(){Jg(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Lc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Bo=s,a.target.dispatchEvent(s),Bo=null}else return i=ar(a),i!==null&&Qg(i),e.blockedOn=a,!1;i.shift()}return!0}function tm(e,i,a){Ks(e)&&a.delete(i)}function x_(){Ic=!1,pi!==null&&Ks(pi)&&(pi=null),gi!==null&&Ks(gi)&&(gi=null),mi!==null&&Ks(mi)&&(mi=null),Ja.forEach(tm),Za.forEach(tm)}function Ps(e,i){e.blockedOn===i&&(e.blockedOn=null,Ic||(Ic=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,x_)))}var Ys=null;function nm(e){Ys!==e&&(Ys=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ys===e&&(Ys=null);for(var i=0;i<e.length;i+=3){var a=e[i],s=e[i+1],h=e[i+2];if(typeof s!="function"){if(Bc(s||a)===null)continue;break}var f=ar(a);f!==null&&(e.splice(i,3),i-=3,Lu(f,{pending:!0,data:h,method:a.method,action:s},s,h))}}))}function Hr(e){function i(k){return Ps(k,e)}pi!==null&&Ps(pi,e),gi!==null&&Ps(gi,e),mi!==null&&Ps(mi,e),Ja.forEach(i),Za.forEach(i);for(var a=0;a<yi.length;a++){var s=yi[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<yi.length&&(a=yi[0],a.blockedOn===null);)em(a),a.blockedOn===null&&yi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var h=a[s],f=a[s+1],y=h[Dt]||null;if(typeof f=="function")y||nm(a);else if(y){var w=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Dt]||null)w=y.formAction;else if(Bc(h)!==null)continue}else w=y.action;typeof w=="function"?a[s+1]=w:(a.splice(s,3),s-=3),nm(a)}}}function im(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Hc(e){this._internalRoot=e}Xs.prototype.render=Hc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,s=Qt();Xg(a,s,e,i,null,null)},Xs.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Xg(e.current,2,null,e,null,null),Cs(),i[ir]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var i=df();e={blockedOn:null,target:e,priority:i};for(var a=0;a<yi.length&&i!==0&&i<yi[a].priority;a++);yi.splice(a,0,e),a===0&&em(e)}};var rm=n.version;if(rm!=="19.2.4")throw Error(l(527,rm,"19.2.4"));Y.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(i),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var w_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{Ot=Fs.inject(w_),ft=Fs}catch{}}return tl.createRoot=function(e,i){if(!o(e))throw Error(l(299));var a=!1,s="",h=hp,f=fp,y=dp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Pg(e,1,!1,null,null,a,s,null,h,f,y,im),e[ir]=i.current,xc(e),new Hc(i)},tl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(l(299));var s=!1,h="",f=hp,y=fp,w=dp,k=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),i=Pg(e,1,!0,i,a??null,s,h,k,f,y,w,im),i.context=Yg(null),a=i.current,s=Qt(),s=No(s),h=ni(s),h.callback=null,ii(a,h,s),a=s,i.current.lanes=a,ca(i,a),Sn(i),e[ir]=i.current,xc(e),new Xs(i)},tl.version="19.2.4",tl}var pm;function j_(){if(pm)return Gc.exports;pm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Gc.exports=R_(),Gc.exports}var D_=j_();const Qy=(...t)=>t.filter((n,r,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===r).join(" ").trim();const z_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const M_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,l)=>l?l.toUpperCase():r.toLowerCase());const gm=t=>{const n=M_(t);return n.charAt(0).toUpperCase()+n.slice(1)};var U_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const L_=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const B_=ue.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:o="",children:u,iconNode:c,...d},g)=>ue.createElement("svg",{ref:g,...U_,width:n,height:n,stroke:t,strokeWidth:l?Number(r)*24/Number(n):r,className:Qy("lucide",o),...!u&&!L_(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,m])=>ue.createElement(p,m)),...Array.isArray(u)?u:[u]]));const Me=(t,n)=>{const r=ue.forwardRef(({className:l,...o},u)=>ue.createElement(B_,{ref:u,iconNode:n,className:Qy(`lucide-${z_(gm(t))}`,`lucide-${t}`,l),...o}));return r.displayName=gm(t),r};const I_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],H_=Me("book-open",I_);const q_=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],$_=Me("bookmark",q_);const G_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],V_=Me("bot",G_);const K_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yo=Me("check",K_);const P_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Y_=Me("chevron-right",P_);const X_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],F_=Me("circle-alert",X_);const Q_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],J_=Me("copy",Q_);const Z_=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],W_=Me("cpu",Z_);const ex=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tx=Me("download",ex);const nx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Jy=Me("external-link",nx);const ix=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rx=Me("file-text",ix);const ax=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],mm=Me("file",ax);const lx=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],sx=Me("folder-open",lx);const ox=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ux=Me("folder-plus",ox);const cx=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zy=Me("key",cx);const hx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wy=Me("loader-circle",hx);const fx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dx=Me("menu",fx);const px=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],gx=Me("message-circle",px);const mx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yx=Me("pencil",mx);const vx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],e0=Me("plus",vx);const bx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_x=Me("search",bx);const xx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wx=Me("send",xx);const Sx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t0=Me("settings",Sx);const Ex=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],n0=Me("sparkles",Ex);const Tx=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kx=Me("square-check-big",Tx);const Ax=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Cx=Me("square",Ax);const Ox=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nx=Me("star",Ox);const Rx=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],jx=Me("tag",Rx);const Dx=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],zx=Me("thumbs-down",Dx);const Mx=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Ux=Me("thumbs-up",Mx);const Lx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],i0=Me("trash-2",Lx);const Bx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ix=Me("upload",Bx);const Hx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ih=Me("user",Hx);const qx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uo=Me("x",qx),$x=({profile:t,history:n,onNewChat:r,onSelectChat:l,onDeleteChat:o,onOpenSettings:u,currentChatId:c,onRenameChat:d,searchQuery:g,onSearchChange:p,onShowBookmarks:m})=>{const[b,_]=ue.useState(null),[v,T]=ue.useState(""),C=(L,D)=>{_(L),T(D)},z=()=>{b&&v.trim()&&d(b,v.trim()),_(null)},R=()=>{_(null)};return x.jsxs("aside",{className:"w-80 bg-white border-r border-gray-200 flex flex-col h-full hidden md:flex font-sans",children:[x.jsx("div",{className:"p-4 border-b border-gray-200",children:x.jsxs("div",{className:"flex items-center gap-3 bg-indigo-50 p-3 rounded-xl",children:[x.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold",children:t?.name?t.name.charAt(0).toUpperCase():x.jsx(Ih,{size:20})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:t?.name||"Gio vin"}),x.jsxs("p",{className:"text-xs text-indigo-600 truncate",children:[t?.subject||"Cha cp nht"," - ",t?.school_level||""]})]}),x.jsx("button",{onClick:u,className:"p-1.5 text-gray-500 hover:bg-white hover:text-indigo-600 rounded-lg transition-colors",children:x.jsx(t0,{size:18})})]})}),x.jsx("div",{className:"p-4 pb-2",children:x.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-xl font-medium transition-all shadow-sm active:scale-95",children:[x.jsx(e0,{size:20}),"Cuc tr chuyn mi"]})}),x.jsx("div",{className:"px-4 pb-3",children:x.jsxs("div",{className:"relative",children:[x.jsx(_x,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:15}),x.jsx("input",{type:"text",value:g,onChange:L=>p(L.target.value),placeholder:"Tm cuc tr chuyn...",className:"w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors placeholder:text-gray-400"}),g&&x.jsx("button",{onClick:()=>p(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 rounded",children:x.jsx(uo,{size:14})})]})}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-3 space-y-1 custom-scrollbar",children:[x.jsx("h4",{className:"px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Lch s chat"}),n.map(L=>x.jsxs("div",{onClick:()=>b!==L.id&&l(L.id),className:`group flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${c===L.id?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[x.jsx(gx,{size:18,className:c===L.id?"text-indigo-600":"text-gray-400"}),b===L.id?x.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[x.jsx("input",{type:"text",value:v,onChange:D=>T(D.target.value),onKeyDown:D=>{D.key==="Enter"&&z(),D.key==="Escape"&&R()},className:"flex-1 text-sm px-2 py-1 border border-indigo-300 rounded focus:ring-1 focus:ring-indigo-500 outline-none",autoFocus:!0,onClick:D=>D.stopPropagation()}),x.jsx("button",{onClick:D=>{D.stopPropagation(),z()},className:"p-1 text-green-600 hover:bg-green-50 rounded",children:x.jsx(yo,{size:14})}),x.jsx("button",{onClick:D=>{D.stopPropagation(),R()},className:"p-1 text-gray-400 hover:bg-gray-100 rounded",children:x.jsx(uo,{size:14})})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"flex-1 truncate text-sm font-medium",children:L.title}),x.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-0.5 transition-all",children:[x.jsx("button",{onClick:D=>{D.stopPropagation(),C(L.id,L.title)},className:"p-1 text-gray-400 hover:text-indigo-500 rounded transition-colors",title:"i tn",children:x.jsx(yx,{size:14})}),x.jsx("button",{onClick:D=>{D.stopPropagation(),o(L.id)},className:"p-1 text-gray-400 hover:text-red-500 rounded transition-colors",title:"Xa",children:x.jsx(i0,{size:14})})]})]})]},L.id)),n.length===0&&x.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:g?"Khng tm thy cuc tr chuyn":"Cha c lch s tr chuyn"})]}),x.jsxs("div",{className:"p-3 border-t border-gray-200 grid grid-cols-2 gap-2 text-xs font-medium text-gray-500",children:[x.jsxs("button",{onClick:u,className:"flex flex-col items-center justify-center p-2 hover:bg-gray-50 rounded-lg gap-1 transition-colors",children:[x.jsx(H_,{size:20,className:"text-gray-400 mb-1"}),"Th vin"]}),x.jsxs("button",{onClick:m,className:"flex flex-col items-center justify-center p-2 hover:bg-indigo-50 rounded-lg gap-1 transition-colors hover:text-indigo-600",children:[x.jsx($_,{size:20,className:"text-gray-400 mb-1"})," lu"]})]})]})};function Gx(t,n){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Vx=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Px={};function ym(t,n){return(Px.jsx?Kx:Vx).test(t)}const Yx=/[ \t\n\f\r]/g;function Xx(t){return typeof t=="object"?t.type==="text"?vm(t.value):!1:vm(t)}function vm(t){return t.replace(Yx,"")===""}class Cl{constructor(n,r,l){this.normal=r,this.property=n,l&&(this.space=l)}}Cl.prototype.normal={};Cl.prototype.property={};Cl.prototype.space=void 0;function r0(t,n){const r={},l={};for(const o of t)Object.assign(r,o.property),Object.assign(l,o.normal);return new Cl(r,l,n)}function gh(t){return t.toLowerCase()}class $t{constructor(n,r){this.attribute=r,this.property=n}}$t.prototype.attribute="";$t.prototype.booleanish=!1;$t.prototype.boolean=!1;$t.prototype.commaOrSpaceSeparated=!1;$t.prototype.commaSeparated=!1;$t.prototype.defined=!1;$t.prototype.mustUseProperty=!1;$t.prototype.number=!1;$t.prototype.overloadedBoolean=!1;$t.prototype.property="";$t.prototype.spaceSeparated=!1;$t.prototype.space=void 0;let Fx=0;const Ae=Ji(),ct=Ji(),mh=Ji(),F=Ji(),Fe=Ji(),ea=Ji(),Jt=Ji();function Ji(){return 2**++Fx}const yh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ae,booleanish:ct,commaOrSpaceSeparated:Jt,commaSeparated:ea,number:F,overloadedBoolean:mh,spaceSeparated:Fe},Symbol.toStringTag,{value:"Module"})),Yc=Object.keys(yh);class Hh extends $t{constructor(n,r,l,o){let u=-1;if(super(n,r),bm(this,"space",o),typeof l=="number")for(;++u<Yc.length;){const c=Yc[u];bm(this,Yc[u],(l&yh[c])===yh[c])}}}Hh.prototype.defined=!0;function bm(t,n,r){r&&(t[n]=r)}function ia(t){const n={},r={};for(const[l,o]of Object.entries(t.properties)){const u=new Hh(l,t.transform(t.attributes||{},l),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(l)&&(u.mustUseProperty=!0),n[l]=u,r[gh(l)]=l,r[gh(u.attribute)]=l}return new Cl(n,r,t.space)}const a0=ia({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:F,ariaColIndex:F,ariaColSpan:F,ariaControls:Fe,ariaCurrent:null,ariaDescribedBy:Fe,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Fe,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Fe,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Fe,ariaLevel:F,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Fe,ariaPlaceholder:null,ariaPosInSet:F,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Fe,ariaRowCount:F,ariaRowIndex:F,ariaRowSpan:F,ariaSelected:ct,ariaSetSize:F,ariaSort:null,ariaValueMax:F,ariaValueMin:F,ariaValueNow:F,ariaValueText:null,role:null},transform(t,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function l0(t,n){return n in t?t[n]:n}function s0(t,n){return l0(t,n.toLowerCase())}const Qx=ia({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ea,acceptCharset:Fe,accessKey:Fe,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:Fe,autoFocus:Ae,autoPlay:Ae,blocking:Fe,capture:null,charSet:null,checked:Ae,cite:null,className:Fe,cols:F,colSpan:null,content:null,contentEditable:ct,controls:Ae,controlsList:Fe,coords:F|ea,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:mh,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:Fe,height:F,hidden:mh,high:F,href:null,hrefLang:null,htmlFor:Fe,httpEquiv:Fe,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:Fe,itemRef:Fe,itemScope:Ae,itemType:Fe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:F,manifest:null,max:null,maxLength:F,media:null,method:null,min:null,minLength:F,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:F,pattern:null,ping:Fe,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:Fe,required:Ae,reversed:Ae,rows:F,rowSpan:F,sandbox:Fe,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:F,sizes:null,slot:null,span:F,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:F,step:null,style:null,tabIndex:F,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:ct,width:F,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Fe,axis:null,background:null,bgColor:null,border:F,borderColor:null,bottomMargin:F,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:F,leftMargin:F,link:null,longDesc:null,lowSrc:null,marginHeight:F,marginWidth:F,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:F,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:F,valueType:null,version:null,vAlign:null,vLink:null,vSpace:F,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:F,security:null,unselectable:null},space:"html",transform:s0}),Jx=ia({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jt,accentHeight:F,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:F,amplitude:F,arabicForm:null,ascent:F,attributeName:null,attributeType:null,azimuth:F,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:F,by:null,calcMode:null,capHeight:F,className:Fe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:F,diffuseConstant:F,direction:null,display:null,dur:null,divisor:F,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:F,enableBackground:null,end:null,event:null,exponent:F,externalResourcesRequired:null,fill:null,fillOpacity:F,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ea,g2:ea,glyphName:ea,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:F,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:F,horizOriginX:F,horizOriginY:F,id:null,ideographic:F,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:F,k:F,k1:F,k2:F,k3:F,k4:F,kernelMatrix:Jt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:F,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:F,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:F,overlineThickness:F,paintOrder:null,panose1:null,path:null,pathLength:F,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Fe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:F,pointsAtY:F,pointsAtZ:F,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jt,rev:Jt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jt,requiredFeatures:Jt,requiredFonts:Jt,requiredFormats:Jt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:F,specularExponent:F,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:F,strikethroughThickness:F,string:null,stroke:null,strokeDashArray:Jt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:F,strokeOpacity:F,strokeWidth:null,style:null,surfaceScale:F,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jt,tabIndex:F,tableValues:null,target:null,targetX:F,targetY:F,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:F,underlineThickness:F,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:F,values:null,vAlphabetic:F,vMathematical:F,vectorEffect:null,vHanging:F,vIdeographic:F,version:null,vertAdvY:F,vertOriginX:F,vertOriginY:F,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:F,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:l0}),o0=ia({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,n){return"xlink:"+n.slice(5).toLowerCase()}}),u0=ia({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:s0}),c0=ia({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,n){return"xml:"+n.slice(3).toLowerCase()}}),Zx={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Wx=/[A-Z]/g,_m=/-[a-z]/g,e1=/^data[-\w.:]+$/i;function t1(t,n){const r=gh(n);let l=n,o=$t;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&e1.test(n)){if(n.charAt(4)==="-"){const u=n.slice(5).replace(_m,i1);l="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=n.slice(4);if(!_m.test(u)){let c=u.replace(Wx,n1);c.charAt(0)!=="-"&&(c="-"+c),n="data"+c}}o=Hh}return new o(l,n)}function n1(t){return"-"+t.toLowerCase()}function i1(t){return t.charAt(1).toUpperCase()}const r1=r0([a0,Qx,o0,u0,c0],"html"),qh=r0([a0,Jx,o0,u0,c0],"svg");function a1(t){return t.join(" ").trim()}var qr={},Xc,xm;function l1(){if(xm)return Xc;xm=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,g=`
`,p="/",m="*",b="",_="comment",v="declaration";function T(z,R){if(typeof z!="string")throw new TypeError("First argument must be a string");if(!z)return[];R=R||{};var L=1,D=1;function Q(oe){var J=oe.match(n);J&&(L+=J.length);var B=oe.lastIndexOf(g);D=~B?oe.length-B:D+oe.length}function te(){var oe={line:L,column:D};return function(J){return J.position=new I(oe),de(),J}}function I(oe){this.start=oe,this.end={line:L,column:D},this.source=R.source}I.prototype.content=z;function X(oe){var J=new Error(R.source+":"+L+":"+D+": "+oe);if(J.reason=oe,J.filename=R.source,J.line=L,J.column=D,J.source=z,!R.silent)throw J}function fe(oe){var J=oe.exec(z);if(J){var B=J[0];return Q(B),z=z.slice(B.length),J}}function de(){fe(r)}function xe(oe){var J;for(oe=oe||[];J=re();)J!==!1&&oe.push(J);return oe}function re(){var oe=te();if(!(p!=z.charAt(0)||m!=z.charAt(1))){for(var J=2;b!=z.charAt(J)&&(m!=z.charAt(J)||p!=z.charAt(J+1));)++J;if(J+=2,b===z.charAt(J-1))return X("End of comment missing");var B=z.slice(2,J-2);return D+=2,Q(B),z=z.slice(J),D+=2,oe({type:_,comment:B})}}function ne(){var oe=te(),J=fe(l);if(J){if(re(),!fe(o))return X("property missing ':'");var B=fe(u),Y=oe({type:v,property:C(J[0].replace(t,b)),value:B?C(B[0].replace(t,b)):b});return fe(c),Y}}function Se(){var oe=[];xe(oe);for(var J;J=ne();)J!==!1&&(oe.push(J),xe(oe));return oe}return de(),Se()}function C(z){return z?z.replace(d,b):b}return Xc=T,Xc}var wm;function s1(){if(wm)return qr;wm=1;var t=qr&&qr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(qr,"__esModule",{value:!0}),qr.default=r;const n=t(l1());function r(l,o){let u=null;if(!l||typeof l!="string")return u;const c=(0,n.default)(l),d=typeof o=="function";return c.forEach(g=>{if(g.type!=="declaration")return;const{property:p,value:m}=g;d?o(p,m,g):m&&(u=u||{},u[p]=m)}),u}return qr}var nl={},Sm;function o1(){if(Sm)return nl;Sm=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(p){return!p||r.test(p)||t.test(p)},c=function(p,m){return m.toUpperCase()},d=function(p,m){return"".concat(m,"-")},g=function(p,m){return m===void 0&&(m={}),u(p)?p:(p=p.toLowerCase(),m.reactCompat?p=p.replace(o,d):p=p.replace(l,d),p.replace(n,c))};return nl.camelCase=g,nl}var il,Em;function u1(){if(Em)return il;Em=1;var t=il&&il.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},n=t(s1()),r=o1();function l(o,u){var c={};return!o||typeof o!="string"||(0,n.default)(o,function(d,g){d&&g&&(c[(0,r.camelCase)(d,u)]=g)}),c}return l.default=l,il=l,il}var c1=u1();const h1=Lh(c1),h0=f0("end"),$h=f0("start");function f0(t){return n;function n(r){const l=r&&r.position&&r.position[t]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function f1(t){const n=$h(t),r=h0(t);if(n&&r)return{start:n,end:r}}function hl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Tm(t.position):"start"in t||"end"in t?Tm(t):"line"in t||"column"in t?vh(t):""}function vh(t){return km(t&&t.line)+":"+km(t&&t.column)}function Tm(t){return vh(t&&t.start)+"-"+vh(t&&t.end)}function km(t){return t&&typeof t=="number"?t:1}class At extends Error{constructor(n,r,l){super(),typeof r=="string"&&(l=r,r=void 0);let o="",u={},c=!1;if(r&&("line"in r&&"column"in r?u={place:r}:"start"in r&&"end"in r?u={place:r}:"type"in r?u={ancestors:[r],place:r.position}:u={...r}),typeof n=="string"?o=n:!u.cause&&n&&(c=!0,o=n.message,u.cause=n),!u.ruleId&&!u.source&&typeof l=="string"){const g=l.indexOf(":");g===-1?u.ruleId=l:(u.source=l.slice(0,g),u.ruleId=l.slice(g+1))}if(!u.place&&u.ancestors&&u.ancestors){const g=u.ancestors[u.ancestors.length-1];g&&(u.place=g.position)}const d=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=d?d.line:void 0,this.name=hl(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}At.prototype.file="";At.prototype.name="";At.prototype.reason="";At.prototype.message="";At.prototype.stack="";At.prototype.column=void 0;At.prototype.line=void 0;At.prototype.ancestors=void 0;At.prototype.cause=void 0;At.prototype.fatal=void 0;At.prototype.place=void 0;At.prototype.ruleId=void 0;At.prototype.source=void 0;const Gh={}.hasOwnProperty,d1=new Map,p1=/[A-Z]/g,g1=new Set(["table","tbody","thead","tfoot","tr"]),m1=new Set(["td","th"]),d0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function y1(t,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let l;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=T1(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=E1(r,n.jsx,n.jsxs)}const o={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:l,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?qh:r1,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},u=p0(o,t,void 0);return u&&typeof u!="string"?u:o.create(t,o.Fragment,{children:u||void 0},void 0)}function p0(t,n,r){if(n.type==="element")return v1(t,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return b1(t,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return x1(t,n,r);if(n.type==="mdxjsEsm")return _1(t,n);if(n.type==="root")return w1(t,n,r);if(n.type==="text")return S1(t,n)}function v1(t,n,r){const l=t.schema;let o=l;n.tagName.toLowerCase()==="svg"&&l.space==="html"&&(o=qh,t.schema=o),t.ancestors.push(n);const u=m0(t,n.tagName,!1),c=k1(t,n);let d=Kh(t,n);return g1.has(n.tagName)&&(d=d.filter(function(g){return typeof g=="string"?!Xx(g):!0})),g0(t,c,u,n),Vh(c,d),t.ancestors.pop(),t.schema=l,t.create(n,u,c,r)}function b1(t,n){if(n.data&&n.data.estree&&t.evaluater){const l=n.data.estree.body[0];return l.type,t.evaluater.evaluateExpression(l.expression)}yl(t,n.position)}function _1(t,n){if(n.data&&n.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(n.data.estree);yl(t,n.position)}function x1(t,n,r){const l=t.schema;let o=l;n.name==="svg"&&l.space==="html"&&(o=qh,t.schema=o),t.ancestors.push(n);const u=n.name===null?t.Fragment:m0(t,n.name,!0),c=A1(t,n),d=Kh(t,n);return g0(t,c,u,n),Vh(c,d),t.ancestors.pop(),t.schema=l,t.create(n,u,c,r)}function w1(t,n,r){const l={};return Vh(l,Kh(t,n)),t.create(n,t.Fragment,l,r)}function S1(t,n){return n.value}function g0(t,n,r,l){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(n.node=l)}function Vh(t,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(t.children=r)}}function E1(t,n,r){return l;function l(o,u,c,d){const p=Array.isArray(c.children)?r:n;return d?p(u,c,d):p(u,c)}}function T1(t,n){return r;function r(l,o,u,c){const d=Array.isArray(u.children),g=$h(l);return n(o,u,c,d,{columnNumber:g?g.column-1:void 0,fileName:t,lineNumber:g?g.line:void 0},void 0)}}function k1(t,n){const r={};let l,o;for(o in n.properties)if(o!=="children"&&Gh.call(n.properties,o)){const u=C1(t,o,n.properties[o]);if(u){const[c,d]=u;t.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&m1.has(n.tagName)?l=d:r[c]=d}}if(l){const u=r.style||(r.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return r}function A1(t,n){const r={};for(const l of n.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&t.evaluater){const u=l.data.estree.body[0];u.type;const c=u.expression;c.type;const d=c.properties[0];d.type,Object.assign(r,t.evaluater.evaluateExpression(d.argument))}else yl(t,n.position);else{const o=l.name;let u;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&t.evaluater){const d=l.value.data.estree.body[0];d.type,u=t.evaluater.evaluateExpression(d.expression)}else yl(t,n.position);else u=l.value===null?!0:l.value;r[o]=u}return r}function Kh(t,n){const r=[];let l=-1;const o=t.passKeys?new Map:d1;for(;++l<n.children.length;){const u=n.children[l];let c;if(t.passKeys){const g=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(g){const p=o.get(g)||0;c=g+"-"+p,o.set(g,p+1)}}const d=p0(t,u,c);d!==void 0&&r.push(d)}return r}function C1(t,n,r){const l=t1(t.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=l.commaSeparated?Gx(r):a1(r)),l.property==="style"){let o=typeof r=="object"?r:O1(t,String(r));return t.stylePropertyNameCase==="css"&&(o=N1(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&l.space?Zx[l.property]||l.property:l.attribute,r]}}function O1(t,n){try{return h1(n,{reactCompat:!0})}catch(r){if(t.ignoreInvalidStyle)return{};const l=r,o=new At("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=d0+"#cannot-parse-style-attribute",o}}function m0(t,n,r){let l;if(!r)l={type:"Literal",value:n};else if(n.includes(".")){const o=n.split(".");let u=-1,c;for(;++u<o.length;){const d=ym(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(u&&d.type==="Literal"),optional:!1}:d}l=c}else l=ym(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(l.type==="Literal"){const o=l.value;return Gh.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(l);yl(t)}function yl(t,n){const r=new At("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=d0+"#cannot-handle-mdx-estrees-without-createevaluater",r}function N1(t){const n={};let r;for(r in t)Gh.call(t,r)&&(n[R1(r)]=t[r]);return n}function R1(t){let n=t.replace(p1,j1);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function j1(t){return"-"+t.toLowerCase()}const Fc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},D1={};function z1(t,n){const r=D1,l=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,o=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return y0(t,l,o)}function y0(t,n,r){if(M1(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(n&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Am(t.children,n,r)}return Array.isArray(t)?Am(t,n,r):""}function Am(t,n,r){const l=[];let o=-1;for(;++o<t.length;)l[o]=y0(t[o],n,r);return l.join("")}function M1(t){return!!(t&&typeof t=="object")}const Cm=document.createElement("i");function Ph(t){const n="&"+t+";";Cm.innerHTML=n;const r=Cm.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===n?!1:r}function kn(t,n,r,l){const o=t.length;let u=0,c;if(n<0?n=-n>o?0:o+n:n=n>o?o:n,r=r>0?r:0,l.length<1e4)c=Array.from(l),c.unshift(n,r),t.splice(...c);else for(r&&t.splice(n,r);u<l.length;)c=l.slice(u,u+1e4),c.unshift(n,0),t.splice(...c),u+=1e4,n+=1e4}function fn(t,n){return t.length>0?(kn(t,t.length,0,n),t):n}const Om={}.hasOwnProperty;function U1(t){const n={};let r=-1;for(;++r<t.length;)L1(n,t[r]);return n}function L1(t,n){let r;for(r in n){const o=(Om.call(t,r)?t[r]:void 0)||(t[r]={}),u=n[r];let c;if(u)for(c in u){Om.call(o,c)||(o[c]=[]);const d=u[c];B1(o[c],Array.isArray(d)?d:d?[d]:[])}}}function B1(t,n){let r=-1;const l=[];for(;++r<n.length;)(n[r].add==="after"?t:l).push(n[r]);kn(t,0,0,l)}function v0(t,n){const r=Number.parseInt(t,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function ta(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tn=Ti(/[A-Za-z]/),en=Ti(/[\dA-Za-z]/),I1=Ti(/[#-'*+\--9=?A-Z^-~]/);function bh(t){return t!==null&&(t<32||t===127)}const _h=Ti(/\d/),H1=Ti(/[\dA-Fa-f]/),q1=Ti(/[!-/:-@[-`{-~]/);function _e(t){return t!==null&&t<-2}function qt(t){return t!==null&&(t<0||t===32)}function Ie(t){return t===-2||t===-1||t===32}const $1=Ti(new RegExp("\\p{P}|\\p{S}","u")),G1=Ti(/\s/);function Ti(t){return n;function n(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function ra(t){const n=[];let r=-1,l=0,o=0;for(;++r<t.length;){const u=t.charCodeAt(r);let c="";if(u===37&&en(t.charCodeAt(r+1))&&en(t.charCodeAt(r+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const d=t.charCodeAt(r+1);u<56320&&d>56319&&d<57344?(c=String.fromCharCode(u,d),o=1):c=""}else c=String.fromCharCode(u);c&&(n.push(t.slice(l,r),encodeURIComponent(c)),l=r+o+1,c=""),o&&(r+=o,o=0)}return n.join("")+t.slice(l)}function Qe(t,n,r,l){const o=l?l-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(g){return Ie(g)?(t.enter(r),d(g)):n(g)}function d(g){return Ie(g)&&u++<o?(t.consume(g),d):(t.exit(r),n(g))}}const V1={tokenize:K1};function K1(t){const n=t.attempt(this.parser.constructs.contentInitial,l,o);let r;return n;function l(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Qe(t,n,"linePrefix")}function o(d){return t.enter("paragraph"),u(d)}function u(d){const g=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=g),r=g,c(d)}function c(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return _e(d)?(t.consume(d),t.exit("chunkText"),u):(t.consume(d),c)}}const P1={tokenize:Y1},Nm={tokenize:X1};function Y1(t){const n=this,r=[];let l=0,o,u,c;return d;function d(D){if(l<r.length){const Q=r[l];return n.containerState=Q[1],t.attempt(Q[0].continuation,g,p)(D)}return p(D)}function g(D){if(l++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,o&&L();const Q=n.events.length;let te=Q,I;for(;te--;)if(n.events[te][0]==="exit"&&n.events[te][1].type==="chunkFlow"){I=n.events[te][1].end;break}R(l);let X=Q;for(;X<n.events.length;)n.events[X][1].end={...I},X++;return kn(n.events,te+1,0,n.events.slice(Q)),n.events.length=X,p(D)}return d(D)}function p(D){if(l===r.length){if(!o)return _(D);if(o.currentConstruct&&o.currentConstruct.concrete)return T(D);n.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return n.containerState={},t.check(Nm,m,b)(D)}function m(D){return o&&L(),R(l),_(D)}function b(D){return n.parser.lazy[n.now().line]=l!==r.length,c=n.now().offset,T(D)}function _(D){return n.containerState={},t.attempt(Nm,v,T)(D)}function v(D){return l++,r.push([n.currentConstruct,n.containerState]),_(D)}function T(D){if(D===null){o&&L(),R(0),t.consume(D);return}return o=o||n.parser.flow(n.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),C(D)}function C(D){if(D===null){z(t.exit("chunkFlow"),!0),R(0),t.consume(D);return}return _e(D)?(t.consume(D),z(t.exit("chunkFlow")),l=0,n.interrupt=void 0,d):(t.consume(D),C)}function z(D,Q){const te=n.sliceStream(D);if(Q&&te.push(null),D.previous=u,u&&(u.next=D),u=D,o.defineSkip(D.start),o.write(te),n.parser.lazy[D.start.line]){let I=o.events.length;for(;I--;)if(o.events[I][1].start.offset<c&&(!o.events[I][1].end||o.events[I][1].end.offset>c))return;const X=n.events.length;let fe=X,de,xe;for(;fe--;)if(n.events[fe][0]==="exit"&&n.events[fe][1].type==="chunkFlow"){if(de){xe=n.events[fe][1].end;break}de=!0}for(R(l),I=X;I<n.events.length;)n.events[I][1].end={...xe},I++;kn(n.events,fe+1,0,n.events.slice(X)),n.events.length=I}}function R(D){let Q=r.length;for(;Q-- >D;){const te=r[Q];n.containerState=te[1],te[0].exit.call(n,t)}r.length=D}function L(){o.write([null]),u=void 0,o=void 0,n.containerState._closeFlow=void 0}}function X1(t,n,r){return Qe(t,t.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Rm(t){if(t===null||qt(t)||G1(t))return 1;if($1(t))return 2}function Yh(t,n,r){const l=[];let o=-1;for(;++o<t.length;){const u=t[o].resolveAll;u&&!l.includes(u)&&(n=u(n,r),l.push(u))}return n}const xh={name:"attention",resolveAll:F1,tokenize:Q1};function F1(t,n){let r=-1,l,o,u,c,d,g,p,m;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(l=r;l--;)if(t[l][0]==="exit"&&t[l][1].type==="attentionSequence"&&t[l][1]._open&&n.sliceSerialize(t[l][1]).charCodeAt(0)===n.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[l][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[l][1].end.offset-t[l][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;g=t[l][1].end.offset-t[l][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const b={...t[l][1].end},_={...t[r][1].start};jm(b,-g),jm(_,g),c={type:g>1?"strongSequence":"emphasisSequence",start:b,end:{...t[l][1].end}},d={type:g>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:_},u={type:g>1?"strongText":"emphasisText",start:{...t[l][1].end},end:{...t[r][1].start}},o={type:g>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},t[l][1].end={...c.start},t[r][1].start={...d.end},p=[],t[l][1].end.offset-t[l][1].start.offset&&(p=fn(p,[["enter",t[l][1],n],["exit",t[l][1],n]])),p=fn(p,[["enter",o,n],["enter",c,n],["exit",c,n],["enter",u,n]]),p=fn(p,Yh(n.parser.constructs.insideSpan.null,t.slice(l+1,r),n)),p=fn(p,[["exit",u,n],["enter",d,n],["exit",d,n],["exit",o,n]]),t[r][1].end.offset-t[r][1].start.offset?(m=2,p=fn(p,[["enter",t[r][1],n],["exit",t[r][1],n]])):m=0,kn(t,l-1,r-l+3,p),r=l+p.length-m-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function Q1(t,n){const r=this.parser.constructs.attentionMarkers.null,l=this.previous,o=Rm(l);let u;return c;function c(g){return u=g,t.enter("attentionSequence"),d(g)}function d(g){if(g===u)return t.consume(g),d;const p=t.exit("attentionSequence"),m=Rm(g),b=!m||m===2&&o||r.includes(g),_=!o||o===2&&m||r.includes(l);return p._open=!!(u===42?b:b&&(o||!_)),p._close=!!(u===42?_:_&&(m||!b)),n(g)}}function jm(t,n){t.column+=n,t.offset+=n,t._bufferIndex+=n}const J1={name:"autolink",tokenize:Z1};function Z1(t,n,r){let l=0;return o;function o(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(v){return Tn(v)?(t.consume(v),c):v===64?r(v):p(v)}function c(v){return v===43||v===45||v===46||en(v)?(l=1,d(v)):p(v)}function d(v){return v===58?(t.consume(v),l=0,g):(v===43||v===45||v===46||en(v))&&l++<32?(t.consume(v),d):(l=0,p(v))}function g(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),n):v===null||v===32||v===60||bh(v)?r(v):(t.consume(v),g)}function p(v){return v===64?(t.consume(v),m):I1(v)?(t.consume(v),p):r(v)}function m(v){return en(v)?b(v):r(v)}function b(v){return v===46?(t.consume(v),l=0,m):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),n):_(v)}function _(v){if((v===45||en(v))&&l++<63){const T=v===45?_:b;return t.consume(v),T}return r(v)}}const vo={partial:!0,tokenize:W1};function W1(t,n,r){return l;function l(u){return Ie(u)?Qe(t,o,"linePrefix")(u):o(u)}function o(u){return u===null||_e(u)?n(u):r(u)}}const b0={continuation:{tokenize:tw},exit:nw,name:"blockQuote",tokenize:ew};function ew(t,n,r){const l=this;return o;function o(c){if(c===62){const d=l.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),u}return r(c)}function u(c){return Ie(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),n):(t.exit("blockQuotePrefix"),n(c))}}function tw(t,n,r){const l=this;return o;function o(c){return Ie(c)?Qe(t,u,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return t.attempt(b0,n,r)(c)}}function nw(t){t.exit("blockQuote")}const _0={name:"characterEscape",tokenize:iw};function iw(t,n,r){return l;function l(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),o}function o(u){return q1(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),n):r(u)}}const x0={name:"characterReference",tokenize:rw};function rw(t,n,r){const l=this;let o=0,u,c;return d;function d(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),g}function g(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),u=31,c=en,m(b))}function p(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,c=H1,m):(t.enter("characterReferenceValue"),u=7,c=_h,m(b))}function m(b){if(b===59&&o){const _=t.exit("characterReferenceValue");return c===en&&!Ph(l.sliceSerialize(_))?r(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),n)}return c(b)&&o++<u?(t.consume(b),m):r(b)}}const Dm={partial:!0,tokenize:lw},zm={concrete:!0,name:"codeFenced",tokenize:aw};function aw(t,n,r){const l=this,o={partial:!0,tokenize:te};let u=0,c=0,d;return g;function g(I){return p(I)}function p(I){const X=l.events[l.events.length-1];return u=X&&X[1].type==="linePrefix"?X[2].sliceSerialize(X[1],!0).length:0,d=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(I)}function m(I){return I===d?(c++,t.consume(I),m):c<3?r(I):(t.exit("codeFencedFenceSequence"),Ie(I)?Qe(t,b,"whitespace")(I):b(I))}function b(I){return I===null||_e(I)?(t.exit("codeFencedFence"),l.interrupt?n(I):t.check(Dm,C,Q)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_(I))}function _(I){return I===null||_e(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(I)):Ie(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Qe(t,v,"whitespace")(I)):I===96&&I===d?r(I):(t.consume(I),_)}function v(I){return I===null||_e(I)?b(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(I))}function T(I){return I===null||_e(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(I)):I===96&&I===d?r(I):(t.consume(I),T)}function C(I){return t.attempt(o,Q,z)(I)}function z(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),R}function R(I){return u>0&&Ie(I)?Qe(t,L,"linePrefix",u+1)(I):L(I)}function L(I){return I===null||_e(I)?t.check(Dm,C,Q)(I):(t.enter("codeFlowValue"),D(I))}function D(I){return I===null||_e(I)?(t.exit("codeFlowValue"),L(I)):(t.consume(I),D)}function Q(I){return t.exit("codeFenced"),n(I)}function te(I,X,fe){let de=0;return xe;function xe(J){return I.enter("lineEnding"),I.consume(J),I.exit("lineEnding"),re}function re(J){return I.enter("codeFencedFence"),Ie(J)?Qe(I,ne,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):ne(J)}function ne(J){return J===d?(I.enter("codeFencedFenceSequence"),Se(J)):fe(J)}function Se(J){return J===d?(de++,I.consume(J),Se):de>=c?(I.exit("codeFencedFenceSequence"),Ie(J)?Qe(I,oe,"whitespace")(J):oe(J)):fe(J)}function oe(J){return J===null||_e(J)?(I.exit("codeFencedFence"),X(J)):fe(J)}}}function lw(t,n,r){const l=this;return o;function o(c){return c===null?r(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u)}function u(c){return l.parser.lazy[l.now().line]?r(c):n(c)}}const Qc={name:"codeIndented",tokenize:ow},sw={partial:!0,tokenize:uw};function ow(t,n,r){const l=this;return o;function o(p){return t.enter("codeIndented"),Qe(t,u,"linePrefix",5)(p)}function u(p){const m=l.events[l.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?c(p):r(p)}function c(p){return p===null?g(p):_e(p)?t.attempt(sw,c,g)(p):(t.enter("codeFlowValue"),d(p))}function d(p){return p===null||_e(p)?(t.exit("codeFlowValue"),c(p)):(t.consume(p),d)}function g(p){return t.exit("codeIndented"),n(p)}}function uw(t,n,r){const l=this;return o;function o(c){return l.parser.lazy[l.now().line]?r(c):_e(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):Qe(t,u,"linePrefix",5)(c)}function u(c){const d=l.events[l.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(c):_e(c)?o(c):r(c)}}const cw={name:"codeText",previous:fw,resolve:hw,tokenize:dw};function hw(t){let n=t.length-4,r=3,l,o;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[n][1].type==="lineEnding"||t[n][1].type==="space")){for(l=r;++l<n;)if(t[l][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(l=r-1,n++;++l<=n;)o===void 0?l!==n&&t[l][1].type!=="lineEnding"&&(o=l):(l===n||t[l][1].type==="lineEnding")&&(t[o][1].type="codeTextData",l!==o+2&&(t[o][1].end=t[l-1][1].end,t.splice(o+2,l-o-2),n-=l-o-2,l=o+2),o=void 0);return t}function fw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dw(t,n,r){let l=0,o,u;return c;function c(b){return t.enter("codeText"),t.enter("codeTextSequence"),d(b)}function d(b){return b===96?(t.consume(b),l++,d):(t.exit("codeTextSequence"),g(b))}function g(b){return b===null?r(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),g):b===96?(u=t.enter("codeTextSequence"),o=0,m(b)):_e(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),g):(t.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||_e(b)?(t.exit("codeTextData"),g(b)):(t.consume(b),p)}function m(b){return b===96?(t.consume(b),o++,m):o===l?(t.exit("codeTextSequence"),t.exit("codeText"),n(b)):(u.type="codeTextData",p(b))}}class pw{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const l=r??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(n,l):n>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(n,r,l){const o=r||0;this.setCursor(Math.trunc(n));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return l&&rl(this.left,l),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),rl(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),rl(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);rl(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);rl(this.left,r.reverse())}}}function rl(t,n){let r=0;if(n.length<1e4)t.push(...n);else for(;r<n.length;)t.push(...n.slice(r,r+1e4)),r+=1e4}function w0(t){const n={};let r=-1,l,o,u,c,d,g,p;const m=new pw(t);for(;++r<m.length;){for(;r in n;)r=n[r];if(l=m.get(r),r&&l[1].type==="chunkFlow"&&m.get(r-1)[1].type==="listItemPrefix"&&(g=l[1]._tokenizer.events,u=0,u<g.length&&g[u][1].type==="lineEndingBlank"&&(u+=2),u<g.length&&g[u][1].type==="content"))for(;++u<g.length&&g[u][1].type!=="content";)g[u][1].type==="chunkText"&&(g[u][1]._isInFirstContentOfListItem=!0,u++);if(l[0]==="enter")l[1].contentType&&(Object.assign(n,gw(m,r)),r=n[r],p=!0);else if(l[1]._container){for(u=r,o=void 0;u--;)if(c=m.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(l[1].end={...m.get(o)[1].start},d=m.slice(o,r),d.unshift(l),m.splice(o,r-o+1,d))}}return kn(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!p}function gw(t,n){const r=t.get(n)[1],l=t.get(n)[2];let o=n-1;const u=[];let c=r._tokenizer;c||(c=l.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,g=[],p={};let m,b,_=-1,v=r,T=0,C=0;const z=[C];for(;v;){for(;t.get(++o)[1]!==v;);u.push(o),v._tokenizer||(m=l.sliceStream(v),v.next||m.push(null),b&&c.defineSkip(v.start),v._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(m),v._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=v,v=v.next}for(v=r;++_<d.length;)d[_][0]==="exit"&&d[_-1][0]==="enter"&&d[_][1].type===d[_-1][1].type&&d[_][1].start.line!==d[_][1].end.line&&(C=_+1,z.push(C),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(c.events=[],v?(v._tokenizer=void 0,v.previous=void 0):z.pop(),_=z.length;_--;){const R=d.slice(z[_],z[_+1]),L=u.pop();g.push([L,L+R.length-1]),t.splice(L,2,R)}for(g.reverse(),_=-1;++_<g.length;)p[T+g[_][0]]=T+g[_][1],T+=g[_][1]-g[_][0]-1;return p}const mw={resolve:vw,tokenize:bw},yw={partial:!0,tokenize:_w};function vw(t){return w0(t),t}function bw(t,n){let r;return l;function l(d){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),o(d)}function o(d){return d===null?u(d):_e(d)?t.check(yw,c,u)(d):(t.consume(d),o)}function u(d){return t.exit("chunkContent"),t.exit("content"),n(d)}function c(d){return t.consume(d),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,o}}function _w(t,n,r){const l=this;return o;function o(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Qe(t,u,"linePrefix")}function u(c){if(c===null||_e(c))return r(c);const d=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(c):t.interrupt(l.parser.constructs.flow,r,n)(c)}}function S0(t,n,r,l,o,u,c,d,g){const p=g||Number.POSITIVE_INFINITY;let m=0;return b;function b(R){return R===60?(t.enter(l),t.enter(o),t.enter(u),t.consume(R),t.exit(u),_):R===null||R===32||R===41||bh(R)?r(R):(t.enter(l),t.enter(c),t.enter(d),t.enter("chunkString",{contentType:"string"}),C(R))}function _(R){return R===62?(t.enter(u),t.consume(R),t.exit(u),t.exit(o),t.exit(l),n):(t.enter(d),t.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===62?(t.exit("chunkString"),t.exit(d),_(R)):R===null||R===60||_e(R)?r(R):(t.consume(R),R===92?T:v)}function T(R){return R===60||R===62||R===92?(t.consume(R),v):v(R)}function C(R){return!m&&(R===null||R===41||qt(R))?(t.exit("chunkString"),t.exit(d),t.exit(c),t.exit(l),n(R)):m<p&&R===40?(t.consume(R),m++,C):R===41?(t.consume(R),m--,C):R===null||R===32||R===40||bh(R)?r(R):(t.consume(R),R===92?z:C)}function z(R){return R===40||R===41||R===92?(t.consume(R),C):C(R)}}function E0(t,n,r,l,o,u){const c=this;let d=0,g;return p;function p(v){return t.enter(l),t.enter(o),t.consume(v),t.exit(o),t.enter(u),m}function m(v){return d>999||v===null||v===91||v===93&&!g||v===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?r(v):v===93?(t.exit(u),t.enter(o),t.consume(v),t.exit(o),t.exit(l),n):_e(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),b(v))}function b(v){return v===null||v===91||v===93||_e(v)||d++>999?(t.exit("chunkString"),m(v)):(t.consume(v),g||(g=!Ie(v)),v===92?_:b)}function _(v){return v===91||v===92||v===93?(t.consume(v),d++,b):b(v)}}function T0(t,n,r,l,o,u){let c;return d;function d(_){return _===34||_===39||_===40?(t.enter(l),t.enter(o),t.consume(_),t.exit(o),c=_===40?41:_,g):r(_)}function g(_){return _===c?(t.enter(o),t.consume(_),t.exit(o),t.exit(l),n):(t.enter(u),p(_))}function p(_){return _===c?(t.exit(u),g(c)):_===null?r(_):_e(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),Qe(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===c||_===null||_e(_)?(t.exit("chunkString"),p(_)):(t.consume(_),_===92?b:m)}function b(_){return _===c||_===92?(t.consume(_),m):m(_)}}function fl(t,n){let r;return l;function l(o){return _e(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),r=!0,l):Ie(o)?Qe(t,l,r?"linePrefix":"lineSuffix")(o):n(o)}}const xw={name:"definition",tokenize:Sw},ww={partial:!0,tokenize:Ew};function Sw(t,n,r){const l=this;let o;return u;function u(v){return t.enter("definition"),c(v)}function c(v){return E0.call(l,t,d,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function d(v){return o=ta(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),g):r(v)}function g(v){return qt(v)?fl(t,p)(v):p(v)}function p(v){return S0(t,m,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function m(v){return t.attempt(ww,b,b)(v)}function b(v){return Ie(v)?Qe(t,_,"whitespace")(v):_(v)}function _(v){return v===null||_e(v)?(t.exit("definition"),l.parser.defined.push(o),n(v)):r(v)}}function Ew(t,n,r){return l;function l(d){return qt(d)?fl(t,o)(d):r(d)}function o(d){return T0(t,u,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function u(d){return Ie(d)?Qe(t,c,"whitespace")(d):c(d)}function c(d){return d===null||_e(d)?n(d):r(d)}}const Tw={name:"hardBreakEscape",tokenize:kw};function kw(t,n,r){return l;function l(u){return t.enter("hardBreakEscape"),t.consume(u),o}function o(u){return _e(u)?(t.exit("hardBreakEscape"),n(u)):r(u)}}const Aw={name:"headingAtx",resolve:Cw,tokenize:Ow};function Cw(t,n){let r=t.length-2,l=3,o,u;return t[l][1].type==="whitespace"&&(l+=2),r-2>l&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(l===r-1||r-4>l&&t[r-2][1].type==="whitespace")&&(r-=l+1===r?2:4),r>l&&(o={type:"atxHeadingText",start:t[l][1].start,end:t[r][1].end},u={type:"chunkText",start:t[l][1].start,end:t[r][1].end,contentType:"text"},kn(t,l,r-l+1,[["enter",o,n],["enter",u,n],["exit",u,n],["exit",o,n]])),t}function Ow(t,n,r){let l=0;return o;function o(m){return t.enter("atxHeading"),u(m)}function u(m){return t.enter("atxHeadingSequence"),c(m)}function c(m){return m===35&&l++<6?(t.consume(m),c):m===null||qt(m)?(t.exit("atxHeadingSequence"),d(m)):r(m)}function d(m){return m===35?(t.enter("atxHeadingSequence"),g(m)):m===null||_e(m)?(t.exit("atxHeading"),n(m)):Ie(m)?Qe(t,d,"whitespace")(m):(t.enter("atxHeadingText"),p(m))}function g(m){return m===35?(t.consume(m),g):(t.exit("atxHeadingSequence"),d(m))}function p(m){return m===null||m===35||qt(m)?(t.exit("atxHeadingText"),d(m)):(t.consume(m),p)}}const Nw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Mm=["pre","script","style","textarea"],Rw={concrete:!0,name:"htmlFlow",resolveTo:zw,tokenize:Mw},jw={partial:!0,tokenize:Lw},Dw={partial:!0,tokenize:Uw};function zw(t){let n=t.length;for(;n--&&!(t[n][0]==="enter"&&t[n][1].type==="htmlFlow"););return n>1&&t[n-2][1].type==="linePrefix"&&(t[n][1].start=t[n-2][1].start,t[n+1][1].start=t[n-2][1].start,t.splice(n-2,2)),t}function Mw(t,n,r){const l=this;let o,u,c,d,g;return p;function p(S){return m(S)}function m(S){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(S),b}function b(S){return S===33?(t.consume(S),_):S===47?(t.consume(S),u=!0,C):S===63?(t.consume(S),o=3,l.interrupt?n:E):Tn(S)?(t.consume(S),c=String.fromCharCode(S),z):r(S)}function _(S){return S===45?(t.consume(S),o=2,v):S===91?(t.consume(S),o=5,d=0,T):Tn(S)?(t.consume(S),o=4,l.interrupt?n:E):r(S)}function v(S){return S===45?(t.consume(S),l.interrupt?n:E):r(S)}function T(S){const ie="CDATA[";return S===ie.charCodeAt(d++)?(t.consume(S),d===ie.length?l.interrupt?n:ne:T):r(S)}function C(S){return Tn(S)?(t.consume(S),c=String.fromCharCode(S),z):r(S)}function z(S){if(S===null||S===47||S===62||qt(S)){const ie=S===47,pe=c.toLowerCase();return!ie&&!u&&Mm.includes(pe)?(o=1,l.interrupt?n(S):ne(S)):Nw.includes(c.toLowerCase())?(o=6,ie?(t.consume(S),R):l.interrupt?n(S):ne(S)):(o=7,l.interrupt&&!l.parser.lazy[l.now().line]?r(S):u?L(S):D(S))}return S===45||en(S)?(t.consume(S),c+=String.fromCharCode(S),z):r(S)}function R(S){return S===62?(t.consume(S),l.interrupt?n:ne):r(S)}function L(S){return Ie(S)?(t.consume(S),L):xe(S)}function D(S){return S===47?(t.consume(S),xe):S===58||S===95||Tn(S)?(t.consume(S),Q):Ie(S)?(t.consume(S),D):xe(S)}function Q(S){return S===45||S===46||S===58||S===95||en(S)?(t.consume(S),Q):te(S)}function te(S){return S===61?(t.consume(S),I):Ie(S)?(t.consume(S),te):D(S)}function I(S){return S===null||S===60||S===61||S===62||S===96?r(S):S===34||S===39?(t.consume(S),g=S,X):Ie(S)?(t.consume(S),I):fe(S)}function X(S){return S===g?(t.consume(S),g=null,de):S===null||_e(S)?r(S):(t.consume(S),X)}function fe(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||qt(S)?te(S):(t.consume(S),fe)}function de(S){return S===47||S===62||Ie(S)?D(S):r(S)}function xe(S){return S===62?(t.consume(S),re):r(S)}function re(S){return S===null||_e(S)?ne(S):Ie(S)?(t.consume(S),re):r(S)}function ne(S){return S===45&&o===2?(t.consume(S),B):S===60&&o===1?(t.consume(S),Y):S===62&&o===4?(t.consume(S),A):S===63&&o===3?(t.consume(S),E):S===93&&o===5?(t.consume(S),Ee):_e(S)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(jw,G,Se)(S)):S===null||_e(S)?(t.exit("htmlFlowData"),Se(S)):(t.consume(S),ne)}function Se(S){return t.check(Dw,oe,G)(S)}function oe(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),J}function J(S){return S===null||_e(S)?Se(S):(t.enter("htmlFlowData"),ne(S))}function B(S){return S===45?(t.consume(S),E):ne(S)}function Y(S){return S===47?(t.consume(S),c="",le):ne(S)}function le(S){if(S===62){const ie=c.toLowerCase();return Mm.includes(ie)?(t.consume(S),A):ne(S)}return Tn(S)&&c.length<8?(t.consume(S),c+=String.fromCharCode(S),le):ne(S)}function Ee(S){return S===93?(t.consume(S),E):ne(S)}function E(S){return S===62?(t.consume(S),A):S===45&&o===2?(t.consume(S),E):ne(S)}function A(S){return S===null||_e(S)?(t.exit("htmlFlowData"),G(S)):(t.consume(S),A)}function G(S){return t.exit("htmlFlow"),n(S)}}function Uw(t,n,r){const l=this;return o;function o(c){return _e(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u):r(c)}function u(c){return l.parser.lazy[l.now().line]?r(c):n(c)}}function Lw(t,n,r){return l;function l(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(vo,n,r)}}const Bw={name:"htmlText",tokenize:Iw};function Iw(t,n,r){const l=this;let o,u,c;return d;function d(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),g}function g(E){return E===33?(t.consume(E),p):E===47?(t.consume(E),te):E===63?(t.consume(E),D):Tn(E)?(t.consume(E),fe):r(E)}function p(E){return E===45?(t.consume(E),m):E===91?(t.consume(E),u=0,T):Tn(E)?(t.consume(E),L):r(E)}function m(E){return E===45?(t.consume(E),v):r(E)}function b(E){return E===null?r(E):E===45?(t.consume(E),_):_e(E)?(c=b,Y(E)):(t.consume(E),b)}function _(E){return E===45?(t.consume(E),v):b(E)}function v(E){return E===62?B(E):E===45?_(E):b(E)}function T(E){const A="CDATA[";return E===A.charCodeAt(u++)?(t.consume(E),u===A.length?C:T):r(E)}function C(E){return E===null?r(E):E===93?(t.consume(E),z):_e(E)?(c=C,Y(E)):(t.consume(E),C)}function z(E){return E===93?(t.consume(E),R):C(E)}function R(E){return E===62?B(E):E===93?(t.consume(E),R):C(E)}function L(E){return E===null||E===62?B(E):_e(E)?(c=L,Y(E)):(t.consume(E),L)}function D(E){return E===null?r(E):E===63?(t.consume(E),Q):_e(E)?(c=D,Y(E)):(t.consume(E),D)}function Q(E){return E===62?B(E):D(E)}function te(E){return Tn(E)?(t.consume(E),I):r(E)}function I(E){return E===45||en(E)?(t.consume(E),I):X(E)}function X(E){return _e(E)?(c=X,Y(E)):Ie(E)?(t.consume(E),X):B(E)}function fe(E){return E===45||en(E)?(t.consume(E),fe):E===47||E===62||qt(E)?de(E):r(E)}function de(E){return E===47?(t.consume(E),B):E===58||E===95||Tn(E)?(t.consume(E),xe):_e(E)?(c=de,Y(E)):Ie(E)?(t.consume(E),de):B(E)}function xe(E){return E===45||E===46||E===58||E===95||en(E)?(t.consume(E),xe):re(E)}function re(E){return E===61?(t.consume(E),ne):_e(E)?(c=re,Y(E)):Ie(E)?(t.consume(E),re):de(E)}function ne(E){return E===null||E===60||E===61||E===62||E===96?r(E):E===34||E===39?(t.consume(E),o=E,Se):_e(E)?(c=ne,Y(E)):Ie(E)?(t.consume(E),ne):(t.consume(E),oe)}function Se(E){return E===o?(t.consume(E),o=void 0,J):E===null?r(E):_e(E)?(c=Se,Y(E)):(t.consume(E),Se)}function oe(E){return E===null||E===34||E===39||E===60||E===61||E===96?r(E):E===47||E===62||qt(E)?de(E):(t.consume(E),oe)}function J(E){return E===47||E===62||qt(E)?de(E):r(E)}function B(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),n):r(E)}function Y(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),le}function le(E){return Ie(E)?Qe(t,Ee,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):Ee(E)}function Ee(E){return t.enter("htmlTextData"),c(E)}}const Xh={name:"labelEnd",resolveAll:Gw,resolveTo:Vw,tokenize:Kw},Hw={tokenize:Pw},qw={tokenize:Yw},$w={tokenize:Xw};function Gw(t){let n=-1;const r=[];for(;++n<t.length;){const l=t[n][1];if(r.push(t[n]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const o=l.type==="labelImage"?4:2;l.type="data",n+=o}}return t.length!==r.length&&kn(t,0,t.length,r),t}function Vw(t,n){let r=t.length,l=0,o,u,c,d;for(;r--;)if(o=t[r][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[r][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(t[r][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=r,o.type!=="labelLink")){l=2;break}}else o.type==="labelEnd"&&(c=r);const g={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[u][1].start},end:{...t[c][1].end}},m={type:"labelText",start:{...t[u+l+2][1].end},end:{...t[c-2][1].start}};return d=[["enter",g,n],["enter",p,n]],d=fn(d,t.slice(u+1,u+l+3)),d=fn(d,[["enter",m,n]]),d=fn(d,Yh(n.parser.constructs.insideSpan.null,t.slice(u+l+4,c-3),n)),d=fn(d,[["exit",m,n],t[c-2],t[c-1],["exit",p,n]]),d=fn(d,t.slice(c+1)),d=fn(d,[["exit",g,n]]),kn(t,u,t.length,d),t}function Kw(t,n,r){const l=this;let o=l.events.length,u,c;for(;o--;)if((l.events[o][1].type==="labelImage"||l.events[o][1].type==="labelLink")&&!l.events[o][1]._balanced){u=l.events[o][1];break}return d;function d(_){return u?u._inactive?b(_):(c=l.parser.defined.includes(ta(l.sliceSerialize({start:u.end,end:l.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),g):r(_)}function g(_){return _===40?t.attempt(Hw,m,c?m:b)(_):_===91?t.attempt(qw,m,c?p:b)(_):c?m(_):b(_)}function p(_){return t.attempt($w,m,b)(_)}function m(_){return n(_)}function b(_){return u._balanced=!0,r(_)}}function Pw(t,n,r){return l;function l(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),o}function o(b){return qt(b)?fl(t,u)(b):u(b)}function u(b){return b===41?m(b):S0(t,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return qt(b)?fl(t,g)(b):m(b)}function d(b){return r(b)}function g(b){return b===34||b===39||b===40?T0(t,p,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):m(b)}function p(b){return qt(b)?fl(t,m)(b):m(b)}function m(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),n):r(b)}}function Yw(t,n,r){const l=this;return o;function o(d){return E0.call(l,t,u,c,"reference","referenceMarker","referenceString")(d)}function u(d){return l.parser.defined.includes(ta(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?n(d):r(d)}function c(d){return r(d)}}function Xw(t,n,r){return l;function l(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),o}function o(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),n):r(u)}}const Fw={name:"labelStartImage",resolveAll:Xh.resolveAll,tokenize:Qw};function Qw(t,n,r){const l=this;return o;function o(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),u}function u(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),c):r(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in l.parser.constructs?r(d):n(d)}}const Jw={name:"labelStartLink",resolveAll:Xh.resolveAll,tokenize:Zw};function Zw(t,n,r){const l=this;return o;function o(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in l.parser.constructs?r(c):n(c)}}const Jc={name:"lineEnding",tokenize:Ww};function Ww(t,n){return r;function r(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Qe(t,n,"linePrefix")}}const so={name:"thematicBreak",tokenize:eS};function eS(t,n,r){let l=0,o;return u;function u(p){return t.enter("thematicBreak"),c(p)}function c(p){return o=p,d(p)}function d(p){return p===o?(t.enter("thematicBreakSequence"),g(p)):l>=3&&(p===null||_e(p))?(t.exit("thematicBreak"),n(p)):r(p)}function g(p){return p===o?(t.consume(p),l++,g):(t.exit("thematicBreakSequence"),Ie(p)?Qe(t,d,"whitespace")(p):d(p))}}const Ht={continuation:{tokenize:rS},exit:lS,name:"list",tokenize:iS},tS={partial:!0,tokenize:sS},nS={partial:!0,tokenize:aS};function iS(t,n,r){const l=this,o=l.events[l.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return d;function d(v){const T=l.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!l.containerState.marker||v===l.containerState.marker:_h(v)){if(l.containerState.type||(l.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(so,r,p)(v):p(v);if(!l.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),g(v)}return r(v)}function g(v){return _h(v)&&++c<10?(t.consume(v),g):(!l.interrupt||c<2)&&(l.containerState.marker?v===l.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),p(v)):r(v)}function p(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||v,t.check(vo,l.interrupt?r:m,t.attempt(tS,_,b))}function m(v){return l.containerState.initialBlankLine=!0,u++,_(v)}function b(v){return Ie(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),_):r(v)}function _(v){return l.containerState.size=u+l.sliceSerialize(t.exit("listItemPrefix"),!0).length,n(v)}}function rS(t,n,r){const l=this;return l.containerState._closeFlow=void 0,t.check(vo,o,u);function o(d){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,Qe(t,n,"listItemIndent",l.containerState.size+1)(d)}function u(d){return l.containerState.furtherBlankLines||!Ie(d)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,c(d)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,t.attempt(nS,n,c)(d))}function c(d){return l.containerState._closeFlow=!0,l.interrupt=void 0,Qe(t,t.attempt(Ht,n,r),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function aS(t,n,r){const l=this;return Qe(t,o,"listItemIndent",l.containerState.size+1);function o(u){const c=l.events[l.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===l.containerState.size?n(u):r(u)}}function lS(t){t.exit(this.containerState.type)}function sS(t,n,r){const l=this;return Qe(t,o,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const c=l.events[l.events.length-1];return!Ie(u)&&c&&c[1].type==="listItemPrefixWhitespace"?n(u):r(u)}}const Um={name:"setextUnderline",resolveTo:oS,tokenize:uS};function oS(t,n){let r=t.length,l,o,u;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){l=r;break}t[r][1].type==="paragraph"&&(o=r)}else t[r][1].type==="content"&&t.splice(r,1),!u&&t[r][1].type==="definition"&&(u=r);const c={type:"setextHeading",start:{...t[l][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",u?(t.splice(o,0,["enter",c,n]),t.splice(u+1,0,["exit",t[l][1],n]),t[l][1].end={...t[u][1].end}):t[l][1]=c,t.push(["exit",c,n]),t}function uS(t,n,r){const l=this;let o;return u;function u(p){let m=l.events.length,b;for(;m--;)if(l.events[m][1].type!=="lineEnding"&&l.events[m][1].type!=="linePrefix"&&l.events[m][1].type!=="content"){b=l.events[m][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||b)?(t.enter("setextHeadingLine"),o=p,c(p)):r(p)}function c(p){return t.enter("setextHeadingLineSequence"),d(p)}function d(p){return p===o?(t.consume(p),d):(t.exit("setextHeadingLineSequence"),Ie(p)?Qe(t,g,"lineSuffix")(p):g(p))}function g(p){return p===null||_e(p)?(t.exit("setextHeadingLine"),n(p)):r(p)}}const cS={tokenize:hS};function hS(t){const n=this,r=t.attempt(vo,l,t.attempt(this.parser.constructs.flowInitial,o,Qe(t,t.attempt(this.parser.constructs.flow,o,t.attempt(mw,o)),"linePrefix")));return r;function l(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function o(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),n.currentConstruct=void 0,r}}const fS={resolveAll:A0()},dS=k0("string"),pS=k0("text");function k0(t){return{resolveAll:A0(t==="text"?gS:void 0),tokenize:n};function n(r){const l=this,o=this.parser.constructs[t],u=r.attempt(o,c,d);return c;function c(m){return p(m)?u(m):d(m)}function d(m){if(m===null){r.consume(m);return}return r.enter("data"),r.consume(m),g}function g(m){return p(m)?(r.exit("data"),u(m)):(r.consume(m),g)}function p(m){if(m===null)return!0;const b=o[m];let _=-1;if(b)for(;++_<b.length;){const v=b[_];if(!v.previous||v.previous.call(l,l.previous))return!0}return!1}}}function A0(t){return n;function n(r,l){let o=-1,u;for(;++o<=r.length;)u===void 0?r[o]&&r[o][1].type==="data"&&(u=o,o++):(!r[o]||r[o][1].type!=="data")&&(o!==u+2&&(r[u][1].end=r[o-1][1].end,r.splice(u+2,o-u-2),o=u+2),u=void 0);return t?t(r,l):r}}function gS(t,n){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const l=t[r-1][1],o=n.sliceStream(l);let u=o.length,c=-1,d=0,g;for(;u--;){const p=o[u];if(typeof p=="string"){for(c=p.length;p.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(p===-2)g=!0,d++;else if(p!==-1){u++;break}}if(n._contentTypeTextTrailing&&r===t.length&&(d=0),d){const p={type:r===t.length||g||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:l.start._bufferIndex+c,_index:l.start._index+u,line:l.end.line,column:l.end.column-d,offset:l.end.offset-d},end:{...l.end}};l.end={...p.start},l.start.offset===l.end.offset?Object.assign(l,p):(t.splice(r,0,["enter",p,n],["exit",p,n]),r+=2)}r++}return t}const mS={42:Ht,43:Ht,45:Ht,48:Ht,49:Ht,50:Ht,51:Ht,52:Ht,53:Ht,54:Ht,55:Ht,56:Ht,57:Ht,62:b0},yS={91:xw},vS={[-2]:Qc,[-1]:Qc,32:Qc},bS={35:Aw,42:so,45:[Um,so],60:Rw,61:Um,95:so,96:zm,126:zm},_S={38:x0,92:_0},xS={[-5]:Jc,[-4]:Jc,[-3]:Jc,33:Fw,38:x0,42:xh,60:[J1,Bw],91:Jw,92:[Tw,_0],93:Xh,95:xh,96:cw},wS={null:[xh,fS]},SS={null:[42,95]},ES={null:[]},TS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SS,contentInitial:yS,disable:ES,document:mS,flow:bS,flowInitial:vS,insideSpan:wS,string:_S,text:xS},Symbol.toStringTag,{value:"Module"}));function kS(t,n,r){let l={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const o={},u=[];let c=[],d=[];const g={attempt:X(te),check:X(I),consume:L,enter:D,exit:Q,interrupt:X(I,{interrupt:!0})},p={code:null,containerState:{},defineSkip:C,events:[],now:T,parser:t,previous:null,sliceSerialize:_,sliceStream:v,write:b};let m=n.tokenize.call(p,g);return n.resolveAll&&u.push(n),p;function b(re){return c=fn(c,re),z(),c[c.length-1]!==null?[]:(fe(n,0),p.events=Yh(u,p.events,p),p.events)}function _(re,ne){return CS(v(re),ne)}function v(re){return AS(c,re)}function T(){const{_bufferIndex:re,_index:ne,line:Se,column:oe,offset:J}=l;return{_bufferIndex:re,_index:ne,line:Se,column:oe,offset:J}}function C(re){o[re.line]=re.column,xe()}function z(){let re;for(;l._index<c.length;){const ne=c[l._index];if(typeof ne=="string")for(re=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===re&&l._bufferIndex<ne.length;)R(ne.charCodeAt(l._bufferIndex));else R(ne)}}function R(re){m=m(re)}function L(re){_e(re)?(l.line++,l.column=1,l.offset+=re===-3?2:1,xe()):re!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===c[l._index].length&&(l._bufferIndex=-1,l._index++)),p.previous=re}function D(re,ne){const Se=ne||{};return Se.type=re,Se.start=T(),p.events.push(["enter",Se,p]),d.push(Se),Se}function Q(re){const ne=d.pop();return ne.end=T(),p.events.push(["exit",ne,p]),ne}function te(re,ne){fe(re,ne.from)}function I(re,ne){ne.restore()}function X(re,ne){return Se;function Se(oe,J,B){let Y,le,Ee,E;return Array.isArray(oe)?G(oe):"tokenize"in oe?G([oe]):A(oe);function A(O){return Z;function Z(W){const ae=W!==null&&O[W],ze=W!==null&&O.null,et=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return G(et)(W)}}function G(O){return Y=O,le=0,O.length===0?B:S(O[le])}function S(O){return Z;function Z(W){return E=de(),Ee=O,O.partial||(p.currentConstruct=O),O.name&&p.parser.constructs.disable.null.includes(O.name)?pe():O.tokenize.call(ne?Object.assign(Object.create(p),ne):p,g,ie,pe)(W)}}function ie(O){return re(Ee,E),J}function pe(O){return E.restore(),++le<Y.length?S(Y[le]):B}}}function fe(re,ne){re.resolveAll&&!u.includes(re)&&u.push(re),re.resolve&&kn(p.events,ne,p.events.length-ne,re.resolve(p.events.slice(ne),p)),re.resolveTo&&(p.events=re.resolveTo(p.events,p))}function de(){const re=T(),ne=p.previous,Se=p.currentConstruct,oe=p.events.length,J=Array.from(d);return{from:oe,restore:B};function B(){l=re,p.previous=ne,p.currentConstruct=Se,p.events.length=oe,d=J,xe()}}function xe(){l.line in o&&l.column<2&&(l.column=o[l.line],l.offset+=o[l.line]-1)}}function AS(t,n){const r=n.start._index,l=n.start._bufferIndex,o=n.end._index,u=n.end._bufferIndex;let c;if(r===o)c=[t[r].slice(l,u)];else{if(c=t.slice(r,o),l>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(l):c.shift()}u>0&&c.push(t[o].slice(0,u))}return c}function CS(t,n){let r=-1;const l=[];let o;for(;++r<t.length;){const u=t[r];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=n?" ":"	";break}case-1:{if(!n&&o)continue;c=" ";break}default:c=String.fromCharCode(u)}o=u===-2,l.push(c)}return l.join("")}function OS(t){const l={constructs:U1([TS,...(t||{}).extensions||[]]),content:o(V1),defined:[],document:o(P1),flow:o(cS),lazy:{},string:o(dS),text:o(pS)};return l;function o(u){return c;function c(d){return kS(l,u,d)}}}function NS(t){for(;!w0(t););return t}const Lm=/[\0\t\n\r]/g;function RS(){let t=1,n="",r=!0,l;return o;function o(u,c,d){const g=[];let p,m,b,_,v;for(u=n+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),b=0,n="",r&&(u.charCodeAt(0)===65279&&b++,r=void 0);b<u.length;){if(Lm.lastIndex=b,p=Lm.exec(u),_=p&&p.index!==void 0?p.index:u.length,v=u.charCodeAt(_),!p){n=u.slice(b);break}if(v===10&&b===_&&l)g.push(-3),l=void 0;else switch(l&&(g.push(-5),l=void 0),b<_&&(g.push(u.slice(b,_)),t+=_-b),v){case 0:{g.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,g.push(-2);t++<m;)g.push(-1);break}case 10:{g.push(-4),t=1;break}default:l=!0,t=1}b=_+1}return d&&(l&&g.push(-5),n&&g.push(n),g.push(null)),g}}const jS=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function DS(t){return t.replace(jS,zS)}function zS(t,n,r){if(n)return n;if(r.charCodeAt(0)===35){const o=r.charCodeAt(1),u=o===120||o===88;return v0(r.slice(u?2:1),u?16:10)}return Ph(r)||t}const C0={}.hasOwnProperty;function MS(t,n,r){return typeof n!="string"&&(r=n,n=void 0),US(r)(NS(OS(r).document().write(RS()(t,n,!0))))}function US(t){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(tr),autolinkProtocol:de,autolinkEmail:de,atxHeading:u(Wi),blockQuote:u(ze),characterEscape:de,characterReference:de,codeFenced:u(et),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(et,c),codeText:u(Et,c),codeTextData:de,data:de,codeFlowValue:de,definition:u(Zi),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(Rt),hardBreakEscape:u(er),hardBreakTrailing:u(er),htmlFlow:u(jl,c),htmlFlowData:de,htmlText:u(jl,c),htmlTextData:de,image:u(Dl),label:c,link:u(tr),listItem:u(oa),listItemValue:_,listOrdered:u(nr,b),listUnordered:u(nr),paragraph:u(ko),reference:S,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Wi),strong:u(Ao),thematicBreak:u(Co)},exit:{atxHeading:g(),atxHeadingSequence:te,autolink:g(),autolinkEmail:ae,autolinkProtocol:W,blockQuote:g(),characterEscapeValue:xe,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:O,characterReference:Z,codeFenced:g(z),codeFencedFence:C,codeFencedFenceInfo:v,codeFencedFenceMeta:T,codeFlowValue:xe,codeIndented:g(R),codeText:g(J),codeTextData:xe,data:xe,definition:g(),definitionDestinationString:Q,definitionLabelString:L,definitionTitleString:D,emphasis:g(),hardBreakEscape:g(ne),hardBreakTrailing:g(ne),htmlFlow:g(Se),htmlFlowData:xe,htmlText:g(oe),htmlTextData:xe,image:g(Y),label:Ee,labelText:le,lineEnding:re,link:g(B),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:ie,resourceDestinationString:E,resourceTitleString:A,resource:G,setextHeading:g(fe),setextHeadingLineSequence:X,setextHeadingText:I,strong:g(),thematicBreak:g()}};O0(n,(t||{}).mdastExtensions||[]);const r={};return l;function l(V){let ee={type:"root",children:[]};const be={stack:[ee],tokenStack:[],config:n,enter:d,exit:p,buffer:c,resume:m,data:r},Ce=[];let He=-1;for(;++He<V.length;)if(V[He][1].type==="listOrdered"||V[He][1].type==="listUnordered")if(V[He][0]==="enter")Ce.push(He);else{const Gt=Ce.pop();He=o(V,Gt,He)}for(He=-1;++He<V.length;){const Gt=n[V[He][0]];C0.call(Gt,V[He][1].type)&&Gt[V[He][1].type].call(Object.assign({sliceSerialize:V[He][2].sliceSerialize},be),V[He][1])}if(be.tokenStack.length>0){const Gt=be.tokenStack[be.tokenStack.length-1];(Gt[1]||Bm).call(be,void 0,Gt[0])}for(ee.position={start:bi(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:bi(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<n.transforms.length;)ee=n.transforms[He](ee)||ee;return ee}function o(V,ee,be){let Ce=ee-1,He=-1,Gt=!1,An,Ot,ft,jt;for(;++Ce<=be;){const Pe=V[Ce];switch(Pe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pe[0]==="enter"?He++:He--,jt=void 0;break}case"lineEndingBlank":{Pe[0]==="enter"&&(An&&!jt&&!He&&!ft&&(ft=Ce),jt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jt=void 0}if(!He&&Pe[0]==="enter"&&Pe[1].type==="listItemPrefix"||He===-1&&Pe[0]==="exit"&&(Pe[1].type==="listUnordered"||Pe[1].type==="listOrdered")){if(An){let Xn=Ce;for(Ot=void 0;Xn--;){const dn=V[Xn];if(dn[1].type==="lineEnding"||dn[1].type==="lineEndingBlank"){if(dn[0]==="exit")continue;Ot&&(V[Ot][1].type="lineEndingBlank",Gt=!0),dn[1].type="lineEnding",Ot=Xn}else if(!(dn[1].type==="linePrefix"||dn[1].type==="blockQuotePrefix"||dn[1].type==="blockQuotePrefixWhitespace"||dn[1].type==="blockQuoteMarker"||dn[1].type==="listItemIndent"))break}ft&&(!Ot||ft<Ot)&&(An._spread=!0),An.end=Object.assign({},Ot?V[Ot][1].start:Pe[1].end),V.splice(Ot||Ce,0,["exit",An,Pe[2]]),Ce++,be++}if(Pe[1].type==="listItemPrefix"){const Xn={type:"listItem",_spread:!1,start:Object.assign({},Pe[1].start),end:void 0};An=Xn,V.splice(Ce,0,["enter",Xn,Pe[2]]),Ce++,be++,ft=void 0,jt=!0}}}return V[ee][1]._spread=Gt,be}function u(V,ee){return be;function be(Ce){d.call(this,V(Ce),Ce),ee&&ee.call(this,Ce)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(V,ee,be){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([ee,be||void 0]),V.position={start:bi(ee.start),end:void 0}}function g(V){return ee;function ee(be){V&&V.call(this,be),p.call(this,be)}}function p(V,ee){const be=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==V.type&&(ee?ee.call(this,V,Ce[0]):(Ce[1]||Bm).call(this,V,Ce[0]));else throw new Error("Cannot close `"+V.type+"` ("+hl({start:V.start,end:V.end})+"): its not open");be.position.end=bi(V.end)}function m(){return z1(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function _(V){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function v(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=V}function T(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=V}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function z(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function R(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.value=V.replace(/(\r?\n|\r)$/g,"")}function L(V){const ee=this.resume(),be=this.stack[this.stack.length-1];be.label=ee,be.identifier=ta(this.sliceSerialize(V)).toLowerCase()}function D(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.title=V}function Q(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.url=V}function te(V){const ee=this.stack[this.stack.length-1];if(!ee.depth){const be=this.sliceSerialize(V).length;ee.depth=be}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function X(V){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function fe(){this.data.setextHeadingSlurpLineEnding=void 0}function de(V){const be=this.stack[this.stack.length-1].children;let Ce=be[be.length-1];(!Ce||Ce.type!=="text")&&(Ce=Ct(),Ce.position={start:bi(V.start),end:void 0},be.push(Ce)),this.stack.push(Ce)}function xe(V){const ee=this.stack.pop();ee.value+=this.sliceSerialize(V),ee.position.end=bi(V.end)}function re(V){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ee.children[ee.children.length-1];be.position.end=bi(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(ee.type)&&(de.call(this,V),xe.call(this,V))}function ne(){this.data.atHardBreak=!0}function Se(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.value=V}function oe(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.value=V}function J(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.value=V}function B(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=ee,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function Y(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=ee,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function le(V){const ee=this.sliceSerialize(V),be=this.stack[this.stack.length-2];be.label=DS(ee),be.identifier=ta(ee).toLowerCase()}function Ee(){const V=this.stack[this.stack.length-1],ee=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Ce=V.children;be.children=Ce}else be.alt=ee}function E(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.url=V}function A(){const V=this.resume(),ee=this.stack[this.stack.length-1];ee.title=V}function G(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function ie(V){const ee=this.resume(),be=this.stack[this.stack.length-1];be.label=ee,be.identifier=ta(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function pe(V){this.data.characterReferenceType=V.type}function O(V){const ee=this.sliceSerialize(V),be=this.data.characterReferenceType;let Ce;be?(Ce=v0(ee,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=Ph(ee);const He=this.stack[this.stack.length-1];He.value+=Ce}function Z(V){const ee=this.stack.pop();ee.position.end=bi(V.end)}function W(V){xe.call(this,V);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(V)}function ae(V){xe.call(this,V);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(V)}function ze(){return{type:"blockquote",children:[]}}function et(){return{type:"code",lang:null,meta:null,value:""}}function Et(){return{type:"inlineCode",value:""}}function Zi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Rt(){return{type:"emphasis",children:[]}}function Wi(){return{type:"heading",depth:0,children:[]}}function er(){return{type:"break"}}function jl(){return{type:"html",value:""}}function Dl(){return{type:"image",title:null,url:"",alt:null}}function tr(){return{type:"link",title:null,url:"",children:[]}}function nr(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function oa(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function ko(){return{type:"paragraph",children:[]}}function Ao(){return{type:"strong",children:[]}}function Ct(){return{type:"text",value:""}}function Co(){return{type:"thematicBreak"}}}function bi(t){return{line:t.line,column:t.column,offset:t.offset}}function O0(t,n){let r=-1;for(;++r<n.length;){const l=n[r];Array.isArray(l)?O0(t,l):LS(t,l)}}function LS(t,n){let r;for(r in n)if(C0.call(n,r))switch(r){case"canContainEols":{const l=n[r];l&&t[r].push(...l);break}case"transforms":{const l=n[r];l&&t[r].push(...l);break}case"enter":case"exit":{const l=n[r];l&&Object.assign(t[r],l);break}}}function Bm(t,n){throw t?new Error("Cannot close `"+t.type+"` ("+hl({start:t.start,end:t.end})+"): a different token (`"+n.type+"`, "+hl({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+hl({start:n.start,end:n.end})+") is still open")}function BS(t){const n=this;n.parser=r;function r(l){return MS(l,{...n.data("settings"),...t,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function IS(t,n){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(n),!0)};return t.patch(n,r),t.applyData(n,r)}function HS(t,n){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(n,r),[t.applyData(n,r),{type:"text",value:`
`}]}function qS(t,n){const r=n.value?n.value+`
`:"",l={},o=n.lang?n.lang.split(/\s+/):[];o.length>0&&(l.className=["language-"+o[0]]);let u={type:"element",tagName:"code",properties:l,children:[{type:"text",value:r}]};return n.meta&&(u.data={meta:n.meta}),t.patch(n,u),u=t.applyData(n,u),u={type:"element",tagName:"pre",properties:{},children:[u]},t.patch(n,u),u}function $S(t,n){const r={type:"element",tagName:"del",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function GS(t,n){const r={type:"element",tagName:"em",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function VS(t,n){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",l=String(n.identifier).toUpperCase(),o=ra(l.toLowerCase()),u=t.footnoteOrder.indexOf(l);let c,d=t.footnoteCounts.get(l);d===void 0?(d=0,t.footnoteOrder.push(l),c=t.footnoteOrder.length):c=u+1,d+=1,t.footnoteCounts.set(l,d);const g={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+o,id:r+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(n,g);const p={type:"element",tagName:"sup",properties:{},children:[g]};return t.patch(n,p),t.applyData(n,p)}function KS(t,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function PS(t,n){if(t.options.allowDangerousHtml){const r={type:"raw",value:n.value};return t.patch(n,r),t.applyData(n,r)}}function N0(t,n){const r=n.referenceType;let l="]";if(r==="collapsed"?l+="[]":r==="full"&&(l+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+l}];const o=t.all(n),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=l:o.push({type:"text",value:l}),o}function YS(t,n){const r=String(n.identifier).toUpperCase(),l=t.definitionById.get(r);if(!l)return N0(t,n);const o={src:ra(l.url||""),alt:n.alt};l.title!==null&&l.title!==void 0&&(o.title=l.title);const u={type:"element",tagName:"img",properties:o,children:[]};return t.patch(n,u),t.applyData(n,u)}function XS(t,n){const r={src:ra(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const l={type:"element",tagName:"img",properties:r,children:[]};return t.patch(n,l),t.applyData(n,l)}function FS(t,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};t.patch(n,r);const l={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(n,l),t.applyData(n,l)}function QS(t,n){const r=String(n.identifier).toUpperCase(),l=t.definitionById.get(r);if(!l)return N0(t,n);const o={href:ra(l.url||"")};l.title!==null&&l.title!==void 0&&(o.title=l.title);const u={type:"element",tagName:"a",properties:o,children:t.all(n)};return t.patch(n,u),t.applyData(n,u)}function JS(t,n){const r={href:ra(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const l={type:"element",tagName:"a",properties:r,children:t.all(n)};return t.patch(n,l),t.applyData(n,l)}function ZS(t,n,r){const l=t.all(n),o=r?WS(r):R0(n),u={},c=[];if(typeof n.checked=="boolean"){const m=l[0];let b;m&&m.type==="element"&&m.tagName==="p"?b=m:(b={type:"element",tagName:"p",properties:{},children:[]},l.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let d=-1;for(;++d<l.length;){const m=l[d];(o||d!==0||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?c.push(...m.children):c.push(m)}const g=l[l.length-1];g&&(o||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:u,children:c};return t.patch(n,p),t.applyData(n,p)}function WS(t){let n=!1;if(t.type==="list"){n=t.spread||!1;const r=t.children;let l=-1;for(;!n&&++l<r.length;)n=R0(r[l])}return n}function R0(t){const n=t.spread;return n??t.children.length>1}function eE(t,n){const r={},l=t.all(n);let o=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++o<l.length;){const c=l[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const u={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:t.wrap(l,!0)};return t.patch(n,u),t.applyData(n,u)}function tE(t,n){const r={type:"element",tagName:"p",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function nE(t,n){const r={type:"root",children:t.wrap(t.all(n))};return t.patch(n,r),t.applyData(n,r)}function iE(t,n){const r={type:"element",tagName:"strong",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function rE(t,n){const r=t.all(n),l=r.shift(),o=[];if(l){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([l],!0)};t.patch(n.children[0],c),o.push(c)}if(r.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},d=$h(n.children[1]),g=h0(n.children[n.children.length-1]);d&&g&&(c.position={start:d,end:g}),o.push(c)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(n,u),t.applyData(n,u)}function aE(t,n,r){const l=r?r.children:void 0,u=(l?l.indexOf(n):1)===0?"th":"td",c=r&&r.type==="table"?r.align:void 0,d=c?c.length:n.children.length;let g=-1;const p=[];for(;++g<d;){const b=n.children[g],_={},v=c?c[g]:void 0;v&&(_.align=v);let T={type:"element",tagName:u,properties:_,children:[]};b&&(T.children=t.all(b),t.patch(b,T),T=t.applyData(b,T)),p.push(T)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(n,m),t.applyData(n,m)}function lE(t,n){const r={type:"element",tagName:"td",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}const Im=9,Hm=32;function sE(t){const n=String(t),r=/\r?\n|\r/g;let l=r.exec(n),o=0;const u=[];for(;l;)u.push(qm(n.slice(o,l.index),o>0,!0),l[0]),o=l.index+l[0].length,l=r.exec(n);return u.push(qm(n.slice(o),o>0,!1)),u.join("")}function qm(t,n,r){let l=0,o=t.length;if(n){let u=t.codePointAt(l);for(;u===Im||u===Hm;)l++,u=t.codePointAt(l)}if(r){let u=t.codePointAt(o-1);for(;u===Im||u===Hm;)o--,u=t.codePointAt(o-1)}return o>l?t.slice(l,o):""}function oE(t,n){const r={type:"text",value:sE(String(n.value))};return t.patch(n,r),t.applyData(n,r)}function uE(t,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(n,r),t.applyData(n,r)}const cE={blockquote:IS,break:HS,code:qS,delete:$S,emphasis:GS,footnoteReference:VS,heading:KS,html:PS,imageReference:YS,image:XS,inlineCode:FS,linkReference:QS,link:JS,listItem:ZS,list:eE,paragraph:tE,root:nE,strong:iE,table:rE,tableCell:lE,tableRow:aE,text:oE,thematicBreak:uE,toml:Qs,yaml:Qs,definition:Qs,footnoteDefinition:Qs};function Qs(){}const j0=-1,bo=0,dl=1,co=2,Fh=3,Qh=4,Jh=5,Zh=6,D0=7,z0=8,$m=typeof self=="object"?self:globalThis,hE=(t,n)=>{const r=(o,u)=>(t.set(u,o),o),l=o=>{if(t.has(o))return t.get(o);const[u,c]=n[o];switch(u){case bo:case j0:return r(c,o);case dl:{const d=r([],o);for(const g of c)d.push(l(g));return d}case co:{const d=r({},o);for(const[g,p]of c)d[l(g)]=l(p);return d}case Fh:return r(new Date(c),o);case Qh:{const{source:d,flags:g}=c;return r(new RegExp(d,g),o)}case Jh:{const d=r(new Map,o);for(const[g,p]of c)d.set(l(g),l(p));return d}case Zh:{const d=r(new Set,o);for(const g of c)d.add(l(g));return d}case D0:{const{name:d,message:g}=c;return r(new $m[d](g),o)}case z0:return r(BigInt(c),o);case"BigInt":return r(Object(BigInt(c)),o);case"ArrayBuffer":return r(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return r(new DataView(d),c)}}return r(new $m[u](c),o)};return l},Gm=t=>hE(new Map,t)(0),$r="",{toString:fE}={},{keys:dE}=Object,al=t=>{const n=typeof t;if(n!=="object"||!t)return[bo,n];const r=fE.call(t).slice(8,-1);switch(r){case"Array":return[dl,$r];case"Object":return[co,$r];case"Date":return[Fh,$r];case"RegExp":return[Qh,$r];case"Map":return[Jh,$r];case"Set":return[Zh,$r];case"DataView":return[dl,r]}return r.includes("Array")?[dl,r]:r.includes("Error")?[D0,r]:[co,r]},Js=([t,n])=>t===bo&&(n==="function"||n==="symbol"),pE=(t,n,r,l)=>{const o=(c,d)=>{const g=l.push(c)-1;return r.set(d,g),g},u=c=>{if(r.has(c))return r.get(c);let[d,g]=al(c);switch(d){case bo:{let m=c;switch(g){case"bigint":d=z0,m=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+g);m=null;break;case"undefined":return o([j0],c)}return o([d,m],c)}case dl:{if(g){let _=c;return g==="DataView"?_=new Uint8Array(c.buffer):g==="ArrayBuffer"&&(_=new Uint8Array(c)),o([g,[..._]],c)}const m=[],b=o([d,m],c);for(const _ of c)m.push(u(_));return b}case co:{if(g)switch(g){case"BigInt":return o([g,c.toString()],c);case"Boolean":case"Number":case"String":return o([g,c.valueOf()],c)}if(n&&"toJSON"in c)return u(c.toJSON());const m=[],b=o([d,m],c);for(const _ of dE(c))(t||!Js(al(c[_])))&&m.push([u(_),u(c[_])]);return b}case Fh:return o([d,c.toISOString()],c);case Qh:{const{source:m,flags:b}=c;return o([d,{source:m,flags:b}],c)}case Jh:{const m=[],b=o([d,m],c);for(const[_,v]of c)(t||!(Js(al(_))||Js(al(v))))&&m.push([u(_),u(v)]);return b}case Zh:{const m=[],b=o([d,m],c);for(const _ of c)(t||!Js(al(_)))&&m.push(u(_));return b}}const{message:p}=c;return o([d,{name:g,message:p}],c)};return u},Vm=(t,{json:n,lossy:r}={})=>{const l=[];return pE(!(n||r),!!n,new Map,l)(t),l},ho=typeof structuredClone=="function"?(t,n)=>n&&("json"in n||"lossy"in n)?Gm(Vm(t,n)):structuredClone(t):(t,n)=>Gm(Vm(t,n));function gE(t,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function mE(t,n){return"Back to reference "+(t+1)+(n>1?"-"+n:"")}function yE(t){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||gE,l=t.options.footnoteBackLabel||mE,o=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let g=-1;for(;++g<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[g]);if(!p)continue;const m=t.all(p),b=String(p.identifier).toUpperCase(),_=ra(b.toLowerCase());let v=0;const T=[],C=t.footnoteCounts.get(b);for(;C!==void 0&&++v<=C;){T.length>0&&T.push({type:"text",value:" "});let L=typeof r=="string"?r:r(g,v);typeof L=="string"&&(L={type:"text",value:L}),T.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+_+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(g,v),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const z=m[m.length-1];if(z&&z.type==="element"&&z.tagName==="p"){const L=z.children[z.children.length-1];L&&L.type==="text"?L.value+=" ":z.children.push({type:"text",value:" "}),z.children.push(...T)}else m.push(...T);const R={type:"element",tagName:"li",properties:{id:n+"fn-"+_},children:t.wrap(m,!0)};t.patch(p,R),d.push(R)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...ho(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const M0=(function(t){if(t==null)return xE;if(typeof t=="function")return _o(t);if(typeof t=="object")return Array.isArray(t)?vE(t):bE(t);if(typeof t=="string")return _E(t);throw new Error("Expected function, string, or object as test")});function vE(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=M0(t[r]);return _o(l);function l(...o){let u=-1;for(;++u<n.length;)if(n[u].apply(this,o))return!0;return!1}}function bE(t){const n=t;return _o(r);function r(l){const o=l;let u;for(u in t)if(o[u]!==n[u])return!1;return!0}}function _E(t){return _o(n);function n(r){return r&&r.type===t}}function _o(t){return n;function n(r,l,o){return!!(wE(r)&&t.call(this,r,typeof l=="number"?l:void 0,o||void 0))}}function xE(){return!0}function wE(t){return t!==null&&typeof t=="object"&&"type"in t}const U0=[],SE=!0,Km=!1,EE="skip";function TE(t,n,r,l){let o;typeof n=="function"&&typeof r!="function"?(l=r,r=n):o=n;const u=M0(o),c=l?-1:1;d(t,void 0,[])();function d(g,p,m){const b=g&&typeof g=="object"?g:{};if(typeof b.type=="string"){const v=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(g.type+(v?"<"+v+">":""))+")"})}return _;function _(){let v=U0,T,C,z;if((!n||u(g,p,m[m.length-1]||void 0))&&(v=kE(r(g,m)),v[0]===Km))return v;if("children"in g&&g.children){const R=g;if(R.children&&v[0]!==EE)for(C=(l?R.children.length:-1)+c,z=m.concat(R);C>-1&&C<R.children.length;){const L=R.children[C];if(T=d(L,C,z)(),T[0]===Km)return T;C=typeof T[1]=="number"?T[1]:C+c}}return v}}}function kE(t){return Array.isArray(t)?t:typeof t=="number"?[SE,t]:t==null?U0:[t]}function L0(t,n,r,l){let o,u,c;typeof n=="function"&&typeof r!="function"?(u=void 0,c=n,o=r):(u=n,c=r,o=l),TE(t,u,d,o);function d(g,p){const m=p[p.length-1],b=m?m.children.indexOf(g):void 0;return c(g,b,m)}}const wh={}.hasOwnProperty,AE={};function CE(t,n){const r=n||AE,l=new Map,o=new Map,u=new Map,c={...cE,...r.handlers},d={all:p,applyData:NE,definitionById:l,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:c,one:g,options:r,patch:OE,wrap:jE};return L0(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const b=m.type==="definition"?l:o,_=String(m.identifier).toUpperCase();b.has(_)||b.set(_,m)}}),d;function g(m,b){const _=m.type,v=d.handlers[_];if(wh.call(d.handlers,_)&&v)return v(d,m,b);if(d.options.passThrough&&d.options.passThrough.includes(_)){if("children"in m){const{children:C,...z}=m,R=ho(z);return R.children=d.all(m),R}return ho(m)}return(d.options.unknownHandler||RE)(d,m,b)}function p(m){const b=[];if("children"in m){const _=m.children;let v=-1;for(;++v<_.length;){const T=d.one(_[v],m);if(T){if(v&&_[v-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=Pm(T.value)),!Array.isArray(T)&&T.type==="element")){const C=T.children[0];C&&C.type==="text"&&(C.value=Pm(C.value))}Array.isArray(T)?b.push(...T):b.push(T)}}}return b}}function OE(t,n){t.position&&(n.position=f1(t))}function NE(t,n){let r=n;if(t&&t.data){const l=t.data.hName,o=t.data.hChildren,u=t.data.hProperties;if(typeof l=="string")if(r.type==="element")r.tagName=l;else{const c="children"in r?r.children:[r];r={type:"element",tagName:l,properties:{},children:c}}r.type==="element"&&u&&Object.assign(r.properties,ho(u)),"children"in r&&r.children&&o!==null&&o!==void 0&&(r.children=o)}return r}function RE(t,n){const r=n.data||{},l="value"in n&&!(wh.call(r,"hProperties")||wh.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:t.all(n)};return t.patch(n,l),t.applyData(n,l)}function jE(t,n){const r=[];let l=-1;for(n&&r.push({type:"text",value:`
`});++l<t.length;)l&&r.push({type:"text",value:`
`}),r.push(t[l]);return n&&t.length>0&&r.push({type:"text",value:`
`}),r}function Pm(t){let n=0,r=t.charCodeAt(n);for(;r===9||r===32;)n++,r=t.charCodeAt(n);return t.slice(n)}function Ym(t,n){const r=CE(t,n),l=r.one(t,void 0),o=yE(r),u=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function DE(t,n){return t&&"run"in t?async function(r,l){const o=Ym(r,{file:l,...n});await t.run(o,l)}:function(r,l){return Ym(r,{file:l,...t||n})}}function Xm(t){if(t)throw t}var Zc,Fm;function zE(){if(Fm)return Zc;Fm=1;var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=function(p){return typeof Array.isArray=="function"?Array.isArray(p):n.call(p)==="[object Array]"},u=function(p){if(!p||n.call(p)!=="[object Object]")return!1;var m=t.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!m&&!b)return!1;var _;for(_ in p);return typeof _>"u"||t.call(p,_)},c=function(p,m){r&&m.name==="__proto__"?r(p,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):p[m.name]=m.newValue},d=function(p,m){if(m==="__proto__")if(t.call(p,m)){if(l)return l(p,m).value}else return;return p[m]};return Zc=function g(){var p,m,b,_,v,T,C=arguments[0],z=1,R=arguments.length,L=!1;for(typeof C=="boolean"&&(L=C,C=arguments[1]||{},z=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});z<R;++z)if(p=arguments[z],p!=null)for(m in p)b=d(C,m),_=d(p,m),C!==_&&(L&&_&&(u(_)||(v=o(_)))?(v?(v=!1,T=b&&o(b)?b:[]):T=b&&u(b)?b:{},c(C,{name:m,newValue:g(L,T,_)})):typeof _<"u"&&c(C,{name:m,newValue:_}));return C},Zc}var ME=zE();const Wc=Lh(ME);function Sh(t){if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function UE(){const t=[],n={run:r,use:l};return n;function r(...o){let u=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...o);function d(g,...p){const m=t[++u];let b=-1;if(g){c(g);return}for(;++b<o.length;)(p[b]===null||p[b]===void 0)&&(p[b]=o[b]);o=p,m?LE(m,d)(...p):c(null,...p)}}function l(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),n}}function LE(t,n){let r;return l;function l(...c){const d=t.length>c.length;let g;d&&c.push(o);try{g=t.apply(this,c)}catch(p){const m=p;if(d&&r)throw m;return o(m)}d||(g&&g.then&&typeof g.then=="function"?g.then(u,o):g instanceof Error?o(g):u(g))}function o(c,...d){r||(r=!0,n(c,...d))}function u(c){o(null,c)}}const En={basename:BE,dirname:IE,extname:HE,join:qE,sep:"/"};function BE(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ol(t);let r=0,l=-1,o=t.length,u;if(n===void 0||n.length===0||n.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(u){r=o+1;break}}else l<0&&(u=!0,l=o+1);return l<0?"":t.slice(r,l)}if(n===t)return"";let c=-1,d=n.length-1;for(;o--;)if(t.codePointAt(o)===47){if(u){r=o+1;break}}else c<0&&(u=!0,c=o+1),d>-1&&(t.codePointAt(o)===n.codePointAt(d--)?d<0&&(l=o):(d=-1,l=c));return r===l?l=c:l<0&&(l=t.length),t.slice(r,l)}function IE(t){if(Ol(t),t.length===0)return".";let n=-1,r=t.length,l;for(;--r;)if(t.codePointAt(r)===47){if(l){n=r;break}}else l||(l=!0);return n<0?t.codePointAt(0)===47?"/":".":n===1&&t.codePointAt(0)===47?"//":t.slice(0,n)}function HE(t){Ol(t);let n=t.length,r=-1,l=0,o=-1,u=0,c;for(;n--;){const d=t.codePointAt(n);if(d===47){if(c){l=n+1;break}continue}r<0&&(c=!0,r=n+1),d===46?o<0?o=n:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||r<0||u===0||u===1&&o===r-1&&o===l+1?"":t.slice(o,r)}function qE(...t){let n=-1,r;for(;++n<t.length;)Ol(t[n]),t[n]&&(r=r===void 0?t[n]:r+"/"+t[n]);return r===void 0?".":$E(r)}function $E(t){Ol(t);const n=t.codePointAt(0)===47;let r=GE(t,!n);return r.length===0&&!n&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),n?"/"+r:r}function GE(t,n){let r="",l=0,o=-1,u=0,c=-1,d,g;for(;++c<=t.length;){if(c<t.length)d=t.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(o===c-1||u===1))if(o!==c-1&&u===2){if(r.length<2||l!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(g=r.lastIndexOf("/"),g!==r.length-1){g<0?(r="",l=0):(r=r.slice(0,g),l=r.length-1-r.lastIndexOf("/")),o=c,u=0;continue}}else if(r.length>0){r="",l=0,o=c,u=0;continue}}n&&(r=r.length>0?r+"/..":"..",l=2)}else r.length>0?r+="/"+t.slice(o+1,c):r=t.slice(o+1,c),l=c-o-1;o=c,u=0}else d===46&&u>-1?u++:u=-1}return r}function Ol(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const VE={cwd:KE};function KE(){return"/"}function Eh(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function PE(t){if(typeof t=="string")t=new URL(t);else if(!Eh(t)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(t.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return YE(t)}function YE(t){if(t.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const n=t.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const l=n.codePointAt(r+2);if(l===70||l===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(n)}const eh=["history","path","basename","stem","extname","dirname"];class B0{constructor(n){let r;n?Eh(n)?r={path:n}:typeof n=="string"||XE(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":VE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<eh.length;){const u=eh[l];u in r&&r[u]!==void 0&&r[u]!==null&&(this[u]=u==="history"?[...r[u]]:r[u])}let o;for(o in r)eh.includes(o)||(this[o]=r[o])}get basename(){return typeof this.path=="string"?En.basename(this.path):void 0}set basename(n){nh(n,"basename"),th(n,"basename"),this.path=En.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?En.dirname(this.path):void 0}set dirname(n){Qm(this.basename,"dirname"),this.path=En.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?En.extname(this.path):void 0}set extname(n){if(th(n,"extname"),Qm(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=En.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Eh(n)&&(n=PE(n)),nh(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?En.basename(this.path,this.extname):void 0}set stem(n){nh(n,"stem"),th(n,"stem"),this.path=En.join(this.dirname||"",n+(this.extname||""))}fail(n,r,l){const o=this.message(n,r,l);throw o.fatal=!0,o}info(n,r,l){const o=this.message(n,r,l);return o.fatal=void 0,o}message(n,r,l){const o=new At(n,r,l);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function th(t,n){if(t&&t.includes(En.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+En.sep+"`")}function nh(t,n){if(!t)throw new Error("`"+n+"` cannot be empty")}function Qm(t,n){if(!t)throw new Error("Setting `"+n+"` requires `path` to be set too")}function XE(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const FE=(function(t){const l=this.constructor.prototype,o=l[t],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,l),u}),QE={}.hasOwnProperty;class Wh extends FE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=UE()}copy(){const n=new Wh;let r=-1;for(;++r<this.attachers.length;){const l=this.attachers[r];n.use(...l)}return n.data(Wc(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(ah("data",this.frozen),this.namespace[n]=r,this):QE.call(this.namespace,n)&&this.namespace[n]||void 0:n?(ah("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const o=r.call(n,...l);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=Zs(n),l=this.parser||this.Parser;return ih("parse",l),l(String(r),r)}process(n,r){const l=this;return this.freeze(),ih("process",this.parser||this.Parser),rh("process",this.compiler||this.Compiler),r?o(void 0,r):new Promise(o);function o(u,c){const d=Zs(n),g=l.parse(d);l.run(g,d,function(m,b,_){if(m||!b||!_)return p(m);const v=b,T=l.stringify(v,_);WE(T)?_.value=T:_.result=T,p(m,_)});function p(m,b){m||!b?c(m):u?u(b):r(void 0,b)}}}processSync(n){let r=!1,l;return this.freeze(),ih("processSync",this.parser||this.Parser),rh("processSync",this.compiler||this.Compiler),this.process(n,o),Zm("processSync","process",r),l;function o(u,c){r=!0,Xm(u),l=c}}run(n,r,l){Jm(n),this.freeze();const o=this.transformers;return!l&&typeof r=="function"&&(l=r,r=void 0),l?u(void 0,l):new Promise(u);function u(c,d){const g=Zs(r);o.run(n,g,p);function p(m,b,_){const v=b||n;m?d(m):c?c(v):l(void 0,v,_)}}}runSync(n,r){let l=!1,o;return this.run(n,r,u),Zm("runSync","run",l),o;function u(c,d){Xm(c),o=d,l=!0}}stringify(n,r){this.freeze();const l=Zs(r),o=this.compiler||this.Compiler;return rh("stringify",o),Jm(n),o(n,l)}use(n,...r){const l=this.attachers,o=this.namespace;if(ah("use",this.frozen),n!=null)if(typeof n=="function")g(n,r);else if(typeof n=="object")Array.isArray(n)?d(n):c(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function u(p){if(typeof p=="function")g(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[m,...b]=p;g(m,b)}else c(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function c(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(p.plugins),p.settings&&(o.settings=Wc(!0,o.settings,p.settings))}function d(p){let m=-1;if(p!=null)if(Array.isArray(p))for(;++m<p.length;){const b=p[m];u(b)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function g(p,m){let b=-1,_=-1;for(;++b<l.length;)if(l[b][0]===p){_=b;break}if(_===-1)l.push([p,...m]);else if(m.length>0){let[v,...T]=m;const C=l[_][1];Sh(C)&&Sh(v)&&(v=Wc(!0,C,v)),l[_]=[p,v,...T]}}}}const JE=new Wh().freeze();function ih(t,n){if(typeof n!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function rh(t,n){if(typeof n!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function ah(t,n){if(n)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Jm(t){if(!Sh(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Zm(t,n,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+n+"` instead")}function Zs(t){return ZE(t)?t:new B0(t)}function ZE(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function WE(t){return typeof t=="string"||e2(t)}function e2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const t2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wm=[],ey={allowDangerousHtml:!0},n2=/^(https?|ircs?|mailto|xmpp)$/i,i2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function r2(t){const n=a2(t),r=l2(t);return s2(n.runSync(n.parse(r),r),t)}function a2(t){const n=t.rehypePlugins||Wm,r=t.remarkPlugins||Wm,l=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...ey}:ey;return JE().use(BS).use(r).use(DE,l).use(n)}function l2(t){const n=t.children||"",r=new B0;return typeof n=="string"&&(r.value=n),r}function s2(t,n){const r=n.allowedElements,l=n.allowElement,o=n.components,u=n.disallowedElements,c=n.skipHtml,d=n.unwrapDisallowed,g=n.urlTransform||o2;for(const m of i2)Object.hasOwn(n,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+t2+m.id,void 0);return L0(t,p),y1(t,{Fragment:x.Fragment,components:o,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function p(m,b,_){if(m.type==="raw"&&_&&typeof b=="number")return c?_.children.splice(b,1):_.children[b]={type:"text",value:m.value},b;if(m.type==="element"){let v;for(v in Fc)if(Object.hasOwn(Fc,v)&&Object.hasOwn(m.properties,v)){const T=m.properties[v],C=Fc[v];(C===null||C.includes(m.tagName))&&(m.properties[v]=g(String(T||""),v,m))}}if(m.type==="element"){let v=r?!r.includes(m.tagName):u?u.includes(m.tagName):!1;if(!v&&l&&typeof b=="number"&&(v=!l(m,b,_)),v&&_&&typeof b=="number")return d&&m.children?_.children.splice(b,1,...m.children):_.children.splice(b,1),b}}}function o2(t){const n=t.indexOf(":"),r=t.indexOf("?"),l=t.indexOf("#"),o=t.indexOf("/");return n===-1||o!==-1&&n>o||r!==-1&&n>r||l!==-1&&n>l||n2.test(t.slice(0,n))?t:""}const I0="chat_sessions",ef="chat_messages_",tf="chat_bookmarks",nf=()=>{try{const t=localStorage.getItem(I0);return t?JSON.parse(t):[]}catch{return[]}},_i=t=>{localStorage.setItem(I0,JSON.stringify(t))},u2=t=>{const n=nf().filter(r=>r.id!==t);_i(n),localStorage.removeItem(ef+t)},c2=(t,n)=>{const r=nf().map(l=>l.id===t?{...l,title:n}:l);_i(r)},lh=t=>{try{const n=localStorage.getItem(ef+t);return n?JSON.parse(n):[]}catch{return[]}},Ws=(t,n)=>{localStorage.setItem(ef+t,JSON.stringify(n))},h2=t=>{const n=t.replace(/\n/g," ").trim();return n.length<=40?n:n.substring(0,40)+"..."},vl=()=>{try{const t=localStorage.getItem(tf);return t?JSON.parse(t):[]}catch{return[]}},f2=(t,n,r)=>{const l=vl();l.some(o=>o.message.id===r.id)||(l.unshift({id:Date.now().toString(),sessionId:t,sessionTitle:n,message:r,bookmarkedAt:new Date().toISOString()}),localStorage.setItem(tf,JSON.stringify(l)))},d2=t=>{const n=vl().filter(r=>r.message.id!==t);localStorage.setItem(tf,JSON.stringify(n))},p2=t=>vl().some(n=>n.message.id===t),g2=({message:t,onBookmark:n})=>{const r=t.role==="user",[l,o]=ph.useState(!1),[u,c]=ph.useState(()=>p2(t.id)),d=()=>{navigator.clipboard.writeText(t.text),o(!0),setTimeout(()=>o(!1),2e3)},g=()=>{n&&(n(t),c(!0))};return x.jsxs("div",{className:`flex gap-4 p-6 ${r?"bg-white":"bg-gray-50"}`,children:[x.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${r?"bg-indigo-600 text-white":"bg-emerald-600 text-white"}`,children:r?x.jsx(Ih,{size:18}):x.jsx(V_,{size:18})}),x.jsxs("div",{className:"flex-1 max-w-3xl space-y-2 overflow-hidden",children:[x.jsxs("div",{className:"font-medium text-sm text-gray-900 mb-1",children:[r?"Bn":"Tr l GV",x.jsx("span",{className:"text-xs text-gray-400 font-normal ml-2",children:new Date(t.timestamp).toLocaleTimeString()})]}),x.jsx("div",{className:`prose prose-sm max-w-none text-gray-700 leading-7 ${r?"whitespace-pre-wrap":""}`,children:r?t.text:x.jsx(r2,{components:{h1:({node:p,...m})=>x.jsx("h1",{className:"text-xl font-bold text-gray-900 mt-6 mb-4",...m}),h2:({node:p,...m})=>x.jsx("h2",{className:"text-lg font-bold text-gray-800 mt-5 mb-3",...m}),h3:({node:p,...m})=>x.jsx("h3",{className:"text-base font-bold text-gray-800 mt-4 mb-2",...m}),ul:({node:p,...m})=>x.jsx("ul",{className:"list-disc pl-5 mb-4 space-y-1",...m}),ol:({node:p,...m})=>x.jsx("ol",{className:"list-decimal pl-5 mb-4 space-y-1",...m}),li:({node:p,...m})=>x.jsx("li",{className:"mb-1",...m}),p:({node:p,...m})=>x.jsx("p",{className:"mb-4 last:mb-0",...m}),code:({node:p,inline:m,className:b,children:_,...v})=>m?x.jsx("code",{className:"bg-gray-100 text-red-500 px-1 py-0.5 rounded text-sm font-mono",...v,children:_}):x.jsx("div",{className:"bg-gray-900 rounded-lg p-4 my-4 overflow-x-auto text-gray-100 text-sm font-mono",children:x.jsx("code",{className:b,...v,children:_})}),blockquote:({node:p,...m})=>x.jsx("blockquote",{className:"border-l-4 border-gray-200 pl-4 py-1 my-4 italic text-gray-600",...m}),a:({node:p,...m})=>x.jsx("a",{className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",...m})},children:t.text})}),!r&&x.jsxs("div",{className:"flex items-center gap-2 pt-2 mt-2 border-t border-gray-100",children:[x.jsxs("button",{onClick:d,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-gray-500 hover:bg-gray-100 transition-colors",title:"Sao chp",children:[l?x.jsx(yo,{size:14,className:"text-green-500"}):x.jsx(J_,{size:14}),l?" sao chp":"Sao chp"]}),x.jsxs("button",{onClick:g,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${u?"text-yellow-600 bg-yellow-50":"text-gray-500 hover:bg-gray-100"}`,title:"Ghim tin nhn",children:[x.jsx(Nx,{size:14,fill:u?"currentColor":"none"}),u?" ghim":"Ghim"]}),x.jsx("div",{className:"flex-1"}),x.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:x.jsx(Ux,{size:16})}),x.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:x.jsx(zx,{size:16})})]})]})]})},m2=({messages:t,isTyping:n,onSendMessage:r,userName:l,onBookmark:o})=>{const[u,c]=ph.useState(""),d=ue.useRef(null),g=ue.useRef(null),p=()=>{d.current?.scrollIntoView({behavior:"smooth"})};ue.useEffect(()=>{p()},[t,n]);const m=v=>{!u.trim()||n||(r(u),c(""),g.current&&(g.current.style.height="auto"))},b=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),m())},_=()=>{g.current&&(g.current.style.height="auto",g.current.style.height=g.current.scrollHeight+"px")};return x.jsxs("main",{className:"flex-1 flex flex-col h-full bg-white relative",children:[t.length===0&&x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center animate-in fade-in duration-500",children:[x.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mb-6 shadow-sm",children:x.jsx("span",{className:"text-4xl",children:""})}),x.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-3 bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600",children:["Xin cho, ",l||"Thy/C","!"]}),x.jsx("p",{className:"text-gray-500 max-w-md mx-auto text-lg mb-8",children:"Ti l tr l AI c nhn ca bn. Hy cho ti bit bn ang gp vn  g trong cng vic ging dy?"}),x.jsx("div",{className:"grid md:grid-cols-3 gap-4 w-full max-w-4xl px-4",children:[{icon:"",text:"Ti mun son gio n..."},{icon:"",text:"Ti cn to  thi..."},{icon:"",text:"Ti mun to ti liu..."}].map((v,T)=>x.jsxs("button",{onClick:()=>r(v.text),className:"flex flex-col items-center p-6 bg-white border border-gray-200 rounded-xl hover:border-indigo-500 hover:shadow-md transition-all group text-left",children:[x.jsx("span",{className:"text-2xl mb-3 group-hover:scale-110 transition-transform",children:v.icon}),x.jsx("span",{className:"font-medium text-gray-700 group-hover:text-indigo-600",children:v.text})]},T))})]}),t.length>0&&x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:x.jsxs("div",{className:"min-h-full pb-32",children:[t.map(v=>x.jsx(g2,{message:v,onBookmark:o},v.id)),n&&x.jsxs("div",{className:"flex gap-4 p-6 bg-gray-50 animate-in fade-in slide-in-from-bottom-2",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-600 text-white flex items-center justify-center shrink-0",children:x.jsx(n0,{size:16,className:"animate-pulse"})}),x.jsxs("div",{className:"flex items-center gap-1 bg-white px-4 py-3 rounded-2xl rounded-tl-none shadow-sm border border-gray-100",children:[x.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),x.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),x.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce"})]})]}),x.jsx("div",{ref:d})]})}),x.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white/80 backdrop-blur-md border-t border-gray-200 p-4 pb-6 md:px-8 md:pb-8",children:[x.jsxs("div",{className:"max-w-4xl mx-auto relative group",children:[x.jsx("textarea",{ref:g,rows:1,value:u,onChange:v=>{c(v.target.value),_()},onKeyDown:b,placeholder:"Nhp cu hi ca bn...",className:"w-full bg-white border border-gray-300 text-gray-900 rounded-2xl pl-6 pr-14 py-4 shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none max-h-48 custom-scrollbar transition-all",style:{minHeight:"56px"}}),x.jsx("button",{onClick:()=>m(),disabled:!u.trim()||n,className:`absolute right-3 bottom-3 p-2 rounded-xl transition-all ${u.trim()&&!n?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:n?x.jsx(Wy,{size:20,className:"animate-spin"}):x.jsx(wx,{size:20})})]}),x.jsx("p",{className:"text-center text-xs text-gray-400 mt-3",children:"AI c th mc li. Hy kim tra thng tin quan trng."})]})]})},y2=({onSubmit:t})=>{const[n,r]=ue.useState(1),[l,o]=ue.useState(""),[u,c]=ue.useState(""),[d,g]=ue.useState(""),[p,m]=ue.useState(""),[b,_]=ue.useState("Ton"),[v,T]=ue.useState("THPT"),[C,z]=ue.useState(""),R=()=>{if(n===1){if(!l){alert("Vui lng nhp Gemini API Key  s dng app");return}r(2)}else p?t(l,u,d,{name:p,subject:b,school_level:v,school_name:C}):alert("Vui lng nhp tn ca bn")};return x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg p-8 animate-in zoom-in-95 duration-300",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"w-14 h-14 bg-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:n===1?x.jsx(Zy,{size:28,className:"text-indigo-600"}):x.jsx(Ih,{size:28,className:"text-indigo-600"})}),x.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:n===1?"Thit lp API Key":" Thng tin c nhn"}),x.jsx("p",{className:"text-gray-500",children:n===1?"Nhp API Key  kt ni vi Gemini AI":"Gip AI hiu r hn v bn  h tr tt nht"})]}),n===1?x.jsxs("div",{className:"space-y-5",children:[x.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[x.jsx("p",{className:"text-sm text-amber-800 font-medium mb-2",children:" Hng dn ly API Key:"}),x.jsxs("ol",{className:"text-xs text-amber-700 space-y-1 list-decimal list-inside",children:[x.jsx("li",{children:"Truy cp Google AI Studio"}),x.jsx("li",{children:"ng nhp bng ti khon Google"}),x.jsx("li",{children:'Nhn "Create API Key"'}),x.jsx("li",{children:"Copy key v dn vo  bn di"})]}),x.jsxs("a",{href:"https://aistudio.google.com/api-keys",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1.5 mt-3 px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:[x.jsx(Jy,{size:12}),"Ly API Key ti y"]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Gemini API Key ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"password",value:l,onChange:L=>o(L.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"AIza..."}),x.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Bt buc nhp API key  s dng app"})]}),x.jsxs("details",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[x.jsx("summary",{className:"px-4 py-3 bg-gray-50 cursor-pointer text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:" Kt ni Database (ty chn)"}),x.jsxs("div",{className:"p-4 space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Supabase URL"}),x.jsx("input",{type:"text",value:u,onChange:L=>c(L.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"https://xxx.supabase.co"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Supabase Anon Key"}),x.jsx("input",{type:"password",value:d,onChange:L=>g(L.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"eyJ..."})]})]})]})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["H v tn ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:"text",value:p,onChange:L=>m(L.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nguyn Vn A"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mn dy"}),x.jsx("select",{value:b,onChange:L=>_(L.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:["Ton","Vn","Ting Anh","Vt L","Ha Hc","Sinh Hc","Lch S","a L","GDCD","Tin Hc","Cng Ngh","Khc"].map(L=>x.jsx("option",{value:L,children:L},L))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cp hc"}),x.jsxs("select",{value:v,onChange:L=>T(L.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[x.jsx("option",{value:"TieuHoc",children:"Tiu Hc"}),x.jsx("option",{value:"THCS",children:"THCS"}),x.jsx("option",{value:"THPT",children:"THPT"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng (ty chn)"}),x.jsx("input",{type:"text",value:C,onChange:L=>z(L.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"THPT..."})]})]}),x.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[n===2&&x.jsx("button",{onClick:()=>r(1),className:"px-6 py-2.5 text-gray-600 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Quay li"}),x.jsxs("button",{onClick:R,className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200 flex items-center gap-2",children:[x.jsx(n0,{size:16}),n===1?"Tip theo":"Bt u s dng"]})]}),x.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[x.jsx("div",{className:`w-8 h-1 rounded-full transition-colors ${n===1?"bg-indigo-600":"bg-gray-200"}`}),x.jsx("div",{className:`w-8 h-1 rounded-full transition-colors ${n===2?"bg-indigo-600":"bg-gray-200"}`})]})]})})};var ty;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(ty||(ty={}));var ny;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(ny||(ny={}));var iy;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(iy||(iy={}));const ry=["user","model","function","system"];var ay;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ay||(ay={}));var ly;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ly||(ly={}));var sy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(sy||(sy={}));var oy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(oy||(oy={}));var pl;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(pl||(pl={}));var uy;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(uy||(uy={}));var cy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(cy||(cy={}));var hy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hy||(hy={}));class kt extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class Gr extends kt{constructor(n,r){super(n),this.response=r}}class H0 extends kt{constructor(n,r,l,o){super(n),this.status=r,this.statusText=l,this.errorDetails=o}}class Ei extends kt{}class q0 extends kt{}const v2="https://generativelanguage.googleapis.com",b2="v1beta",_2="0.24.1",x2="genai-js";var Qi;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Qi||(Qi={}));class w2{constructor(n,r,l,o,u){this.model=n,this.task=r,this.apiKey=l,this.stream=o,this.requestOptions=u}toString(){var n,r;const l=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||b2;let u=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||v2}/${l}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function S2(t){const n=[];return t?.apiClient&&n.push(t.apiClient),n.push(`${x2}/${_2}`),n.join(" ")}async function E2(t){var n;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",S2(t.requestOptions)),r.append("x-goog-api-key",t.apiKey);let l=(n=t.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(l){if(!(l instanceof Headers))try{l=new Headers(l)}catch(o){throw new Ei(`unable to convert customHeaders value ${JSON.stringify(l)} to Headers: ${o.message}`)}for(const[o,u]of l.entries()){if(o==="x-goog-api-key")throw new Ei(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Ei(`Header name ${o} can only be set using the apiClient field`);r.append(o,u)}}return r}async function T2(t,n,r,l,o,u){const c=new w2(t,n,r,l,u);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},O2(u)),{method:"POST",headers:await E2(c),body:o})}}async function Nl(t,n,r,l,o,u={},c=fetch){const{url:d,fetchOptions:g}=await T2(t,n,r,l,o,u);return k2(d,g,c)}async function k2(t,n,r=fetch){let l;try{l=await r(t,n)}catch(o){A2(o,t)}return l.ok||await C2(l,t),l}function A2(t,n){let r=t;throw r.name==="AbortError"?(r=new q0(`Request aborted when fetching ${n.toString()}: ${t.message}`),r.stack=t.stack):t instanceof H0||t instanceof Ei||(r=new kt(`Error fetching from ${n.toString()}: ${t.message}`),r.stack=t.stack),r}async function C2(t,n){let r="",l;try{const o=await t.json();r=o.error.message,o.error.details&&(r+=` ${JSON.stringify(o.error.details)}`,l=o.error.details)}catch{}throw new H0(`Error fetching from ${n.toString()}: [${t.status} ${t.statusText}] ${r}`,t.status,t.statusText,l)}function O2(t){const n={};if(t?.signal!==void 0||t?.timeout>=0){const r=new AbortController;t?.timeout>=0&&setTimeout(()=>r.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{r.abort()}),n.signal=r.signal}return n}function rf(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),oo(t.candidates[0]))throw new Gr(`${xi(t)}`,t);return N2(t)}else if(t.promptFeedback)throw new Gr(`Text not available. ${xi(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),oo(t.candidates[0]))throw new Gr(`${xi(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),fy(t)[0]}else if(t.promptFeedback)throw new Gr(`Function call not available. ${xi(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),oo(t.candidates[0]))throw new Gr(`${xi(t)}`,t);return fy(t)}else if(t.promptFeedback)throw new Gr(`Function call not available. ${xi(t)}`,t)},t}function N2(t){var n,r,l,o;const u=[];if(!((r=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const c of(o=(l=t.candidates)===null||l===void 0?void 0:l[0].content)===null||o===void 0?void 0:o.parts)c.text&&u.push(c.text),c.executableCode&&u.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&u.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function fy(t){var n,r,l,o;const u=[];if(!((r=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const c of(o=(l=t.candidates)===null||l===void 0?void 0:l[0].content)===null||o===void 0?void 0:o.parts)c.functionCall&&u.push(c.functionCall);if(u.length>0)return u}const R2=[pl.RECITATION,pl.SAFETY,pl.LANGUAGE];function oo(t){return!!t.finishReason&&R2.includes(t.finishReason)}function xi(t){var n,r,l;let o="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)o+="Response was blocked",!((n=t.promptFeedback)===null||n===void 0)&&n.blockReason&&(o+=` due to ${t.promptFeedback.blockReason}`),!((r=t.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(o+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((l=t.candidates)===null||l===void 0)&&l[0]){const u=t.candidates[0];oo(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function bl(t){return this instanceof bl?(this.v=t,this):new bl(t)}function j2(t,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=r.apply(t,n||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(_){l[_]&&(o[_]=function(v){return new Promise(function(T,C){u.push([_,v,T,C])>1||d(_,v)})})}function d(_,v){try{g(l[_](v))}catch(T){b(u[0][3],T)}}function g(_){_.value instanceof bl?Promise.resolve(_.value.v).then(p,m):b(u[0][2],_)}function p(_){d("next",_)}function m(_){d("throw",_)}function b(_,v){_(v),u.shift(),u.length&&d(u[0][0],u[0][1])}}const dy=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function D2(t){const n=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=U2(n),[l,o]=r.tee();return{stream:M2(l),response:z2(o)}}async function z2(t){const n=[],r=t.getReader();for(;;){const{done:l,value:o}=await r.read();if(l)return rf(L2(n));n.push(o)}}function M2(t){return j2(this,arguments,function*(){const r=t.getReader();for(;;){const{value:l,done:o}=yield bl(r.read());if(o)break;yield yield bl(rf(l))}})}function U2(t){const n=t.getReader();return new ReadableStream({start(l){let o="";return u();function u(){return n.read().then(({value:c,done:d})=>{if(d){if(o.trim()){l.error(new kt("Failed to parse stream"));return}l.close();return}o+=c;let g=o.match(dy),p;for(;g;){try{p=JSON.parse(g[1])}catch{l.error(new kt(`Error parsing JSON response: "${g[1]}"`));return}l.enqueue(p),o=o.substring(g[0].length),g=o.match(dy)}return u()}).catch(c=>{let d=c;throw d.stack=c.stack,d.name==="AbortError"?d=new q0("Request aborted when reading from the stream"):d=new kt("Error reading from the stream"),d})}}})}function L2(t){const n=t[t.length-1],r={promptFeedback:n?.promptFeedback};for(const l of t){if(l.candidates){let o=0;for(const u of l.candidates)if(r.candidates||(r.candidates=[]),r.candidates[o]||(r.candidates[o]={index:o}),r.candidates[o].citationMetadata=u.citationMetadata,r.candidates[o].groundingMetadata=u.groundingMetadata,r.candidates[o].finishReason=u.finishReason,r.candidates[o].finishMessage=u.finishMessage,r.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){r.candidates[o].content||(r.candidates[o].content={role:u.content.role||"user",parts:[]});const c={};for(const d of u.content.parts)d.text&&(c.text=d.text),d.functionCall&&(c.functionCall=d.functionCall),d.executableCode&&(c.executableCode=d.executableCode),d.codeExecutionResult&&(c.codeExecutionResult=d.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),r.candidates[o].content.parts.push(c)}o++}l.usageMetadata&&(r.usageMetadata=l.usageMetadata)}return r}async function $0(t,n,r,l){const o=await Nl(n,Qi.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(r),l);return D2(o)}async function G0(t,n,r,l){const u=await(await Nl(n,Qi.GENERATE_CONTENT,t,!1,JSON.stringify(r),l)).json();return{response:rf(u)}}function V0(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function _l(t){let n=[];if(typeof t=="string")n=[{text:t}];else for(const r of t)typeof r=="string"?n.push({text:r}):n.push(r);return B2(n)}function B2(t){const n={role:"user",parts:[]},r={role:"function",parts:[]};let l=!1,o=!1;for(const u of t)"functionResponse"in u?(r.parts.push(u),o=!0):(n.parts.push(u),l=!0);if(l&&o)throw new kt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!l&&!o)throw new kt("No content is provided for sending chat message.");return l?n:r}function I2(t,n){var r;let l={model:n?.model,generationConfig:n?.generationConfig,safetySettings:n?.safetySettings,tools:n?.tools,toolConfig:n?.toolConfig,systemInstruction:n?.systemInstruction,cachedContent:(r=n?.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const o=t.generateContentRequest!=null;if(t.contents){if(o)throw new Ei("CountTokensRequest must have one of contents or generateContentRequest, not both.");l.contents=t.contents}else if(o)l=Object.assign(Object.assign({},l),t.generateContentRequest);else{const u=_l(t);l.contents=[u]}return{generateContentRequest:l}}function py(t){let n;return t.contents?n=t:n={contents:[_l(t)]},t.systemInstruction&&(n.systemInstruction=V0(t.systemInstruction)),n}function H2(t){return typeof t=="string"||Array.isArray(t)?{content:_l(t)}:t}const gy=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],q2={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function $2(t){let n=!1;for(const r of t){const{role:l,parts:o}=r;if(!n&&l!=="user")throw new kt(`First content should be with role 'user', got ${l}`);if(!ry.includes(l))throw new kt(`Each item should include role field. Got ${l} but valid roles are: ${JSON.stringify(ry)}`);if(!Array.isArray(o))throw new kt("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new kt("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of o)for(const g of gy)g in d&&(u[g]+=1);const c=q2[l];for(const d of gy)if(!c.includes(d)&&u[d]>0)throw new kt(`Content with role '${l}' can't contain '${d}' part`);n=!0}}function my(t){var n;if(t.candidates===void 0||t.candidates.length===0)return!1;const r=(n=t.candidates[0])===null||n===void 0?void 0:n.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const l of r.parts)if(l===void 0||Object.keys(l).length===0||l.text!==void 0&&l.text==="")return!1;return!0}const yy="SILENT_ERROR";class G2{constructor(n,r,l,o={}){this.model=r,this.params=l,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,l?.history&&($2(l.history),this._history=l.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,r={}){var l,o,u,c,d,g;await this._sendPromise;const p=_l(n),m={safetySettings:(l=this.params)===null||l===void 0?void 0:l.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},b=Object.assign(Object.assign({},this._requestOptions),r);let _;return this._sendPromise=this._sendPromise.then(()=>G0(this._apiKey,this.model,m,b)).then(v=>{var T;if(my(v.response)){this._history.push(p);const C=Object.assign({parts:[],role:"model"},(T=v.response.candidates)===null||T===void 0?void 0:T[0].content);this._history.push(C)}else{const C=xi(v.response);C&&console.warn(`sendMessage() was unsuccessful. ${C}. Inspect response object for details.`)}_=v}).catch(v=>{throw this._sendPromise=Promise.resolve(),v}),await this._sendPromise,_}async sendMessageStream(n,r={}){var l,o,u,c,d,g;await this._sendPromise;const p=_l(n),m={safetySettings:(l=this.params)===null||l===void 0?void 0:l.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},b=Object.assign(Object.assign({},this._requestOptions),r),_=$0(this._apiKey,this.model,m,b);return this._sendPromise=this._sendPromise.then(()=>_).catch(v=>{throw new Error(yy)}).then(v=>v.response).then(v=>{if(my(v)){this._history.push(p);const T=Object.assign({},v.candidates[0].content);T.role||(T.role="model"),this._history.push(T)}else{const T=xi(v);T&&console.warn(`sendMessageStream() was unsuccessful. ${T}. Inspect response object for details.`)}}).catch(v=>{v.message!==yy&&console.error(v)}),_}}async function V2(t,n,r,l){return(await Nl(n,Qi.COUNT_TOKENS,t,!1,JSON.stringify(r),l)).json()}async function K2(t,n,r,l){return(await Nl(n,Qi.EMBED_CONTENT,t,!1,JSON.stringify(r),l)).json()}async function P2(t,n,r,l){const o=r.requests.map(c=>Object.assign(Object.assign({},c),{model:n}));return(await Nl(n,Qi.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:o}),l)).json()}class vy{constructor(n,r,l={}){this.apiKey=n,this._requestOptions=l,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=V0(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(n,r={}){var l;const o=py(n),u=Object.assign(Object.assign({},this._requestOptions),r);return G0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},o),u)}async generateContentStream(n,r={}){var l;const o=py(n),u=Object.assign(Object.assign({},this._requestOptions),r);return $0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},o),u)}startChat(n){var r;return new G2(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},n),this._requestOptions)}async countTokens(n,r={}){const l=I2(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),r);return V2(this.apiKey,this.model,l,o)}async embedContent(n,r={}){const l=H2(n),o=Object.assign(Object.assign({},this._requestOptions),r);return K2(this.apiKey,this.model,l,o)}async batchEmbedContents(n,r={}){const l=Object.assign(Object.assign({},this._requestOptions),r);return P2(this.apiKey,this.model,n,l)}}class Y2{constructor(n){this.apiKey=n}getGenerativeModel(n,r){if(!n.model)throw new kt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new vy(this.apiKey,n,r)}getGenerativeModelFromCachedContent(n,r,l){if(!n.name)throw new Ei("Cached content must contain a `name` field.");if(!n.model)throw new Ei("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const c of o)if(r?.[c]&&n[c]&&r?.[c]!==n[c]){if(c==="model"){const d=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,g=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(d===g)continue}throw new Ei(`Different value for "${c}" specified in modelParams (${r[c]}) and cachedContent (${n[c]})`)}const u=Object.assign(Object.assign({},r),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new vy(this.apiKey,u,l)}}let sl=null;const X2=()=>{if(sl)return sl;const t=localStorage.getItem("gemini_api_key")||"";return t?(sl=new Y2(t),sl):null},by=t=>{localStorage.setItem("gemini_api_key",t),sl=null},F2=()=>localStorage.getItem("gemini_api_key"),af=["gemini-3-flash-preview","gemini-3-pro-preview","gemini-2.5-flash"];let Th=null;const fo=()=>Th||localStorage.getItem("selected_model")||af[0],K0=t=>{Th=t,localStorage.setItem("selected_model",t)},kh=()=>af,Q2=async(t,n)=>{const r=X2();if(!r)throw new Error("API Key cha c nhp. Vui lng vo Ci t  nhp API Key.");const l=fo(),o=[l,...af.filter(d=>d!==l)];let u=null;for(const d of o)try{console.log(`[Gemini] Trying model: ${d}`);const _=(await(await r.getGenerativeModel({model:d}).startChat({history:t,generationConfig:{maxOutputTokens:4096}}).sendMessage(n)).response).text();if(_)return console.log(`[Gemini]  Success with model: ${d}`),_}catch(g){console.warn(`[Gemini]  Model ${d} failed:`,g?.message||g),u=g}const c=u instanceof Error?u.message:String(u);throw new Error(`Tt c model u tht bi. Li cui: ${c}`)},J2=({isOpen:t,onClose:n,onSave:r})=>{const[l,o]=ue.useState(""),[u,c]=ue.useState(""),[d,g]=ue.useState(""),[p,m]=ue.useState(fo());if(ue.useEffect(()=>{t&&(o(localStorage.getItem("gemini_api_key")||""),c(localStorage.getItem("supabase_url")||""),g(localStorage.getItem("supabase_anon_key")||""),m(fo()))},[t]),!t)return null;const b=()=>{r(l,u,d),n()},_=C=>{K0(C),m(C)},v=kh(),T=C=>{switch(C){case"gemini-3-flash-preview":return{label:"3 Flash",desc:"Nhanh nht, ph hp chat thng thng",badge:"Default",color:"emerald"};case"gemini-3-pro-preview":return{label:"3 Pro",desc:"Mnh hn, ph hp phn tch chuyn su",badge:"Pro",color:"indigo"};case"gemini-2.5-flash":return{label:"2.5 Flash",desc:"n nh, model d phng tin cy",badge:"Stable",color:"amber"};default:return{label:C,desc:"",badge:"",color:"gray"}}};return x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg p-6 animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" Ci t"}),x.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:x.jsx(uo,{size:20})})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:" Chn Model AI"}),x.jsx("div",{className:"space-y-2",children:v.map(C=>{const z=T(C),R=p===C;return x.jsxs("button",{onClick:()=>_(C),className:`w-full flex items-center gap-3 p-3 rounded-xl border-2 text-left transition-all ${R?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[x.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${R?"bg-indigo-600":"bg-gray-200"}`,children:R?x.jsx(yo,{size:16,className:"text-white"}):x.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-medium text-gray-900 text-sm",children:z.label}),z.badge&&x.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-bold rounded ${z.color==="emerald"?"bg-emerald-100 text-emerald-700":z.color==="indigo"?"bg-indigo-100 text-indigo-700":"bg-amber-100 text-amber-700"}`,children:z.badge})]}),x.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:z.desc})]})]},C)})}),x.jsx("p",{className:"text-xs text-gray-400 mt-2",children:" Nu model li, h thng s t ng fallback sang model khc"})]}),x.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:" Gemini API Key"}),x.jsx("input",{type:"password",value:l,onChange:C=>o(C.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"AIza..."}),x.jsxs("div",{className:"flex items-center justify-between mt-2",children:[x.jsx("p",{className:"text-xs text-red-500 font-medium",children:" Ly API key  s dng app"}),x.jsxs("a",{href:"https://aistudio.google.com/api-keys",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs text-indigo-600 hover:underline font-medium",children:[x.jsx(Jy,{size:11}),"Ly API Key"]})]})]}),x.jsxs("details",{className:"border-t border-gray-100 pt-4",children:[x.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-gray-700 hover:text-gray-900 transition-colors",children:" Database (ty chn)"}),x.jsxs("div",{className:"mt-3 space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Supabase URL"}),x.jsx("input",{type:"text",value:u,onChange:C=>c(C.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Supabase Anon Key"}),x.jsx("input",{type:"password",value:d,onChange:C=>g(C.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]})]})]}),x.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[x.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Hy"}),x.jsx("button",{onClick:b,className:"px-5 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Lu thay i"})]})]})})},Z2="modulepreload",W2=function(t){return"/"+t},_y={},lf=function(n,r,l){let o=Promise.resolve();if(r&&r.length>0){let g=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=g(r.map(p=>{if(p=W2(p),p in _y)return;_y[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":Z2,m||(_.as="script"),_.crossOrigin="",_.href=p,d&&_.setAttribute("nonce",d),document.head.appendChild(_),m)return new Promise((v,T)=>{_.addEventListener("load",v),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return n().catch(u)})};function xo(t,n){var r={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&n.indexOf(l)<0&&(r[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(t);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(t,l[o])&&(r[l[o]]=t[l[o]]);return r}function eT(t,n,r,l){function o(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function d(m){try{p(l.next(m))}catch(b){c(b)}}function g(m){try{p(l.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):o(m.value).then(d,g)}p((l=l.apply(t,n||[])).next())})}const tT=t=>t?(...n)=>t(...n):(...n)=>fetch(...n);class sf extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class nT extends sf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class xy extends sf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class wy extends sf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ah;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ah||(Ah={}));class iT{constructor(n,{headers:r={},customFetch:l,region:o=Ah.Any}={}){this.url=n,this.headers=r,this.region=o,this.fetch=tT(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return eT(this,arguments,void 0,function*(r,l={}){var o;let u,c;try{const{headers:d,method:g,body:p,signal:m,timeout:b}=l;let _={},{region:v}=l;v||(v=this.region);const T=new URL(`${this.url}/${r}`);v&&v!=="any"&&(_["x-region"]=v,T.searchParams.set("forceFunctionRegion",v));let C;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",C=p):typeof p=="string"?(_["Content-Type"]="text/plain",C=p):typeof FormData<"u"&&p instanceof FormData?C=p:(_["Content-Type"]="application/json",C=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?C=JSON.stringify(p):C=p;let z=m;b&&(c=new AbortController,u=setTimeout(()=>c.abort(),b),m?(z=c.signal,m.addEventListener("abort",()=>c.abort())):z=c.signal);const R=yield this.fetch(T.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:C,signal:z}).catch(te=>{throw new nT(te)}),L=R.headers.get("x-relay-error");if(L&&L==="true")throw new xy(R);if(!R.ok)throw new wy(R);let D=((o=R.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Q;return D==="application/json"?Q=yield R.json():D==="application/octet-stream"||D==="application/pdf"?Q=yield R.blob():D==="text/event-stream"?Q=R:D==="multipart/form-data"?Q=yield R.formData():Q=yield R.text(),{data:Q,error:null,response:R}}catch(d){return{data:null,error:d,response:d instanceof wy||d instanceof xy?d.context:void 0}}finally{u&&clearTimeout(u)}})}}var rT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},aT=class{constructor(t){var n,r,l;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(l=t.urlLengthLimit)!==null&&l!==void 0?l:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,d=null,g=null,p=u.status,m=u.statusText;if(u.ok){var b,_;if(r.method!=="HEAD"){var v;const R=await u.text();R===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?d=R:d=JSON.parse(R))}const C=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),z=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");C&&z&&z.length>1&&(g=parseInt(z[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,g=null,p=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var T;const C=await u.text();try{c=JSON.parse(C),Array.isArray(c)&&u.status===404&&(d=[],c=null,p=200,m="OK")}catch{u.status===404&&C===""?(p=204,m="No Content"):c={message:C}}if(c&&r.isMaybeSingle&&(!(c==null||(T=c.details)===null||T===void 0)&&T.includes("0 rows"))&&(c=null,p=200,m="OK"),c&&r.shouldThrowOnError)throw new rT(c)}return{error:c,data:d,count:g,status:p,statusText:m}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let d="",g="",p="";const m=u?.cause;if(m){var b,_,v,T;const R=(b=m?.message)!==null&&b!==void 0?b:"",L=(_=m?.code)!==null&&_!==void 0?_:"";d=`${(v=u?.name)!==null&&v!==void 0?v:"FetchError"}: ${u?.message}`,d+=`

Caused by: ${(T=m?.name)!==null&&T!==void 0?T:"Error"}: ${R}`,L&&(d+=` (${L})`),m?.stack&&(d+=`
${m.stack}`)}else{var C;d=(C=u?.stack)!==null&&C!==void 0?C:""}const z=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(p="",g="Request was aborted (timeout or manual cancellation)",z>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${z} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(m?.name==="HeadersOverflowError"||m?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",g="HTTP headers exceeded server limits (typically 16KB)",z>this.urlLengthLimit&&(g+=`. Your request URL is ${z} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:d,hint:g,code:p},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}},lT=class extends aT{select(t){let n=!1;const r=(t??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(u,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var c;const d=[t?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),g=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Sy=new RegExp("[,()]");var Qr=class extends lT{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}regexMatch(t,n){return this.url.searchParams.append(t,`match.${n}`),this}regexIMatch(t,n){return this.url.searchParams.append(t,`imatch.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}isDistinct(t,n){return this.url.searchParams.append(t,`isdistinct.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&Sy.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&Sy.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${u}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}},sT=class{constructor(t,{headers:n={},schema:r,fetch:l,urlLengthLimit:o=8e3}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=l,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,n){const{head:r=!1,count:l}=n??{},o=r?"HEAD":"GET";let u=!1;const c=(t??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join(""),{url:d,headers:g}=this.cloneRequestState();return d.searchParams.set("select",c),l&&g.append("Prefer",`count=${l}`),new Qr({method:o,url:d,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:n,defaultToNull:r=!0}={}){var l;const o="POST",{url:u,headers:c}=this.cloneRequestState();if(n&&c.append("Prefer",`count=${n}`),r||c.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(d.length>0){const g=[...new Set(d)].map(p=>`"${p}"`);u.searchParams.set("columns",g.join(","))}}return new Qr({method:o,url:u,headers:c,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var u;const c="POST",{url:d,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&d.searchParams.set("on_conflict",n),l&&g.append("Prefer",`count=${l}`),o||g.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(p.length>0){const m=[...new Set(p)].map(b=>`"${b}"`);d.searchParams.set("columns",m.join(","))}}return new Qr({method:c,url:d,headers:g,schema:this.schema,body:t,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:n}={}){var r;const l="PATCH",{url:o,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new Qr({method:l,url:o,headers:u,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var n;const r="DELETE",{url:l,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Qr({method:r,url:l,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xl(t)}function oT(t,n){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var l=r.call(t,n);if(xl(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function uT(t){var n=oT(t,"string");return xl(n)=="symbol"?n:n+""}function cT(t,n,r){return(n=uT(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Ey(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,l)}return r}function eo(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ey(Object(r),!0).forEach(function(l){cT(t,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(r,l))})}return t}var hT=class P0{constructor(n,{headers:r={},schema:l,fetch:o,timeout:u,urlLengthLimit:c=8e3}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.urlLengthLimit=c;const d=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(g,p)=>{const m=new AbortController,b=setTimeout(()=>m.abort(),u),_=p?.signal;if(_){if(_.aborted)return clearTimeout(b),d(g,p);const v=()=>{clearTimeout(b),m.abort()};return _.addEventListener("abort",v,{once:!0}),d(g,eo(eo({},p),{},{signal:m.signal})).finally(()=>{clearTimeout(b),_.removeEventListener("abort",v)})}return d(g,eo(eo({},p),{},{signal:m.signal})).finally(()=>clearTimeout(b))}:this.fetch=d}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sT(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new P0(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,r={},{head:l=!1,get:o=!1,count:u}={}){var c;let d;const g=new URL(`${this.url}/rpc/${n}`);let p;const m=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(m)),b=l&&Object.values(r).some(m);b?(d="POST",p=r):l||o?(d=l?"HEAD":"GET",Object.entries(r).filter(([v,T])=>T!==void 0).map(([v,T])=>[v,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([v,T])=>{g.searchParams.append(v,T)})):(d="POST",p=r);const _=new Headers(this.headers);return b?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new Qr({method:d,url:g,headers:_,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class fT{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const o=l.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const dT="2.96.0",pT=`realtime-js/${dT}`,gT="1.0.0",Y0="2.0.0",Ty=Y0,Ch=1e4,mT=1e3,yT=100;var wi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wi||(wi={}));var pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pt||(pt={}));var bn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bn||(bn={}));var Oh;(function(t){t.websocket="websocket"})(Oh||(Oh={}));var Yi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yi||(Yi={}));class vT{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const o=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var r,l;const o=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(n,r,l){var o,u;const c=n.topic,d=(o=n.ref)!==null&&o!==void 0?o:"",g=(u=n.join_ref)!==null&&u!==void 0?u:"",p=n.payload.event,m=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(m).length===0?"":JSON.stringify(m);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+d.length+c.length+p.length+b.length,v=new ArrayBuffer(this.HEADER_LENGTH+_);let T=new DataView(v),C=0;T.setUint8(C++,this.KINDS.userBroadcastPush),T.setUint8(C++,g.length),T.setUint8(C++,d.length),T.setUint8(C++,c.length),T.setUint8(C++,p.length),T.setUint8(C++,b.length),T.setUint8(C++,r),Array.from(g,R=>T.setUint8(C++,R.charCodeAt(0))),Array.from(d,R=>T.setUint8(C++,R.charCodeAt(0))),Array.from(c,R=>T.setUint8(C++,R.charCodeAt(0))),Array.from(p,R=>T.setUint8(C++,R.charCodeAt(0))),Array.from(b,R=>T.setUint8(C++,R.charCodeAt(0)));var z=new Uint8Array(v.byteLength+l.byteLength);return z.set(new Uint8Array(v),0),z.set(new Uint8Array(l),v.byteLength),z.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,u,c,d,g]=l;return r({join_ref:o,ref:u,topic:c,event:d,payload:g})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,r,o)}_decodeUserBroadcast(n,r,l){const o=r.getUint8(1),u=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(n.slice(g,g+o));g=g+o;const m=l.decode(n.slice(g,g+u));g=g+u;const b=l.decode(n.slice(g,g+c));g=g+c;const _=n.slice(g,n.byteLength),v=d===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,T={type:this.BROADCAST_EVENT,event:m,payload:v};return c>0&&(T.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class X0{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xe||(Xe={}));const ky=(t,n,r={})=>{var l;const o=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((u,c)=>(u[c]=bT(c,t,n,o),u),{}):{}},bT=(t,n,r,l)=>{const o=n.find(d=>d.name===t),u=o?.type,c=r[t];return u&&!l.includes(u)?F0(u,c):Nh(c)},F0=(t,n)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ST(n,r)}switch(t){case Xe.bool:return _T(n);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return xT(n);case Xe.json:case Xe.jsonb:return wT(n);case Xe.timestamp:return ET(n);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Nh(n);default:return Nh(n)}},Nh=t=>t,_T=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xT=t=>{if(typeof t=="string"){const n=parseFloat(t);if(!Number.isNaN(n))return n}return t},wT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ST=(t,n)=>{if(typeof t!="string")return t;const r=t.length-1,l=t[r];if(t[0]==="{"&&l==="}"){let u;const c=t.slice(1,r);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(d=>F0(n,d))}return t},ET=t=>typeof t=="string"?t.replace(" ","T"):t,Q0=t=>{const n=new URL(t);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class sh{constructor(n,r,l={},o=Ch){this.channel=n,this.event=r,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ay;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ay||(Ay={}));class gl{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gl.syncState(this.state,o,u,c),this.pendingDiffs.forEach(g=>{this.state=gl.syncDiff(this.state,g,u,c)}),this.pendingDiffs=[],d()}),this.channel._on(l.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=gl.syncDiff(this.state,o,u,c),d())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,o){const u=this.cloneDeep(n),c=this.transformState(r),d={},g={};return this.map(u,(p,m)=>{c[p]||(g[p]=m)}),this.map(c,(p,m)=>{const b=u[p];if(b){const _=m.map(z=>z.presence_ref),v=b.map(z=>z.presence_ref),T=m.filter(z=>v.indexOf(z.presence_ref)<0),C=b.filter(z=>_.indexOf(z.presence_ref)<0);T.length>0&&(d[p]=T),C.length>0&&(g[p]=C)}else d[p]=m}),this.syncDiff(u,{joins:d,leaves:g},l,o)}static syncDiff(n,r,l,o){const{joins:u,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(u,(d,g)=>{var p;const m=(p=n[d])!==null&&p!==void 0?p:[];if(n[d]=this.cloneDeep(g),m.length>0){const b=n[d].map(v=>v.presence_ref),_=m.filter(v=>b.indexOf(v.presence_ref)<0);n[d].unshift(..._)}l(d,m,g)}),this.map(c,(d,g)=>{let p=n[d];if(!p)return;const m=g.map(b=>b.presence_ref);p=p.filter(b=>m.indexOf(b.presence_ref)<0),n[d]=p,o(d,p,g),p.length===0&&delete n[d]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const o=n[l];return"metas"in o?r[l]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[l]=o,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cy||(Cy={}));var ml;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ml||(ml={}));var Pn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class Wr{constructor(n,r={config:{}},l){var o,u;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sh(this,bn.join,this.params,this.timeout),this.rejoinTimer=new X0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new gl(this),this.broadcastEndpointURL=Q0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:c,presence:d,private:g}}=this.params,p=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(v=>v.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[ml.PRESENCE]&&this.bindings[ml.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},_={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(v=>n?.(Pn.CHANNEL_ERROR,v)),this._onClose(()=>n?.(Pn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){n?.(Pn.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,z=(T=C?.length)!==null&&T!==void 0?T:0,R=[];for(let L=0;L<z;L++){const D=C[L],{filter:{event:Q,schema:te,table:I,filter:X}}=D,fe=v&&v[L];if(fe&&fe.event===Q&&Wr.isFilterValueEqual(fe.schema,te)&&Wr.isFilterValueEqual(fe.table,I)&&Wr.isFilterValueEqual(fe.filter,X))R.push(Object.assign(Object.assign({},D),{id:fe.id}));else{this.unsubscribe(),this.state=pt.errored,n?.(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,n&&n(Pn.SUBSCRIBED);return}}).receive("error",v=>{this.state=pt.errored,n?.(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{n?.(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===pt.joined&&n===ml.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let g=d.statusText;try{const p=await d.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,r={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=n,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,d,g;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new sh(this,bn.leave,{},n),l.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const o=new AbortController,u=setTimeout(()=>o.abort(),l),c=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),c}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new sh(this,n,r,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>yT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var o,u;const c=n.toLocaleLowerCase(),{close:d,error:g,leave:p,join:m}=bn;if(l&&[d,g,p,m].indexOf(c)>=0&&l!==this._joinRef())return;let _=this._onMessage(c,r,l);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var T,C,z;return((T=v.filter)===null||T===void 0?void 0:T.event)==="*"||((z=(C=v.filter)===null||C===void 0?void 0:C.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===c}).map(v=>v.callback(_,l)):(u=this.bindings[c])===null||u===void 0||u.filter(v=>{var T,C,z,R,L,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const Q=v.id,te=(T=v.filter)===null||T===void 0?void 0:T.event;return Q&&((C=r.ids)===null||C===void 0?void 0:C.includes(Q))&&(te==="*"||te?.toLocaleLowerCase()===((z=r.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const Q=(L=(R=v?.filter)===null||R===void 0?void 0:R.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return Q==="*"||Q===((D=r?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:C,table:z,commit_timestamp:R,type:L,errors:D}=T;_=Object.assign(Object.assign({},{schema:C,table:z,commit_timestamp:R,eventType:L,new:{},old:{},errors:D}),this._getPayloadRecords(T))}v.callback(_,l)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const o=n.toLocaleLowerCase(),u={type:o,filter:r,callback:l};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Wr.isEqual(o.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(bn.close,{},n)}_onError(n){this._on(bn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=ky(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=ky(n.columns,n.old_record)),r}}const oh=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TT=[1e3,2e3,5e3,1e4],kT=1e4,AT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CT{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ch,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oh,this.ref=0,this.reconnectTimer=null,this.vsn=Ty,this.logger=oh,this.conn=null,this.sendBuffer=[],this.serializer=new vT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Oh.websocket}`,this.httpEndpoint=Q0(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fT.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return Yi.Connecting;case wi.open:return Yi.Open;case wi.closing:return Yi.Closing;default:return Yi.Closed}}isConnected(){return this.connectionState()===Yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===l);if(o)return o;{const u=new Wr(`realtime:${n}`,r,this);return this.channels.push(u),u}}push(n){const{topic:r,event:l,payload:o,ref:u}=n,c=()=>{this.encode(n,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${r} ${l} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(mT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:o,payload:u,ref:c}=r,d=c?`(${c})`:"",g=u.status||"";this.log("receive",`${g} ${l} ${o} ${d}`.trim(),u),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===wi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wi.open||this.conn.readyState===wi.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(bn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${n}${l}${o}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([AT],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const u={access_token:r,version:pT};r&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(bn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new X0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,o,u,c,d,g,p,m,b,_,v;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Ch,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:to.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=n?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=n?.heartbeatCallback)!==null&&d!==void 0?d:oh,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:Ty,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(T=>TT[T-1]||kT),this.vsn){case gT:this.encode=(m=n?.encode)!==null&&m!==void 0?m:((T,C)=>C(JSON.stringify(T))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((T,C)=>C(JSON.parse(T)));break;case Y0:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(v=n?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var wl=class extends Error{constructor(t,n){super(t),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OT(t,n,r){const l=new URL(n,t);if(r)for(const[o,u]of Object.entries(r))u!==void 0&&l.searchParams.set(o,u);return l.toString()}async function NT(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function RT(t){const n=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:o,body:u,headers:c}){const d=OT(t.baseUrl,l,o),g=await NT(t.auth),p=await n(d,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...g,...c},body:u?JSON.stringify(u):void 0}),m=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),_=b&&m?JSON.parse(m):m;if(!p.ok){const v=b?_:void 0,T=v?.error;throw new wl(T?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:T?.type,icebergCode:T?.code,details:v})}return{status:p.status,headers:p.headers,data:_}}}}function no(t){return t.join("")}var jT=class{constructor(t,n=""){this.client=t,this.prefix=n}async listNamespaces(t){const n=t?{parent:no(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(t,n){const r={namespace:t.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(t.namespace)}`}),!0}catch(n){if(n instanceof wl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(t,n){try{return await this.createNamespace(t,n)}catch(r){if(r instanceof wl&&r.status===409)return;throw r}}};function Vr(t){return t.join("")}var DT=class{constructor(t,n="",r){this.client=t,this.prefix=n,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables`})).data.identifiers}async createTable(t,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(t,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables/${t.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables/${t.name}`,headers:n})).data.metadata}async tableExists(t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables/${t.name}`,headers:n}),!0}catch(r){if(r instanceof wl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,n){try{return await this.createTable(t,n)}catch(r){if(r instanceof wl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:n.name});throw r}}},zT=class{constructor(t){let n="v1";t.catalogName&&(n+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=RT({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new jT(this.client,n),this.tableOps=new DT(this.client,n,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,n){return this.namespaceOps.createNamespace(t,n)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,n){return this.tableOps.createTable(t,n)}async updateTable(t,n){return this.tableOps.updateTable(t,n)}async dropTable(t,n){await this.tableOps.dropTable(t,n)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,n){return this.namespaceOps.createNamespaceIfNotExists(t,n)}async createTableIfNotExists(t,n){return this.tableOps.createTableIfNotExists(t,n)}},wo=class extends Error{constructor(t,n="storage",r,l){super(t),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=l}};function So(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var io=class extends wo{constructor(t,n,r,l="storage"){super(t,l,n,r),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},J0=class extends wo{constructor(t,n,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const MT=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),UT=t=>{if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Rh=t=>{if(Array.isArray(t))return t.map(r=>Rh(r));if(typeof t=="function"||t!==Object(t))return t;const n={};return Object.entries(t).forEach(([r,l])=>{const o=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=Rh(l)}),n},LT=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sl(t)}function BT(t,n){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var l=r.call(t,n);if(Sl(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function IT(t){var n=BT(t,"string");return Sl(n)=="symbol"?n:n+""}function HT(t,n,r){return(n=IT(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Oy(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,l)}return r}function ye(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Oy(Object(r),!0).forEach(function(l){HT(t,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oy(Object(r)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(r,l))})}return t}const Ny=t=>{var n;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(n=t.error)===null||n===void 0?void 0:n.message)||JSON.stringify(t)},qT=async(t,n,r,l)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t,u=o.status||500;if(typeof o.json=="function")o.json().then(c=>{const d=c?.statusCode||c?.code||u+"";n(new io(Ny(c),u,d,l))}).catch(()=>{if(l==="vectors"){const c=u+"";n(new io(o.statusText||`HTTP ${u} error`,u,c,l))}else{const c=u+"";n(new io(o.statusText||`HTTP ${u} error`,u,c,l))}});else{const c=u+"";n(new io(o.statusText||`HTTP ${u} error`,u,c,l))}}else n(new J0(Ny(t),t,l))},$T=(t,n,r,l)=>{const o={method:t,headers:n?.headers||{}};return t==="GET"||t==="HEAD"||!l?ye(ye({},o),r):(UT(l)?(o.headers=ye({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),ye(ye({},o),r))};async function ll(t,n,r,l,o,u,c){return new Promise((d,g)=>{t(r,$T(n,l,o,u)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;if(c==="vectors"){const m=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!m||!m.includes("application/json"))return{}}return p.json()}).then(p=>d(p)).catch(p=>qT(p,g,l,c))})}function Z0(t="storage"){return{get:async(n,r,l,o)=>ll(n,"GET",r,l,o,void 0,t),post:async(n,r,l,o,u)=>ll(n,"POST",r,o,u,l,t),put:async(n,r,l,o,u)=>ll(n,"PUT",r,o,u,l,t),head:async(n,r,l,o)=>ll(n,"HEAD",r,ye(ye({},l),{},{noResolveJson:!0}),o,void 0,t),remove:async(n,r,l,o,u)=>ll(n,"DELETE",r,o,u,l,t)}}const GT=Z0("storage"),{get:El,post:vn,put:jh,head:VT,remove:of}=GT,Wt=Z0("vectors");var aa=class{constructor(t,n={},r,l="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.fetch=MT(r),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=ye(ye({},this.headers),{},{[t]:n}),this}async handleOperation(t){var n=this;try{return{data:await t(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}}},KT=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(So(n))return{data:null,error:n};throw n}}};let W0;W0=Symbol.toStringTag;var PT=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[W0]="BlobDownloadBuilder",this.promise=null}asStream(){return new KT(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(So(n))return{data:null,error:n};throw n}}};const YT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ry={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var XT=class extends aa{constructor(t,n={},r,l){super(t,n,l,"storage"),this.bucketId=r}async uploadOrUpdate(t,n,r,l){var o=this;return o.handleOperation(async()=>{let u;const c=ye(ye({},Ry),l);let d=ye(ye({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),g&&u.append("metadata",o.encodeMetadata(g)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),g&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(g))):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,g&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),l?.headers&&(d=ye(ye({},d),l.headers));const p=o._removeEmptyFolders(n),m=o._getFinalPath(p),b=await(t=="PUT"?jh:vn)(o.fetch,`${o.url}/object/${m}`,u,ye({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{path:p,id:b.Id,fullPath:b.Key}})}async upload(t,n,r){return this.uploadOrUpdate("POST",t,n,r)}async uploadToSignedUrl(t,n,r,l){var o=this;const u=o._removeEmptyFolders(t),c=o._getFinalPath(u),d=new URL(o.url+`/object/upload/sign/${c}`);return d.searchParams.set("token",n),o.handleOperation(async()=>{let g;const p=ye({upsert:Ry.upsert},l),m=ye(ye({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType),{path:u,fullPath:(await jh(o.fetch,d.toString(),g,{headers:m})).Key}})}async createSignedUploadUrl(t,n){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(t);const o=ye({},r.headers);n?.upsert&&(o["x-upsert"]="true");const u=await vn(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:o}),c=new URL(r.url+u.url),d=c.searchParams.get("token");if(!d)throw new wo("No token returned by API");return{signedUrl:c.toString(),path:t,token:d}})}async update(t,n,r){return this.uploadOrUpdate("PUT",t,n,r)}async move(t,n,r){var l=this;return l.handleOperation(async()=>await vn(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}))}async copy(t,n,r){var l=this;return l.handleOperation(async()=>({path:(await vn(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(t,n,r){var l=this;return l.handleOperation(async()=>{let o=l._getFinalPath(t),u=await vn(l.fetch,`${l.url}/object/sign/${o}`,ye({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${l.url}${u.signedURL}${c}`)}})}async createSignedUrls(t,n,r){var l=this;return l.handleOperation(async()=>{const o=await vn(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:t},{headers:l.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(c=>ye(ye({},c),{},{signedUrl:c.signedURL?encodeURI(`${l.url}${c.signedURL}${u}`):null}))})}download(t,n,r){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",c=this._getFinalPath(t),d=()=>El(this.fetch,`${this.url}/${l}/${c}${u}`,{headers:this.headers,noResolveJson:!0},r);return new PT(d,this.shouldThrowOnError)}async info(t){var n=this;const r=n._getFinalPath(t);return n.handleOperation(async()=>Rh(await El(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})))}async exists(t){var n=this;const r=n._getFinalPath(t);try{return await VT(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(So(l)&&l instanceof J0){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(t,n){const r=this._getFinalPath(t),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const u=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&l.push(c);let d=l.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}async remove(t){var n=this;return n.handleOperation(async()=>await of(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:t},{headers:n.headers}))}async list(t,n,r){var l=this;return l.handleOperation(async()=>{const o=ye(ye(ye({},YT),n),{},{prefix:t||""});return await vn(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},r)})}async listV2(t,n){var r=this;return r.handleOperation(async()=>{const l=ye({},t);return await vn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};const FT="2.96.0",Rl={"X-Client-Info":`storage-js/${FT}`};var QT=class extends aa{constructor(t,n={},r,l){const o=new URL(t);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),c=ye(ye({},Rl),n);super(u,c,r,"storage")}async listBuckets(t){var n=this;return n.handleOperation(async()=>{const r=n.listBucketOptionsToQueryString(t);return await El(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers})})}async getBucket(t){var n=this;return n.handleOperation(async()=>await El(n.fetch,`${n.url}/bucket/${t}`,{headers:n.headers}))}async createBucket(t,n={public:!1}){var r=this;return r.handleOperation(async()=>await vn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,n){var r=this;return r.handleOperation(async()=>await jh(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var n=this;return n.handleOperation(async()=>await vn(n.fetch,`${n.url}/bucket/${t}/empty`,{},{headers:n.headers}))}async deleteBucket(t){var n=this;return n.handleOperation(async()=>await of(n.fetch,`${n.url}/bucket/${t}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},JT=class extends aa{constructor(t,n={},r){const l=t.replace(/\/$/,""),o=ye(ye({},Rl),n);super(l,o,r,"storage")}async createBucket(t){var n=this;return n.handleOperation(async()=>await vn(n.fetch,`${n.url}/bucket`,{name:t},{headers:n.headers}))}async listBuckets(t){var n=this;return n.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const l=r.toString(),o=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await El(n.fetch,o,{headers:n.headers})})}async deleteBucket(t){var n=this;return n.handleOperation(async()=>await of(n.fetch,`${n.url}/bucket/${t}`,{},{headers:n.headers}))}from(t){var n=this;if(!LT(t))throw new wo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new zT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(o,d),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}},ZT=class extends aa{constructor(t,n={},r){const l=t.replace(/\/$/,""),o=ye(ye({},Rl),{},{"Content-Type":"application/json"},n);super(l,o,r,"vectors")}async createIndex(t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/CreateIndex`,t,{headers:n.headers})||{})}async getIndex(t,n){var r=this;return r.handleOperation(async()=>await Wt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:r.headers}))}async listIndexes(t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/ListIndexes`,t,{headers:n.headers}))}async deleteIndex(t,n){var r=this;return r.handleOperation(async()=>await Wt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:r.headers})||{})}},WT=class extends aa{constructor(t,n={},r){const l=t.replace(/\/$/,""),o=ye(ye({},Rl),{},{"Content-Type":"application/json"},n);super(l,o,r,"vectors")}async putVectors(t){var n=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/PutVectors`,t,{headers:n.headers})||{})}async getVectors(t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/GetVectors`,t,{headers:n.headers}))}async listVectors(t){var n=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/ListVectors`,t,{headers:n.headers}))}async queryVectors(t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/QueryVectors`,t,{headers:n.headers}))}async deleteVectors(t){var n=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/DeleteVectors`,t,{headers:n.headers})||{})}},ek=class extends aa{constructor(t,n={},r){const l=t.replace(/\/$/,""),o=ye(ye({},Rl),{},{"Content-Type":"application/json"},n);super(l,o,r,"vectors")}async createBucket(t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:n.headers})||{})}async getBucket(t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:t},{headers:n.headers}))}async listBuckets(t={}){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/ListVectorBuckets`,t,{headers:n.headers}))}async deleteBucket(t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:n.headers})||{})}},tk=class extends ek{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new nk(this.url,this.headers,t,this.fetch)}async createBucket(t){var n=()=>super.createBucket,r=this;return n().call(r,t)}async getBucket(t){var n=()=>super.getBucket,r=this;return n().call(r,t)}async listBuckets(t={}){var n=()=>super.listBuckets,r=this;return n().call(r,t)}async deleteBucket(t){var n=()=>super.deleteBucket,r=this;return n().call(r,t)}},nk=class extends ZT{constructor(t,n,r,l){super(t,n,l),this.vectorBucketName=r}async createIndex(t){var n=()=>super.createIndex,r=this;return n().call(r,ye(ye({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var n=()=>super.listIndexes,r=this;return n().call(r,ye(ye({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,t)}async deleteIndex(t){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,t)}index(t){return new ik(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},ik=class extends WT{constructor(t,n,r,l,o){super(t,n,o),this.vectorBucketName=r,this.indexName=l}async putVectors(t){var n=()=>super.putVectors,r=this;return n().call(r,ye(ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var n=()=>super.getVectors,r=this;return n().call(r,ye(ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var n=()=>super.listVectors,r=this;return n().call(r,ye(ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var n=()=>super.queryVectors,r=this;return n().call(r,ye(ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var n=()=>super.deleteVectors,r=this;return n().call(r,ye(ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},rk=class extends QT{constructor(t,n={},r,l){super(t,n,r,l)}from(t){return new XT(this.url,this.headers,t,this.fetch)}get vectors(){return new tk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JT(this.url+"/iceberg",this.headers,this.fetch)}};const ev="2.96.0",Jr=30*1e3,Dh=3,uh=Dh*Jr,ak="http://localhost:9999",lk="supabase.auth.token",sk={"X-Client-Info":`gotrue-js/${ev}`},zh="X-Supabase-Api-Version",tv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ok=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uk=600*1e3;class Tl extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function he(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ck extends Tl{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function hk(t){return he(t)&&t.name==="AuthApiError"}class Xi extends Tl{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Yn extends Tl{constructor(n,r,l,o){super(n,l,o),this.name=r,this.status=l}}class Zt extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ch(t){return he(t)&&t.name==="AuthSessionMissingError"}class Kr extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ro extends Yn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ao extends Yn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fk(t){return he(t)&&t.name==="AuthImplicitGrantRedirectError"}class jy extends Yn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dk extends Yn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Mh extends Yn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function hh(t){return he(t)&&t.name==="AuthRetryableFetchError"}class Dy extends Yn{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Uh extends Yn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zy=` 	
\r=`.split(""),pk=(()=>{const t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<zy.length;n+=1)t[zy[n].charCodeAt(0)]=-2;for(let n=0;n<po.length;n+=1)t[po[n].charCodeAt(0)]=n;return t})();function My(t,n,r){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(po[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(po[l]),n.queuedBits-=6}}function nv(t,n,r){const l=pk[t];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Uy(t){const n=[],r=c=>{n.push(String.fromCodePoint(c))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{yk(c,l,r)};for(let c=0;c<t.length;c+=1)nv(t.charCodeAt(c),o,u);return n.join("")}function gk(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mk(t,n){for(let r=0;r<t.length;r+=1){let l=t.charCodeAt(r);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}gk(l,n)}}function yk(t,n,r){if(n.utf8seq===0){if(t<=127){r(t);return}for(let l=1;l<6;l+=1)if((t>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function na(t){const n=[],r={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<t.length;o+=1)nv(t.charCodeAt(o),r,l);return new Uint8Array(n)}function vk(t){const n=[];return mk(t,r=>n.push(r)),new Uint8Array(n)}function Fi(t){const n=[],r={queue:0,queuedBits:0},l=o=>{n.push(o)};return t.forEach(o=>My(o,r,l)),My(null,r,l),n.join("")}function bk(t){return Math.round(Date.now()/1e3)+t}function _k(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",Vi={tested:!1,writable:!1},iv=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function xk(t){const n={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return r.searchParams.forEach((l,o)=>{n[o]=l}),n}const rv=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),wk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zr=async(t,n,r)=>{await t.setItem(n,JSON.stringify(r))},Ki=async(t,n)=>{const r=await t.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wt=async(t,n)=>{await t.removeItem(n)};class Eo{constructor(){this.promise=new Eo.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Eo.promiseConstructor=Promise;function lo(t){const n=t.split(".");if(n.length!==3)throw new Uh("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!ok.test(n[l]))throw new Uh("JWT not in base64url format");return{header:JSON.parse(Uy(n[0])),payload:JSON.parse(Uy(n[1])),signature:na(n[2]),raw:{header:n[0],payload:n[1]}}}async function Sk(t){return await new Promise(n=>{setTimeout(()=>n(null),t)})}function Ek(t,n){return new Promise((l,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await t(u);if(!n(u,null,c)){l(c);return}}catch(c){if(!n(u,c)){o(c);return}}})()})}function Tk(t){return("0"+t.toString(16)).substr(-2)}function kk(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,Tk).join("")}async function Ak(t){const r=new TextEncoder().encode(t),l=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(l);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function Ck(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Ak(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(t,n,r=!1){const l=kk();let o=l;r&&(o+="/PASSWORD_RECOVERY"),await Zr(t,`${n}-code-verifier`,o);const u=await Ck(l);return[u,l===u?"plain":"s256"]}const Ok=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nk(t){const n=t.headers.get(zh);if(!n||!n.match(Ok))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Rk(t){if(!t)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function jk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Dk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yr(t){if(!Dk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fh(){const t={};return new Proxy(t,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zk(t,n){return new Proxy(t,{get:(r,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,o)}})}function Ly(t){return JSON.parse(JSON.stringify(t))}const Pi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mk=[502,503,504];async function By(t){var n;if(!wk(t))throw new Mh(Pi(t),0);if(Mk.includes(t.status))throw new Mh(Pi(t),t.status);let r;try{r=await t.json()}catch(u){throw new Xi(Pi(u),u)}let l;const o=Nk(t);if(o&&o.getTime()>=tv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Dy(Pi(r),t.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Zt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Dy(Pi(r),t.status,r.weak_password.reasons);throw new ck(Pi(r),t.status||500,l)}const Uk=(t,n,r,l)=>{const o={method:t,headers:n?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),r))};async function ve(t,n,r,l){var o;const u=Object.assign({},l?.headers);u[zh]||(u[zh]=tv["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const c=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(c.redirect_to=l.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await Lk(t,n,r+d,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function Lk(t,n,r,l,o,u){const c=Uk(n,l,o,u);let d;try{d=await t(r,Object.assign({},c))}catch(g){throw console.error(g),new Mh(Pi(g),0)}if(d.ok||await By(d),l?.noResolveJson)return d;try{return await d.json()}catch(g){await By(g)}}function yn(t){var n;let r=null;Hk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=bk(t.expires_in)));const l=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:r,user:l},error:null}}function Iy(t){const n=yn(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=t.weak_password),n}function Si(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function Bk(t){return{data:t,error:null}}function Ik(t){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:o,verification_type:u}=t,c=xo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:r,hashed_token:l,redirect_to:o,verification_type:u},g=Object.assign({},c);return{data:{properties:d,user:g},error:null}}function Hy(t){return t}function Hk(t){return t.access_token&&t.refresh_token&&t.expires_in}const dh=["global","local","others"];class qk{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=rv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=dh[0]){if(dh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dh.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Si})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=xo(n,["options"]),o=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Ik,redirectTo:r?.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Si})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,o,u,c,d,g;try{const p={nextPage:null,lastPage:0,total:0},m=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Hy});if(m.error)throw m.error;const b=await m.json(),_=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(g=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return v.length>0&&(v.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(T.split(";")[1].split("=")[1]);p[`${z}Page`]=C}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(he(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){Yr(n);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Si})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){Yr(n);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Si})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){Yr(n);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Si})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Yr(n.userId);try{const{data:r,error:l}=await ve(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:l}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(n){Yr(n.userId),Yr(n.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,o,u,c,d,g;try{const p={nextPage:null,lastPage:0,total:0},m=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Hy});if(m.error)throw m.error;const b=await m.json(),_=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(g=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return v.length>0&&(v.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(T.split(";")[1].split("=")[1]);p[`${z}Page`]=C}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(he(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(he(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}}function qy(t={}){return{getItem:n=>t[n]||null,setItem:(n,r)=>{t[n]=r},removeItem:n=>{delete t[n]}}}const Xr={debug:!!(globalThis&&iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class av extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class $y extends av{}async function $k(t,n,r){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);const l=new globalThis.AbortController;n>0&&setTimeout(()=>{l.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(n===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $y(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(o){throw o?.name==="AbortError"?new $y(`Acquiring an exclusive Navigator LockManager lock "${t}" timed out waiting ${n}ms`):o}}function Gk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Vk(t){return parseInt(t,16)}function Kk(t){const n=new TextEncoder().encode(t);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function Pk(t){var n;const{chainId:r,domain:l,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:d,requestId:g,resources:p,scheme:m,uri:b,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=t.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=lv(t.address),T=m?`${m}://${l}`:l,C=t.statement?`${t.statement}
`:"",z=`${T} wants you to sign in with your Ethereum account:
${v}

${C}`;let R=`URI: ${b}
Version: ${_}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(R+=`
Expiration Time: ${o.toISOString()}`),d&&(R+=`
Not Before: ${d.toISOString()}`),g&&(R+=`
Request ID: ${g}`),p){let L=`
Resources:`;for(const D of p){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);L+=`
- ${D}`}R+=L}return`${z}
${R}`}class ht extends Error{constructor({message:n,code:r,cause:l,name:o}){var u;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=o??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class go extends ht{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function Yk({error:t,options:n}){var r,l,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(n.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return u.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(sv(c)){if(u.rp.id!==c)return new ht({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Xk({error:t,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(sv(l)){if(r.rpId!==l)return new ht({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Fk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Qk=new Fk;function Jk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:n,user:r,excludeCredentials:l}=t,o=xo(t,["challenge","user","excludeCredentials"]),u=na(n).buffer,c=Object.assign(Object.assign({},r),{id:na(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:u,user:c});if(l&&l.length>0){d.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];d.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:na(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function Zk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:n,allowCredentials:r}=t,l=xo(t,["challenge","allowCredentials"]),o=na(n).buffer,u=Object.assign(Object.assign({},l),{challenge:o});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];u.allowCredentials[c]=Object.assign(Object.assign({},d),{id:na(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function Wk(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function eA(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,l=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fi(new Uint8Array(o.authenticatorData)),clientDataJSON:Fi(new Uint8Array(o.clientDataJSON)),signature:Fi(new Uint8Array(o.signature)),userHandle:o.userHandle?Fi(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function sv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Gy(){var t,n;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function tA(t){try{const n=await navigator.credentials.create(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new go("Browser returned unexpected credential type",n)}:{data:null,error:new go("Empty credential response",n)}}catch(n){return{data:null,error:Yk({error:n,options:t})}}}async function nA(t){try{const n=await navigator.credentials.get(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new go("Browser returned unexpected credential type",n)}:{data:null,error:new go("Empty credential response",n)}}catch(n){return{data:null,error:Xk({error:n,options:t})}}}const iA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mo(...t){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of t)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))l[u]=c;else if(r(c))l[u]=c;else if(n(c)){const d=l[u];n(d)?l[u]=mo(d,c):l[u]=mo(c)}else l[u]=c}return l}function aA(t,n){return mo(iA,t,n||{})}function lA(t,n){return mo(rA,t,n||{})}class sA{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:o},u){var c;try{const{data:d,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!d)return{data:null,error:g};const p=o??Qk.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;if(!m.name){const b=l;if(b)m.name=`${m.id}:${b}`;else{const v=(await this.client.getUser()).data.user,T=((c=v?.user_metadata)===null||c===void 0?void 0:c.name)||v?.email||v?.id||"User";m.name=`${m.id}:${T}`}}m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=aA(d.webauthn.credential_options.publicKey,u?.create),{data:b,error:_}=await tA({publicKey:m,signal:p});return b?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const m=lA(d.webauthn.credential_options.publicKey,u?.request),{data:b,error:_}=await nA(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:p}));return b?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(d){return he(d)?{data:null,error:d}:{data:null,error:new Xi("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Tl("rpId is required for WebAuthn authentication")};try{if(!Gy())return{data:null,error:new Xi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:o},{request:u});if(!c)return{data:null,error:d};const{webauthn:g}=c;return this._verify({factorId:n,challengeId:c.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(c){return he(c)?{data:null,error:c}:{data:null,error:new Xi("Unexpected error in authenticate",c)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Tl("rpId is required for WebAuthn registration")};try{if(!Gy())return{data:null,error:new Xi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:n});if(!c)return await this.client.mfa.listFactors().then(m=>{var b;return(b=m.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:o},{create:u});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return he(c)?{data:null,error:c}:{data:null,error:new Xi("Unexpected error in register",c)}}}}Gk();const oA={url:ak,storageKey:lk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Vy(t,n,r){return await r()}const Fr={};class kl{get jwks(){var n,r;return(r=(n=Fr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Fr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},oA),n);if(this.storageKey=u.storageKey,this.instanceID=(r=kl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,kl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&St()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new qk({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=rv(u.fetch),this.lock=u.lock||Vy,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&St()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=$k:this.lock=Vy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qy(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=qy(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ev}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(St()&&(r=xk(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),St()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:u}=await this._getSessionFromURL(r,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),fk(u)){const g=(n=u.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?this._returnResult({error:r}):this._returnResult({error:new Xi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,o;try{const u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:yn}),{data:c,error:d}=u;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(he(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var r,l,o;try{let u;if("email"in n){const{email:m,password:b,options:_}=n;let v=null,T=null;this.flowType==="pkce"&&([v,T]=await Pr(this.storage,this.storageKey)),u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:m,password:b,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:v,code_challenge_method:T},xform:yn})}else if("phone"in n){const{phone:m,password:b,options:_}=n;u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:b,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:yn})}else throw new ro("You must provide either an email or phone number and a password");const{data:c,error:d}=u;if(d||!c)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let r;if("email"in n){const{email:u,password:c,options:d}=n;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Iy})}else if("phone"in n){const{phone:u,password:c,options:d}=n;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Iy})}else throw new ro("You must provide either an email or phone number and a password");const{data:l,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const u=new Kr;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,o,u,c,d,g,p,m,b,_;let v,T;if("message"in n)v=n.message,T=n.signature;else{const{chain:C,wallet:z,statement:R,options:L}=n;let D;if(St())if(typeof z=="object")D=z;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")D=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=z}const Q=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href),te=await D.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=lv(te[0]);let X=(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!X){const de=await D.request({method:"eth_chainId"});X=Vk(de)}const fe={domain:Q.host,address:I,statement:R,uri:Q.href,version:"1",chainId:X,nonce:(o=L?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=L?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(g=L?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=Pk(fe),T=await D.request({method:"personal_sign",params:[Kk(v),I]})}try{const{data:C,error:z}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:T},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:yn});if(z)throw z;if(!C||!C.session||!C.user){const R=new Kr;return this._returnResult({data:{user:null,session:null},error:R})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:z})}catch(C){if(he(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var r,l,o,u,c,d,g,p,m,b,_,v;let T,C;if("message"in n)T=n.message,C=n.signature;else{const{chain:z,wallet:R,statement:L,options:D}=n;let Q;if(St())if(typeof R=="object")Q=R;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))Q=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=R}const te=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){const I=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),L?{statement:L}:null));let X;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")X=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)X=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)T=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),C=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${te.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(o=(l=D?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=D?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((b=(m=D?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||b===void 0)&&b.length?["Resources",...D.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const I=await Q.signMessage(new TextEncoder().encode(T),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=I}}try{const{data:z,error:R}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Fi(C)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(v=n.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:yn});if(R)throw R;if(!z||!z.session||!z.user){const L=new Kr;return this._returnResult({data:{user:null,session:null},error:L})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:R})}catch(z){if(he(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async _exchangeCodeForSession(n){const r=await Ki(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new dk;const{data:u,error:c}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:yn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const d=new Kr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:r,provider:l,token:o,access_token:u,nonce:c}=n,d=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:yn}),{data:g,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const m=new Kr;return this._returnResult({data:{user:null,session:null},error:m})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,o,u,c;try{if("email"in n){const{email:d,options:g}=n;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Pr(this.storage,this.storageKey));const{error:b}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:d,options:g}=n,{data:p,error:m}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(c=g?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:m})}throw new ro("You must provide either an email or phone number.")}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(n){var r,l;try{let o,u;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:c,error:d}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:yn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,l,o,u,c;try{let d=null,g=null;this.flowType==="pkce"&&([d,g]=await Pr(this.storage,this.storageKey));const p=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:g}),headers:this.headers,xform:Bk});return!((u=p.data)===null||u===void 0)&&u.url&&St()&&!(!((c=n.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Zt;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:u}=n,{error:c}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in n){const{phone:l,type:o,options:u}=n,{data:c,error:d}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new ro("You must provide either an email or phone number and a type")}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<uh:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const c=await Ki(this.userStorage,this.storageKey+"-user");c?.user?n.user=c.user:n.user=fh()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};n.user=zk(n.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Si}):await this._useSession(async r=>{var l,o,u;const{data:c,error:d}=r;if(d)throw d;return!(!((l=c.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Si})})}catch(r){if(he(r))return ch(r)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:o,error:u}=l;if(u)throw u;if(!o.session)throw new Zt;const c=o.session;let d=null,g=null;this.flowType==="pkce"&&n.email!=null&&([d,g]=await Pr(this.storage,this.storageKey));const{data:p,error:m}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:g}),jwt:c.access_token,xform:Si});if(m)throw m;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Zt;const r=Date.now()/1e3;let l=r,o=!0,u=null;const{payload:c}=lo(n.access_token);if(c.exp&&(l=c.exp,o=l<=r),o){const{data:d,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:g}=await this._getUser(n.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});u={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(he(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:c,error:d}=r;if(d)throw d;n=(l=c.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Zt;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!St())throw new ao("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ao(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ao("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new jy("No code detected.");const{data:L,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:d,expires_at:g,token_type:p}=n;if(!u||!d||!c||!p)throw new ao("No session defined in URL");const m=Math.round(Date.now()/1e3),b=parseInt(d);let _=m+b;g&&(_=parseInt(g));const v=_-m;v*1e3<=Jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${b}s`);const T=_-b;m-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,m):m-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,m);const{data:C,error:z}=await this._getUser(u);if(z)throw z;const R={provider_token:l,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:_,refresh_token:c,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:n.type},error:null})}catch(l){if(he(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await Ki(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:o,error:u}=r;if(u&&!ch(u))return this._returnResult({error:u});const c=(l=o.session)===null||l===void 0?void 0:l.access_token;if(c){const{error:d}=await this.admin.signOut(c,n);if(d&&!(hk(d)&&(d.status===404||d.status===401||d.status===403)||ch(d)))return this._returnResult({error:d})}return n!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=_k(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,o;try{const{data:{session:u},error:c}=r;if(c)throw c;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,r={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await Pr(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:o}=await this._useSession(async u=>{var c,d,g,p,m;const{data:b,error:_}=u;if(_)throw _;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return St()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(he(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:o,data:{session:u}}=r;if(o)throw o;const{options:c,provider:d,token:g,access_token:p,nonce:m}=n,b=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:d,id_token:g,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:yn}),{data:_,error:v}=b;return v?this._returnResult({data:{user:null,session:null},error:v}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Kr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:v}))}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,o;const{data:u,error:c}=r;if(c)throw c;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await Ek(async o=>(o>0&&await Sk(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:yn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&hh(u)&&Date.now()+c-l<Jr})}catch(l){if(this._debug(r,"error",l),he(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),St()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await Ki(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Zr(this.userStorage,this.storageKey+"-user",c)),o.user=(n=c?.user)!==null&&n!==void 0?n:fh()}else if(o&&!o.user&&!o.user){const c=await Ki(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await wt(this.storage,this.storageKey+"-user"),await Zr(this.storage,this.storageKey,o)):o.user=fh()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const u=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uh;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${uh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),hh(c)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(l,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Eo;const{data:u,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!u.session)throw new Zt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={data:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(o,"error",u),he(u)){const c={data:null,error:u};return hh(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,r)}catch(g){u.push(g)}});if(await Promise.all(c),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Zr(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const u=Ly(o);await Zr(this.storage,this.storageKey,u)}else{const o=Ly(r);await Zr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&St()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Jr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/Jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Jr}ms, refresh threshold is ${Dh} ticks`),o<=Dh&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof av)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const o=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,c]=await Pr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);o.push(u.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:o,error:u}=r;return u?this._returnResult({data:null,error:u}):await ve(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,o;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Wk(n.webauthn.credential_response):eA(n.webauthn.credential_response)})}:{code:n.code}),{data:d,error:g}=await ve(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:c,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:g}))})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=await ve(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Jk(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Zk(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,l,o,u;if(n)try{const{payload:v}=lo(n);let T=null;v.aal&&(T=v.aal);let C=T;const{data:{user:z},error:R}=await this.getUser(n);if(R)return this._returnResult({data:null,error:R});((l=(r=z?.factors)===null||r===void 0?void 0:r.filter(Q=>Q.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(C="aal2");const D=v.amr||[];return{data:{currentLevel:T,nextLevel:C,currentAuthenticationMethods:D},error:null}}catch(v){if(he(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:c},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=lo(c.access_token);let p=null;g.aal&&(p=g.aal);let m=p;((u=(o=c.user.factors)===null||o===void 0?void 0:o.filter(v=>v.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(m="aal2");const _=g.amr||[];return{data:{currentLevel:p,nextLevel:m,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;return o?this._returnResult({data:null,error:o}):l?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:o},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Zt});const c=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&St()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(l){if(he(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:o},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Zt});const c=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&St()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(l){if(he(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;return o?this._returnResult({data:null,error:o}):l?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zt})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(d=>d.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(d=>d.kid===n),l&&this.jwks_cached_at+uk>o)return l;const{data:u,error:c}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,l=u.keys.find(d=>d.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:v,error:T}=await this.getSession();if(T||!v.session)return this._returnResult({data:null,error:T});l=v.session.access_token}const{header:o,payload:u,signature:c,raw:{header:d,payload:g}}=lo(l);r?.allowExpired||Rk(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:v}=await this.getUser(l);if(v)throw v;return{data:{claims:u,header:o,signature:c},error:null}}const m=jk(o.alg),b=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,b,c,vk(`${d}.${g}`)))throw new Uh("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(l){if(he(l))return this._returnResult({data:null,error:l});throw l}}}kl.nextInstanceID={};const uA=kl,cA="2.96.0";let ol="";typeof Deno<"u"?ol="deno":typeof document<"u"?ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ol="react-native":ol="node";const hA={"X-Client-Info":`supabase-js-${ol}/${cA}`},fA={headers:hA},dA={schema:"public"},pA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gA={};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Al(t)}function mA(t,n){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var l=r.call(t,n);if(Al(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function yA(t){var n=mA(t,"string");return Al(n)=="symbol"?n:n+""}function vA(t,n,r){return(n=yA(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Ky(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,l)}return r}function it(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ky(Object(r),!0).forEach(function(l){vA(t,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ky(Object(r)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(r,l))})}return t}const bA=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),_A=()=>Headers,xA=(t,n,r)=>{const l=bA(r),o=_A();return async(u,c)=>{var d;const g=(d=await n())!==null&&d!==void 0?d:t;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(u,it(it({},c),{},{headers:p}))}};function wA(t){return t.endsWith("/")?t:t+"/"}function SA(t,n){var r,l;const{db:o,auth:u,realtime:c,global:d}=t,{db:g,auth:p,realtime:m,global:b}=n,_={db:it(it({},g),o),auth:it(it({},p),u),realtime:it(it({},m),c),storage:{},global:it(it(it({},b),d),{},{headers:it(it({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=d?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function EA(t){const n=t?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wA(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var TA=class extends uA{constructor(t){super(t)}},kA=class{constructor(t,n,r){var l,o;this.supabaseUrl=t,this.supabaseKey=n;const u=EA(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:dA,realtime:gA,auth:it(it({},pA),{},{storageKey:c}),global:fA},g=SA(r??{},d);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=xA(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(it({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new hT(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new rk(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new iT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,n,r;if(t.accessToken)return await t.accessToken();const{data:l}=await t.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:o,storageKey:u,flowType:c,lock:d,debug:g,throwOnError:p},m,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TA({url:this.authUrl.href,headers:it(it({},_),m),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:o,flowType:c,lock:d,debug:g,throwOnError:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new CT(this.realtimeUrl.href,it(it({},t),{},{params:it(it({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const AA=(t,n,r)=>new kA(t,n,r);function CA(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const n=t.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}CA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let ul=null;const la=()=>{if(ul)return ul;const t=localStorage.getItem("supabase_url")||void 0||"",n=localStorage.getItem("supabase_anon_key")||void 0||"";return!t||!n?null:(ul=AA(t,n),ul)},Py=(t,n)=>{localStorage.setItem("supabase_url",t),localStorage.setItem("supabase_anon_key",n),ul=null},OA=()=>{const t=localStorage.getItem("teacher_profile");return t?JSON.parse(t):null},NA=t=>{localStorage.setItem("teacher_profile",JSON.stringify(t))},cl=12e3,RA=async t=>{const n=await lf(()=>import("./pdf-TYrZqVzP.js"),[]);n.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${n.version}/pdf.worker.min.mjs`;const r=await t.arrayBuffer(),l=await n.getDocument({data:r}).promise;let o="";for(let u=1;u<=l.numPages;u++){const g=(await(await l.getPage(u)).getTextContent()).items.map(p=>p.str).join(" ");o+=`
--- Trang ${u} ---
${g}`}return o.trim()},jA=async t=>{const n=await lf(()=>import("./index-B78b9waJ.js").then(o=>o.i),[]),r=await t.arrayBuffer();return(await n.extractRawText({arrayBuffer:r})).value.trim()},DA=async t=>await t.text(),zA=async t=>{const n=t.name.split(".").pop()?.toLowerCase();switch(n){case"pdf":return RA(t);case"docx":case"doc":return jA(t);case"txt":case"md":return DA(t);default:throw new Error(`Khng h tr file .${n}. Ch h tr PDF, DOCX, TXT.`)}},MA=t=>{if(t.length<=cl)return[t];const n=[];let r=0;for(;r<t.length;){let l=r+cl;if(l<t.length){const o=t.lastIndexOf(`
`,l),u=t.lastIndexOf(". ",l);o>r+cl/2?l=o+1:u>r+cl/2&&(l=u+2)}n.push(t.slice(r,l)),r=l}return n},UA=async(t,n,r,l,o=[],u="")=>{const c=la();if(!c)return Xy(t,n,r,l,o,u);const d=MA(n),{data:g,error:p}=await c.from("documents").insert({title:t,file_type:r,file_size:l,content:n.substring(0,5e4),chunk_count:d.length,tags:o,folder:u}).select().single();if(p)return console.error("Error saving document:",p),Xy(t,n,r,l,o,u);if(d.length>0){const m=d.map((_,v)=>({document_id:g.id,chunk_index:v,content:_,char_count:_.length})),{error:b}=await c.from("document_chunks").insert(m);b&&console.warn("Error saving chunks:",b)}return g},LA=async()=>{const t=la();if(!t)return Fy();const{data:n,error:r}=await t.from("documents").select("id, title, file_type, file_size, chunk_count, tags, folder, created_at").order("created_at",{ascending:!1});return r?(console.error("Error fetching documents:",r),Fy()):n||[]},BA=async t=>{const n=la();if(!n)return qA(t);const{data:r,error:l}=await n.from("document_chunks").select("content, chunk_index").eq("document_id",t).order("chunk_index",{ascending:!0});if(l||!r||r.length===0){const{data:o}=await n.from("documents").select("content").eq("id",t).single();return o?.content||""}return r.map(o=>o.content).join("")},IA=async t=>{const n=la();if(!n)return $A(t),!0;const{error:r}=await n.from("documents").delete().eq("id",t);return r?(console.error("Error deleting document:",r),!1):!0},Yy=async(t,n)=>{const r=la();if(!r){const o=sa(),u=o.find(c=>c.id===t);return u&&(u.tags=n,To(o)),!0}const{error:l}=await r.from("documents").update({tags:n}).eq("id",t);return!l},HA=async(t,n)=>{const r=la();if(!r){const o=sa(),u=o.find(c=>c.id===t);return u&&(u.folder=n,To(o)),!0}const{error:l}=await r.from("documents").update({folder:n}).eq("id",t);return!l},ov="chatbot_documents",sa=()=>{try{return JSON.parse(localStorage.getItem(ov)||"[]")}catch{return[]}},To=t=>{try{localStorage.setItem(ov,JSON.stringify(t))}catch(n){console.error("localStorage full:",n)}},Xy=(t,n,r,l,o,u)=>{const c={id:crypto.randomUUID(),title:t,file_type:r,file_size:l,content:n.substring(0,1e5),chunk_count:Math.ceil(n.length/cl),tags:o,folder:u,created_at:new Date().toISOString()},d=sa();return d.unshift(c),To(d),c},Fy=()=>sa().map(t=>({...t,content:""})),qA=t=>sa().find(r=>r.id===t)?.content||"",$A=t=>{const n=sa().filter(r=>r.id!==t);To(n)},GA=async t=>{if(t.length===0)return"";const n=[];for(const r of t){const l=await BA(r);l&&n.push(l.substring(0,8e3))}return n.length===0?"":`

TI LIU THAM KHO:
${n.map((r,l)=>`--- Ti liu ${l+1} ---
${r}`).join(`

`)}`},VA=({isOpen:t,onClose:n,selectedDocIds:r,onSelectionChange:l})=>{const[o,u]=ue.useState([]),[c,d]=ue.useState(!1),[g,p]=ue.useState(""),[m,b]=ue.useState(""),[_,v]=ue.useState(!1),[T,C]=ue.useState(null),[z,R]=ue.useState(!1),[L,D]=ue.useState(""),[Q,te]=ue.useState(null),[I,X]=ue.useState(""),[fe,de]=ue.useState(""),xe=ue.useCallback(async()=>{const O=await LA();u(O)},[]);ue.useEffect(()=>{t&&xe()},[t,xe]);const re=ue.useMemo(()=>{const O=new Set;return o.forEach(Z=>{Z.folder&&O.add(Z.folder)}),Array.from(O).sort()},[o]),ne=ue.useMemo(()=>T===null?o:o.filter(O=>O.folder===T),[o,T]),Se=ue.useMemo(()=>{const O=new Set;return o.forEach(Z=>Z.tags?.forEach(W=>O.add(W))),Array.from(O).sort()},[o]),oe=async O=>{if(!(!O||O.length===0)){d(!0),b("");for(let Z=0;Z<O.length;Z++){const W=O[Z];try{p(`ang x l: ${W.name} (${Z+1}/${O.length})...`);const ae=await zA(W);if(!ae||ae.trim().length<10){b(`File "${W.name}" khng c ni dung text.`);continue}const ze=W.name.split(".").pop()?.toLowerCase()||"txt";p(`ang lu: ${W.name}...`),await UA(W.name.replace(/\.\w+$/,""),ae,ze,W.size,[],fe)}catch(ae){b(`Li "${W.name}": ${ae.message}`)}}p(""),d(!1),await xe()}},J=async O=>{confirm("Xa ti liu ny?")&&(await IA(O),l(r.filter(Z=>Z!==O)),await xe())},B=O=>{r.includes(O)?l(r.filter(Z=>Z!==O)):l([...r,O])},Y=()=>{const O=ne.map(W=>W.id);if(O.every(W=>r.includes(W)))l(r.filter(W=>!O.includes(W)));else{const W=new Set([...r,...O]);l(Array.from(W))}},le=()=>{L.trim()&&(C(L.trim()),de(L.trim()),D(""),R(!1))},Ee=async(O,Z)=>{await HA(O,Z),await xe()},E=async O=>{if(!I.trim())return;const W=[...o.find(ae=>ae.id===O)?.tags||[],I.trim()];await Yy(O,W),X(""),te(null),await xe()},A=async(O,Z)=>{const ae=(o.find(ze=>ze.id===O)?.tags||[]).filter(ze=>ze!==Z);await Yy(O,ae),await xe()},G=O=>{O.preventDefault(),v(!1),oe(O.dataTransfer.files)},S=O=>O<1024?`${O} B`:O<1024*1024?`${(O/1024).toFixed(1)} KB`:`${(O/(1024*1024)).toFixed(1)} MB`,ie=O=>{switch(O){case"pdf":return"";case"docx":case"doc":return"";default:return""}};if(!t)return null;const pe=ne.length>0&&ne.every(O=>r.includes(O.id));return x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col animate-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 shrink-0",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" Ti liu tham kho"}),x.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Upload & qun l ti liu theo th mc"})]}),x.jsx("button",{onClick:n,className:"p-1.5 hover:bg-gray-100 rounded-full",children:x.jsx(uo,{size:20})})]}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsxs("div",{className:"w-48 border-r border-gray-200 bg-gray-50 p-3 flex flex-col shrink-0 overflow-y-auto",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Th mc"}),x.jsxs("button",{onClick:()=>{C(null),de("")},className:`flex items-center gap-2 px-2.5 py-1.5 text-sm rounded-lg mb-1 transition-all w-full text-left ${T===null?"bg-indigo-100 text-indigo-700 font-medium":"text-gray-600 hover:bg-gray-200"}`,children:[x.jsx(sx,{size:15}),"Tt c (",o.length,")"]}),re.map(O=>{const Z=o.filter(W=>W.folder===O).length;return x.jsxs("button",{onClick:()=>{C(O),de(O)},className:`flex items-center gap-2 px-2.5 py-1.5 text-sm rounded-lg mb-1 transition-all w-full text-left ${T===O?"bg-indigo-100 text-indigo-700 font-medium":"text-gray-600 hover:bg-gray-200"}`,children:[x.jsx(Y_,{size:13}),x.jsx("span",{className:"truncate flex-1",children:O}),x.jsx("span",{className:"text-[10px] text-gray-400",children:Z})]},O)}),o.some(O=>!O.folder)&&x.jsxs("button",{onClick:()=>{C(""),de("")},className:`flex items-center gap-2 px-2.5 py-1.5 text-sm rounded-lg mb-1 transition-all w-full text-left ${T===""?"bg-indigo-100 text-indigo-700 font-medium":"text-gray-500 hover:bg-gray-200"}`,children:[x.jsx(mm,{size:13}),x.jsx("span",{className:"truncate flex-1 italic",children:"Cha phn loi"}),x.jsx("span",{className:"text-[10px] text-gray-400",children:o.filter(O=>!O.folder).length})]}),z?x.jsxs("div",{className:"mt-2 space-y-1",children:[x.jsx("input",{type:"text",value:L,onChange:O=>D(O.target.value),onKeyDown:O=>O.key==="Enter"&&le(),placeholder:"Tn th mc...",className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded-lg focus:ring-1 focus:ring-indigo-500",autoFocus:!0}),x.jsxs("div",{className:"flex gap-1",children:[x.jsx("button",{onClick:le,className:"flex-1 px-2 py-1 text-xs bg-indigo-600 text-white rounded-md",children:"To"}),x.jsx("button",{onClick:()=>R(!1),className:"flex-1 px-2 py-1 text-xs bg-gray-200 rounded-md",children:"Hy"})]})]}):x.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-1.5 px-2.5 py-1.5 mt-2 text-xs text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors w-full",children:[x.jsx(ux,{size:13}),"Thm th mc"]}),Se.length>0&&x.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Ch "}),x.jsx("div",{className:"flex flex-wrap gap-1",children:Se.map(O=>x.jsx("span",{className:"px-1.5 py-0.5 text-[10px] bg-amber-100 text-amber-700 rounded-full font-medium",children:O},O))})]})]}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsxs("div",{className:"p-3 border-b border-gray-100 shrink-0",children:[x.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 border-dashed rounded-xl cursor-pointer transition-all ${_?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50"}`,onDragOver:O=>{O.preventDefault(),v(!0)},onDragLeave:()=>v(!1),onDrop:G,children:[c?x.jsxs(x.Fragment,{children:[x.jsx(Wy,{size:24,className:"text-indigo-600 animate-spin mb-1"}),x.jsx("p",{className:"text-xs text-indigo-600 font-medium",children:g})]}):x.jsxs(x.Fragment,{children:[x.jsx(Ix,{size:24,className:"text-gray-400 mb-1"}),x.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Ko th hoc nhn chn file"}),x.jsxs("p",{className:"text-[10px] text-gray-400 mt-0.5",children:["PDF, DOCX, TXT",fe&&x.jsxs("span",{className:"text-indigo-600",children:["  ",fe]})]})]}),x.jsx("input",{type:"file",multiple:!0,accept:".pdf,.docx,.doc,.txt,.md",className:"hidden",onChange:O=>oe(O.target.files),disabled:c})]}),m&&x.jsxs("div",{className:"flex items-start gap-2 mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:[x.jsx(F_,{size:14,className:"text-red-500 shrink-0 mt-0.5"}),x.jsx("p",{className:"text-[11px] text-red-600",children:m})]})]}),x.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border-b border-gray-100 shrink-0",children:[x.jsxs("button",{onClick:Y,className:`flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-lg transition-all ${pe?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[pe?x.jsx(kx,{size:14}):x.jsx(Cx,{size:14}),pe?"B chn tt c":"Chn tt c"]}),x.jsx("div",{className:"flex-1"}),x.jsxs("span",{className:"text-[11px] text-gray-400",children:[ne.length," ti liu  ",r.length," ang chn"]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:ne.length===0?x.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[x.jsx(mm,{size:40,className:"text-gray-300 mb-2"}),x.jsx("p",{className:"text-gray-500 font-medium text-sm",children:T!==null?`Th mc "${T||"Cha phn loi"}" trng`:"Cha c ti liu no"}),x.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Upload ti liu  chatbot tham kho"})]}):x.jsx("div",{className:"space-y-2",children:ne.map(O=>{const Z=r.includes(O.id);return x.jsxs("div",{className:`rounded-xl border-2 transition-all ${Z?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[x.jsxs("div",{className:"flex items-center gap-2.5 p-3 cursor-pointer",onClick:()=>B(O.id),children:[x.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center shrink-0 border-2 transition-all ${Z?"bg-indigo-600 border-indigo-600":"border-gray-300"}`,children:Z&&x.jsx(yo,{size:12,className:"text-white"})}),x.jsx("span",{className:"text-lg",children:ie(O.file_type)}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:O.title}),x.jsxs("p",{className:"text-[11px] text-gray-400 mt-0.5",children:[O.file_type.toUpperCase(),"  ",S(O.file_size),O.folder&&x.jsxs("span",{className:"text-indigo-500",children:["   ",O.folder]})]})]}),x.jsxs("div",{className:"flex items-center gap-1 shrink-0",onClick:W=>W.stopPropagation(),children:[x.jsxs("select",{value:O.folder||"",onChange:W=>Ee(O.id,W.target.value),className:"text-[10px] px-1.5 py-1 border border-gray-200 rounded-md bg-white text-gray-500 cursor-pointer",title:"Di chuyn n th mc",children:[x.jsx("option",{value:"",children:" --"}),re.map(W=>x.jsx("option",{value:W,children:W},W))]}),x.jsx("button",{onClick:()=>te(Q===O.id?null:O.id),className:"p-1 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded transition-colors",title:"Thm ch ",children:x.jsx(jx,{size:13})}),x.jsx("button",{onClick:()=>J(O.id),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",children:x.jsx(i0,{size:13})})]})]}),(O.tags?.length>0||Q===O.id)&&x.jsxs("div",{className:"px-3 pb-2 flex flex-wrap items-center gap-1 ml-8",children:[O.tags?.map(W=>x.jsxs("span",{className:"inline-flex items-center gap-0.5 px-2 py-0.5 text-[10px] bg-amber-100 text-amber-700 rounded-full font-medium group",children:[W,x.jsx("button",{onClick:()=>A(O.id,W),className:"ml-0.5 text-amber-400 hover:text-red-500",children:""})]},W)),Q===O.id&&x.jsxs("div",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"text",value:I,onChange:W=>X(W.target.value),onKeyDown:W=>W.key==="Enter"&&E(O.id),placeholder:"Ch ...",className:"w-20 px-1.5 py-0.5 text-[10px] border border-amber-300 rounded-md focus:ring-1 focus:ring-amber-400",autoFocus:!0}),x.jsx("button",{onClick:()=>E(O.id),className:"p-0.5 bg-amber-500 text-white rounded",children:x.jsx(e0,{size:10})})]})]})]},O.id)})})})]})]}),x.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-between items-center shrink-0",children:[r.length>0&&x.jsxs("p",{className:"text-xs text-indigo-600 font-medium",children:[" ",r.length," ti liu s c chatbot tham kho"]}),x.jsx("div",{className:"flex-1"}),x.jsx("button",{onClick:n,className:"px-5 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 text-sm",children:"Xong"})]})]})})},KA=(t,n)=>{const r=new Date().toLocaleDateString("vi-VN");let l=`# ${t}
> Xut ngy: ${r}

---

`;for(const o of n){const u=new Date(o.timestamp).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"});o.role==="user"?l+=`###  Bn (${u})
${o.text}

---

`:l+=`###  Tr l GV (${u})
${o.text}

---

`}return l},PA=(t,n)=>{const r=KA(t,n),l=new Blob([r],{type:"text/markdown;charset=utf-8"}),o=URL.createObjectURL(l),u=document.createElement("a");u.href=o,u.download=`${uv(t)}.md`,u.click(),URL.revokeObjectURL(o)},YA=async(t,n)=>{const{Document:r,Packer:l,Paragraph:o,TextRun:u,HeadingLevel:c,BorderStyle:d,AlignmentType:g}=await lf(async()=>{const{Document:C,Packer:z,Paragraph:R,TextRun:L,HeadingLevel:D,BorderStyle:Q,AlignmentType:te}=await import("./index-C50-Ihwa.js");return{Document:C,Packer:z,Paragraph:R,TextRun:L,HeadingLevel:D,BorderStyle:Q,AlignmentType:te}},[]),p=new Date().toLocaleDateString("vi-VN"),m=[new o({text:t,heading:c.TITLE,alignment:g.CENTER,spacing:{after:200}}),new o({children:[new u({text:`Xut ngy: ${p}`,italics:!0,color:"888888",size:20})],alignment:g.CENTER,spacing:{after:400}}),new o({border:{bottom:{style:d.SINGLE,size:1,color:"CCCCCC"}},spacing:{after:200}})];for(const C of n){const z=new Date(C.timestamp).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),R=C.role==="user",L=R?` Bn (${z})`:` Tr l GV (${z})`;m.push(new o({children:[new u({text:L,bold:!0,size:24,color:R?"4F46E5":"059669"})],spacing:{before:300,after:100}}));const D=C.text.split(`
`);for(const Q of D){const te=Q.trim();if(te.startsWith("### "))m.push(new o({text:te.replace(/^###\s*/,""),heading:c.HEADING_3,spacing:{before:100,after:50}}));else if(te.startsWith("## "))m.push(new o({text:te.replace(/^##\s*/,""),heading:c.HEADING_2,spacing:{before:150,after:50}}));else if(te.startsWith("# "))m.push(new o({text:te.replace(/^#\s*/,""),heading:c.HEADING_1,spacing:{before:200,after:100}}));else if(te.startsWith("- ")||te.startsWith("* "))m.push(new o({children:[new u({text:" "+te.substring(2),size:22})],indent:{left:360},spacing:{after:50}}));else if(/^\d+\.\s/.test(te))m.push(new o({children:[new u({text:te,size:22})],indent:{left:360},spacing:{after:50}}));else if(te.startsWith("**")&&te.endsWith("**"))m.push(new o({children:[new u({text:te.replace(/\*\*/g,""),bold:!0,size:22})],spacing:{after:50}}));else if(te==="")m.push(new o({text:"",spacing:{after:50}}));else{const I=XA(te);m.push(new o({children:I.map(X=>new u({text:X.text,bold:X.bold,size:22})),spacing:{after:50}}))}}m.push(new o({border:{bottom:{style:d.SINGLE,size:1,color:"EEEEEE"}},spacing:{before:100,after:200}}))}const b=new r({sections:[{properties:{page:{margin:{top:1e3,right:1e3,bottom:1e3,left:1e3}}},children:m}]}),_=await l.toBlob(b),v=URL.createObjectURL(_),T=document.createElement("a");T.href=v,T.download=`${uv(t)}.docx`,T.click(),URL.revokeObjectURL(v)};function uv(t){return t.replace(/[<>:"/\\|?*]/g,"_").substring(0,100)}function XA(t){const n=[],r=/\*\*(.*?)\*\*/g;let l=0,o;for(;(o=r.exec(t))!==null;)o.index>l&&n.push({text:t.substring(l,o.index),bold:!1}),n.push({text:o[1],bold:!0}),l=o.index+o[0].length;return l<t.length&&n.push({text:t.substring(l),bold:!1}),n.length>0?n:[{text:t,bold:!1}]}const FA=(t,n)=>`Bn l tr l AI thng minh v ton din dnh cho gio vin Vit Nam.

## VAI TR
Bn l mt chuyn gia gio dc, c th:
- H tr son gio n, bi ging,  kim tra
- T vn phng php ging dy hin i
- Gi  cng c AI, phn mm, website hu ch t BT K ngun no (Google, Microsoft, Canva, Quizlet, Kahoot, ChatGPT, v.v.)
- Phn tch, tm tt, gii thch ti liu gio dc
- Tr li cu hi chuyn mn lin quan n vic dy v hc

## NGUYN TC
1. **a dng ngun**: KHNG gii hn gi   mt h thng/website c th no. Hy gi  cng c/ti nguyn TT NHT t mi ngun (min ph, c ph u c - u tin min ph).
2. **Thc t**:  xut gii php thc t, d p dng cho gio vin Vit Nam.
3. **Cp nht**: u tin kin thc mi nht v gio dc, chng trnh 2018, cng ngh gio dc.
4. **Linh hot**: Nu gio vin  upload ti liu, hy tham kho v s dng ni dung  mt cch thng minh khi cu hi lin quan.
${n?"5. **Ti liu**: Gio vin  cung cp ti liu tham kho bn di. Hy S DNG LINH HOT ni dung ny khi tr li - trch dn, phn tch, tm tt theo yu cu.":""}

## PROFILE GIO VIN
- Tn: ${t.name}
- Mn: ${t.subject}
- Cp: ${t.school_level}
${t.school_name?`- Trng: ${t.school_name}`:""}

## NH DNG TR LI
- S dng Markdown p mt (heading, bullet, bold, code block)
- Khi gi  cng c/website, lun km **link trc tip** nu c
- Vi mi gi , nu r: u im, cch s dng,  ph hp
- Tr li bng ting Vit thn thin, chuyn nghip, d hiu`;function QA(){const[t,n]=ue.useState(!0),[r,l]=ue.useState(null),[o,u]=ue.useState(!1),[c,d]=ue.useState(!1),[g,p]=ue.useState([]),[m,b]=ue.useState(null),[_,v]=ue.useState([]),[T,C]=ue.useState(!1),[z,R]=ue.useState(!1),[L,D]=ue.useState(fo()),[Q,te]=ue.useState(!1),[I,X]=ue.useState([]),[fe,de]=ue.useState(""),[xe,re]=ue.useState(!1),[ne,Se]=ue.useState(!1);ue.useEffect(()=>{const O=F2(),Z=OA();if(!O)u(!0);else if(Z){l(Z);const W=nf();if(W.length>0){p(W);const ae=W[0].id;b(ae),v(lh(ae))}else{const ae=Date.now().toString(),ze={id:ae,title:"Cho mng",created_at:new Date().toISOString()},et={id:"welcome",role:"model",text:`Cho thy/c ${Z.name}! Ti c th gip g cho thy/c hm nay?`,timestamp:new Date().toISOString()};p([ze]),b(ae),v([et]),_i([ze]),Ws(ae,[et])}}n(!1)},[]),ue.useEffect(()=>{m&&_.length>0&&Ws(m,_)},[_,m]);const oe=(O,Z,W,ae)=>{by(O),Z&&W&&Py(Z,W),NA(ae),l(ae),u(!1);const ze=Date.now().toString(),et={id:ze,title:"Cuc tr chuyn mi",created_at:new Date().toISOString()},Et={id:"welcome_setup",role:"model",text:`Cho ${ae.name}! H thng  sn sng. `,timestamp:new Date().toISOString()};p([et]),b(ze),v([Et]),_i([et]),Ws(ze,[Et])},J=O=>{K0(O),D(O)},B=async O=>{if(!r||!m)return;const Z={id:Date.now().toString(),role:"user",text:O,timestamp:new Date().toISOString()};if(v(ae=>[...ae,Z]),C(!0),_.filter(ae=>ae.role==="user").length===0){const ae=h2(O);p(ze=>{const et=ze.map(Et=>Et.id===m?{...Et,title:ae}:Et);return _i(et),et})}try{const ae=await GA(I),et=[{role:"user",parts:[{text:FA(r,I.length>0)+ae}]},{role:"model",parts:[{text:"Ti  hiu thng tin v ti liu tham kho. Ti sn sng h tr bn."}]},..._.map(Rt=>({role:Rt.role==="user"?"user":"model",parts:[{text:Rt.text}]}))],Et=await Q2(et,O),Zi={id:(Date.now()+1).toString(),role:"model",text:Et,timestamp:new Date().toISOString()};v(Rt=>[...Rt,Zi])}catch(ae){console.error(ae);const ze=ae?.message||"Li khng xc nh",et={id:(Date.now()+1).toString(),role:"model",text:`** Li:** ${ze}

Vui lng kim tra:
- API Key c ng khng?
- Kt ni mng c n khng?
- API Key  ht quota cha?

 Nhn nt **Settings (API Key)** trn Header  cp nht.`,timestamp:new Date().toISOString()};v(Et=>[...Et,et])}finally{C(!1)}},Y=()=>{const O=Date.now().toString(),Z={id:O,title:"Cuc tr chuyn mi",created_at:new Date().toISOString()};p(W=>{const ae=[Z,...W];return _i(ae),ae}),b(O),v([]),window.innerWidth<768&&R(!1)},le=ue.useCallback(O=>{m&&_.length>0&&Ws(m,_),b(O),v(lh(O)),R(!1)},[m,_]),Ee=ue.useCallback(O=>{u2(O),p(Z=>{const W=Z.filter(ae=>ae.id!==O);return _i(W),O===m&&(W.length>0?(b(W[0].id),v(lh(W[0].id))):Y()),W})},[m]),E=ue.useCallback((O,Z)=>{c2(O,Z),p(W=>{const ae=W.map(ze=>ze.id===O?{...ze,title:Z}:ze);return _i(ae),ae})},[]),A=ue.useCallback(O=>{const Z=g.find(W=>W.id===m);f2(m||"",Z?.title||"",O)},[m,g]),G=ue.useCallback(O=>{d2(O)},[]),S=()=>{const O=g.find(Z=>Z.id===m);PA(O?.title||"chat",_),Se(!1)},ie=async()=>{const O=g.find(Z=>Z.id===m);await YA(O?.title||"chat",_),Se(!1)},pe=fe.trim()?g.filter(O=>O.title.toLowerCase().includes(fe.toLowerCase())):g;return t?x.jsx("div",{className:"h-screen flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):x.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 overflow-hidden",children:[x.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 gap-3 shrink-0 z-30",children:[x.jsx("button",{onClick:()=>R(!z),className:"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-lg md:hidden",children:x.jsx(dx,{size:22})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(W_,{size:20,className:"text-indigo-600"}),x.jsx("span",{className:"font-bold text-gray-900",children:"Tr l GV"})]}),x.jsx("div",{className:"hidden sm:flex items-center gap-1 ml-4 bg-gray-100 rounded-lg p-0.5",children:kh().map(O=>x.jsx("button",{onClick:()=>J(O),className:`px-2.5 py-1 text-xs font-medium rounded-md transition-all ${L===O?"bg-indigo-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:O.replace("gemini-","").replace("-preview","")},O))}),x.jsx("div",{className:"flex-1"}),_.length>0&&x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>Se(!ne),className:"flex items-center gap-1.5 px-3 py-1.5 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg transition-colors text-xs font-medium",children:[x.jsx(tx,{size:15}),x.jsx("span",{className:"hidden sm:inline",children:"Ti xung"})]}),ne&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Se(!1)}),x.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-50 w-52 py-1 animate-in fade-in slide-in-from-top-2 duration-150",children:[x.jsxs("button",{onClick:S,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[x.jsx("span",{className:"text-lg",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-gray-900",children:"Markdown (.md)"}),x.jsx("div",{className:"text-xs text-gray-500",children:"Dng vn bn thun"})]})]}),x.jsxs("button",{onClick:ie,className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[x.jsx("span",{className:"text-lg",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-gray-900",children:"Word (.docx)"}),x.jsx("div",{className:"text-xs text-gray-500",children:"C nh dng p"})]})]})]})]})]}),x.jsxs("button",{onClick:()=>te(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-50 hover:bg-emerald-100 text-emerald-700 rounded-lg transition-colors text-xs font-medium",children:[x.jsx(rx,{size:15}),x.jsx("span",{className:"hidden sm:inline",children:"Ti liu"}),I.length>0&&x.jsx("span",{className:"bg-emerald-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:I.length})]}),x.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors group",children:[x.jsx(Zy,{size:16,className:"text-gray-500 group-hover:text-indigo-600"}),x.jsx("span",{className:"text-xs font-medium text-red-500 hidden sm:inline",children:"Ly API key  s dng app"}),x.jsx(t0,{size:14,className:"text-gray-400"})]})]}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[z&&x.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>R(!1)}),x.jsx("div",{className:`fixed inset-y-0 left-0 top-14 z-50 w-80 bg-white transform transition-transform duration-300 ease-in-out md:relative md:top-0 md:transform-none ${z?"translate-x-0":"-translate-x-full"}`,children:x.jsx($x,{profile:r,history:pe,currentChatId:m,onNewChat:Y,onSelectChat:le,onDeleteChat:Ee,onOpenSettings:()=>d(!0),onRenameChat:E,searchQuery:fe,onSearchChange:de,onShowBookmarks:()=>re(!0)})}),x.jsxs("div",{className:"flex-1 flex flex-col h-full relative",children:[x.jsx("div",{className:"sm:hidden flex items-center gap-1 px-3 py-2 bg-white border-b border-gray-100 overflow-x-auto",children:kh().map(O=>x.jsx("button",{onClick:()=>J(O),className:`px-2.5 py-1 text-xs font-medium rounded-md whitespace-nowrap transition-all ${L===O?"bg-indigo-600 text-white shadow-sm":"text-gray-500 bg-gray-100 hover:bg-gray-200"}`,children:O.replace("gemini-","").replace("-preview","")},O))}),x.jsx(m2,{messages:_,isTyping:T,onSendMessage:B,userName:r?.name||"",onBookmark:A})]})]}),o&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-50 bg-white"}),x.jsx(y2,{onSubmit:oe})]}),x.jsx(J2,{isOpen:c,onClose:()=>d(!1),onSave:(O,Z,W)=>{by(O),Z&&W&&Py(Z,W)}}),x.jsx(VA,{isOpen:Q,onClose:()=>te(!1),selectedDocIds:I,onSelectionChange:X}),xe&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>re(!1),children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",onClick:O=>O.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" Tin nhn  lu"}),x.jsx("button",{onClick:()=>re(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:x.jsx("span",{className:"text-gray-500 text-xl",children:""})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:vl().length===0?x.jsxs("div",{className:"text-center py-12 text-gray-400",children:[x.jsx("p",{className:"text-4xl mb-3",children:""}),x.jsx("p",{children:"Cha c tin nhn no c ghim."}),x.jsx("p",{className:"text-sm mt-1",children:"Nhn nt  trn tin nhn AI  ghim."})]}):vl().map(O=>x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-xs font-medium text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-full",children:O.sessionTitle}),x.jsx("span",{className:"text-xs text-gray-400 ml-2",children:new Date(O.bookmarkedAt).toLocaleDateString("vi-VN")})]}),x.jsx("button",{onClick:()=>{G(O.message.id),re(!1),setTimeout(()=>re(!0),50)},className:"text-xs text-red-400 hover:text-red-600 px-2 py-1 rounded hover:bg-red-50 transition-colors",children:"B ghim"})]}),x.jsxs("p",{className:"text-sm text-gray-700 line-clamp-4 whitespace-pre-wrap",children:[O.message.text.substring(0,300),O.message.text.length>300?"...":""]})]},O.id))})]})})]})}D_.createRoot(document.getElementById("root")).render(x.jsx(ue.StrictMode,{children:x.jsx(QA,{})}));export{Lh as a,JA as c,ZA as g};
